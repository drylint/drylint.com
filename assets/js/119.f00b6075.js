(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{324:function(s,t,a){"use strict";a.r(t);var e=a(6),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"react官方脚手架create-react-app"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#react官方脚手架create-react-app"}},[s._v("#")]),s._v(" React官方脚手架create-react-app")]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#开始使用"}},[s._v("开始使用")]),t("ul",[t("li",[t("a",{attrs:{href:"#选择模版"}},[s._v("选择模版")])]),t("li",[t("a",{attrs:{href:"#文件目录结构"}},[s._v("文件目录结构")])]),t("li",[t("a",{attrs:{href:"#支持的浏览器及功能"}},[s._v("支持的浏览器及功能")])]),t("li",[t("a",{attrs:{href:"#升级更新"}},[s._v("升级更新")])])])]),t("li",[t("a",{attrs:{href:"#开发阶段相关配置"}},[s._v("开发阶段相关配置")]),t("ul",[t("li",[t("a",{attrs:{href:"#eslint-代码检查"}},[s._v("ESLint 代码检查")])]),t("li",[t("a",{attrs:{href:"#断点调试"}},[s._v("断点调试")]),t("ul",[t("li",[t("a",{attrs:{href:"#在-visual-studio-code-中调试"}},[s._v("在 Visual Studio Code 中调试")])])])]),t("li",[t("a",{attrs:{href:"#开发模式下使用-https"}},[s._v("开发模式下使用 HTTPS")]),t("ul",[t("li",[t("a",{attrs:{href:"#使用自签名证书"}},[s._v("使用自签名证书")]),t("ul",[t("li",[t("a",{attrs:{href:"#windows-cmd-exe"}},[s._v("Windows (cmd.exe)")])]),t("li",[t("a",{attrs:{href:"#windows-powershell"}},[s._v("Windows (Powershell)")])]),t("li",[t("a",{attrs:{href:"#linux-macos-bash"}},[s._v("Linux, macOS (Bash)")])])])]),t("li",[t("a",{attrs:{href:"#使用自己的证书"}},[s._v("使用自己的证书")])])])])])]),t("li",[t("a",{attrs:{href:"#样式和资源文件"}},[s._v("样式和资源文件")]),t("ul",[t("li",[t("a",{attrs:{href:"#增加-css-样式文件"}},[s._v("增加 CSS 样式文件")])]),t("li",[t("a",{attrs:{href:"#css-模块化-限制作用范围"}},[s._v("CSS 模块化 限制作用范围")])]),t("li",[t("a",{attrs:{href:"#使用-css-预处理器"}},[s._v("使用 CSS 预处理器")]),t("ul",[t("li",[t("a",{attrs:{href:"#sass-scss"}},[s._v("Sass/SCSS")])])])]),t("li",[t("a",{attrs:{href:"#添加-css-重置"}},[s._v("添加 CSS 重置")])]),t("li",[t("a",{attrs:{href:"#css-后处理"}},[s._v("CSS 后处理")])]),t("li",[t("a",{attrs:{href:"#使用图片-字体-文件等"}},[s._v("使用图片，字体，文件等")])]),t("li",[t("a",{attrs:{href:"#加载-graphql-文件"}},[s._v("加载 .graphql 文件")])]),t("li",[t("a",{attrs:{href:"#使用-public-目录"}},[s._v("使用 public 目录")]),t("ul",[t("li",[t("a",{attrs:{href:"#在-public-目录添加其他资源文件"}},[s._v("在 public 目录添加其他资源文件")])]),t("li",[t("a",{attrs:{href:"#可以使用-public-的情况"}},[s._v("可以使用 public 的情况")])])])]),t("li",[t("a",{attrs:{href:"#代码分割"}},[s._v("代码分割")]),t("ul",[t("li",[t("a",{attrs:{href:"#在-react-router-中使用代码分割"}},[s._v("在 React Router 中使用代码分割")])])])])])]),t("li",[t("a",{attrs:{href:"#构建应用"}},[s._v("构建应用")]),t("ul",[t("li",[t("a",{attrs:{href:"#导入组件"}},[s._v("导入组件")]),t("ul",[t("li",[t("a",{attrs:{href:"#使用绝对路径导入"}},[s._v("使用绝对路径导入")])])])]),t("li",[t("a",{attrs:{href:"#使用-typescript"}},[s._v("使用 TypeScript")])]),t("li",[t("a",{attrs:{href:"#使用-router"}},[s._v("使用 Router")])]),t("li",[t("a",{attrs:{href:"#添加自定义环境变量"}},[s._v("添加自定义环境变量")]),t("ul",[t("li",[t("a",{attrs:{href:"#在-env-文件中定义环境变量"}},[s._v("在 .env 文件中定义环境变量")])]),t("li",[t("a",{attrs:{href:"#在命令中定义环境变量"}},[s._v("在命令中定义环境变量")])]),t("li",[t("a",{attrs:{href:"#在-env-文件中使用机器上的其他变量"}},[s._v("在 .env 文件中使用机器上的其他变量")])])])]),t("li",[t("a",{attrs:{href:"#制作一个-progressive-web-app"}},[s._v("制作一个 Progressive Web App")])]),t("li",[t("a",{attrs:{href:"#性能评估"}},[s._v("性能评估")])])])]),t("li",[t("a",{attrs:{href:"#测试"}},[s._v("测试")])]),t("li",[t("a",{attrs:{href:"#后端相关"}},[s._v("后端相关")]),t("ul",[t("li",[t("a",{attrs:{href:"#在开发模式下代理-api"}},[s._v("在开发模式下代理 api")]),t("ul",[t("li",[t("a",{attrs:{href:"#自定义代理配置"}},[s._v("自定义代理配置")])])])])])]),t("li",[t("a",{attrs:{href:"#进阶用法"}},[s._v("进阶用法")]),t("ul",[t("li",[t("a",{attrs:{href:"#自定义项目模版"}},[s._v("自定义项目模版")]),t("ul",[t("li",[t("a",{attrs:{href:"#构建自定义模版"}},[s._v("构建自定义模版")])])])]),t("li",[t("a",{attrs:{href:"#能否使用-decorators-装饰器"}},[s._v("能否使用 decorators (装饰器)")])]),t("li",[t("a",{attrs:{href:"#预渲染到静态html文件"}},[s._v("预渲染到静态HTML文件")])]),t("li",[t("a",{attrs:{href:"#进阶配置"}},[s._v("进阶配置")]),t("ul",[t("li",[t("a",{attrs:{href:"#browser-开发环境-指定项目启动时打开的浏览器"}},[s._v("BROWSER 开发环境，指定项目启动时打开的浏览器")])]),t("li",[t("a",{attrs:{href:"#browser-args-开发环境-要传递给-browser-的参数"}},[s._v("BROWSER_ARGS 开发环境，要传递给 BROWSER 的参数")])]),t("li",[t("a",{attrs:{href:"#host-开发环境-主机名"}},[s._v("HOST 开发环境，主机名")])]),t("li",[t("a",{attrs:{href:"#port-开发环境-指定开发服务器的端口"}},[s._v("PORT 开发环境，指定开发服务器的端口")])]),t("li",[t("a",{attrs:{href:"#https-开发环境-以-https-模式运行开发服务器"}},[s._v("HTTPS 开发环境，以 https 模式运行开发服务器")])]),t("li",[t("a",{attrs:{href:"#wds-socket-host-开发环境-指定自定义的-websocket-主机名"}},[s._v("WDS_SOCKET_HOST 开发环境，指定自定义的 websocket 主机名")])]),t("li",[t("a",{attrs:{href:"#wds-socket-path-开发环境-指定自定义的-websocket-路径"}},[s._v("WDS_SOCKET_PATH 开发环境，指定自定义的 websocket 路径")])]),t("li",[t("a",{attrs:{href:"#wds-socket-port-开发环境-指定自定义的-websocket-端口"}},[s._v("WDS_SOCKET_PORT 开发环境，指定自定义的 websocket 端口")])]),t("li",[t("a",{attrs:{href:"#public-url-开发-生产环境-指定服务器资源存放路径"}},[s._v("PUBLIC_URL 开发&生产环境，指定服务器资源存放路径")])]),t("li",[t("a",{attrs:{href:"#build-path-生产环境-指定打包构建的存放目录-默认-build"}},[s._v("BUILD_PATH 生产环境，指定打包构建的存放目录，默认 /build")])]),t("li",[t("a",{attrs:{href:"#ci-开发-生产环境-是否启用-ci-控制"}},[s._v("CI 开发&生产环境，是否启用 CI 控制")])]),t("li",[t("a",{attrs:{href:"#react-editor-开发环境-设置编辑器检测功能"}},[s._v("REACT_EDITOR 开发环境，设置编辑器检测功能")])]),t("li",[t("a",{attrs:{href:"#chokidar-usepolling-开发环境-是否启用轮询进行热更新检测-默认-false"}},[s._v("CHOKIDAR_USEPOLLING 开发环境，是否启用轮询进行热更新检测，默认 false")])]),t("li",[t("a",{attrs:{href:"#generate-sourcemap-生产环境-是否生成生产环境下的-sourcemap-源码映射-默认-true"}},[s._v("GENERATE_SOURCEMAP 生产环境，是否生成生产环境下的 SOURCEMAP 源码映射，默认 true")])]),t("li",[t("a",{attrs:{href:"#inline-runtime-chunk-生产环境-是否将运行时嵌入到-index-html-中-默认-true"}},[s._v("INLINE_RUNTIME_CHUNK 生产环境，是否将运行时嵌入到 index.html 中，默认 true")])]),t("li",[t("a",{attrs:{href:"#image-inline-size-limit-生产环境-设置图片被转为-base64-编码的阈值-默认-10000-字节"}},[s._v("IMAGE_INLINE_SIZE_LIMIT 生产环境，设置图片被转为 base64 编码的阈值，默认 10000 (字节)")])]),t("li",[t("a",{attrs:{href:"#fast-refresh-开发环境-是否启用-fast-refresh-快速刷新功能-默认-true"}},[s._v("FAST_REFRESH 开发环境，是否启用 FAST_REFRESH 快速刷新功能，默认 true")])]),t("li",[t("a",{attrs:{href:"#tsc-compile-on-error-开发-生产环境-是否在-typescript-检测到类型错误时中断编译-默认-false"}},[s._v("TSC_COMPILE_ON_ERROR 开发&生产环境，是否在 TypeScript 检测到类型错误时中断编译，默认 false")])]),t("li",[t("a",{attrs:{href:"#eslint-no-dev-errors-开发环境-是否禁用-eslint-在开发环境下报告错误-只报告警告-默认-false"}},[s._v("ESLINT_NO_DEV_ERRORS 开发环境，是否禁用 ESLint 在开发环境下报告错误（只报告警告），默认 false")])]),t("li",[t("a",{attrs:{href:"#disable-eslint-plugin-开发-生产环境-是否禁用-eslint-webpack-plugin"}},[s._v("DISABLE_ESLINT_PLUGIN 开发&生产环境，是否禁用 eslint-webpack-plugin")])]),t("li",[t("a",{attrs:{href:"#disable-new-jsx-transform-开发-生产环境-是否禁用-react-17-推出的新的-jsx-转换"}},[s._v("DISABLE_NEW_JSX_TRANSFORM 开发&生产环境，是否禁用 React 17 推出的新的 JSX 转换")])])])]),t("li",[t("a",{attrs:{href:"#弹出-eject-配置的替代方式"}},[s._v("弹出(eject)配置的替代方式")]),t("ul",[t("li",[t("a",{attrs:{href:"#方式一-react-app-rewired-customize-cra"}},[s._v("方式一：react-app-rewired + customize-cra")])]),t("li",[t("a",{attrs:{href:"#方式二-craco"}},[s._v("方式二： craco")])])])])])])])]),t("p"),s._v(" "),t("p",[t("a",{attrs:{href:"https://create-react-app.dev/docs/getting-started",target:"_blank",rel:"noopener noreferrer"}},[s._v("create-react-app官方文档"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"开始使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始使用"}},[s._v("#")]),s._v(" 开始使用")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建项目，会创建一个自命名的项目目录")]),s._v("\nnpx create-react-app "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("项目名称"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入项目目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("项目名称"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开始开发，以开发模式启动项目，默认地址为 http://localhost:3000/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" start\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开发完成后，以生产模式打包项目，用于发布上线")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("不建议使用 "),t("code",[s._v("npm install -g create-react-app")]),s._v(" 全局安装到本地，如果已安装，建议执行 "),t("code",[s._v("npm uninstall -g create-react-app")]),s._v(" 进行卸载。")]),s._v(" "),t("h3",{attrs:{id:"选择模版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选择模版"}},[s._v("#")]),s._v(" 选择模版")]),s._v(" "),t("p",[s._v("默认情况下，创建的项目使用默认模版，如果想使用其他的模版，使用")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("npx create-react-app "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("项目名称"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--template")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("模版名称"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 比如，使用 typescript 项目模版")]),s._v("\nnpx create-react-app my-app "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--template")]),s._v(" typescript\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等同于")]),s._v("\nnpx create-react-app my-app "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--template")]),s._v(" cra-template-typescript\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("项目模版都是使用 "),t("code",[s._v("cra-template-")]),s._v(" 开头，但是在创建项目使用模版时，可以省略此前缀，"),t("a",{attrs:{href:"https://www.npmjs.com/search?q=cra-template-*",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击查看可用的模版"),t("OutboundLink")],1),s._v("，默认的模版其实就是 "),t("code",[s._v("cra-template")]),s._v(" 。")]),s._v(" "),t("h3",{attrs:{id:"文件目录结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件目录结构"}},[s._v("#")]),s._v(" 文件目录结构")]),s._v(" "),t("p",[s._v("默认模版创建项目后，目录结构是这样的：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("my-app/\n  README.md\n  node_modules/\n  package.json\n  public/\n    index.html\n    favicon.ico\n  src/\n    App.css\n    App.js\n    App.test.js\n    index.css\n    index.js\n    logo.svg\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("以下文件必须存在：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("public/index.html")]),s._v(" 是页面模本；")]),s._v(" "),t("li",[t("code",[s._v("src/index.js")]),s._v(" 是入口文件。")])]),s._v(" "),t("p",[s._v("其他文件都可修改或删除。")]),s._v(" "),t("p",[s._v("所有需要打包构建的项目代码都需要放在 "),t("code",[s._v("src")]),s._v(" 目录内，可以在 "),t("code",[s._v("src")]),s._v(" 目录内自行嵌套任意目录。")]),s._v(" "),t("p",[s._v("如果要在 "),t("code",[s._v("public/index.html")]),s._v(" 中直接引用一些文件，则这些文件必须放在 "),t("code",[s._v("public")]),s._v(" 目录内。")]),s._v(" "),t("p",[s._v("可以自己创建一些和 "),t("code",[s._v("src")]),s._v(" 同级的顶级目录，这些目录不会被打包构建，比如用于存放文档。")]),s._v(" "),t("h3",{attrs:{id:"支持的浏览器及功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#支持的浏览器及功能"}},[s._v("#")]),s._v(" 支持的浏览器及功能")]),s._v(" "),t("p",[s._v("默认，在 "),t("code",[s._v("package.json")]),s._v(" 中，有 "),t("code",[s._v("browserslist")]),s._v(" 字段，默认值为：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"browserslist"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"production"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('">0.2%"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not dead"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not op_mini all"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"development"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 1 chrome version"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 1 firefox version"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 1 safari version"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("可以自行修改以支持更多浏览器，也可以删除此字段，然后在根目录创建 "),t("code",[s._v(".browserslistrc")]),s._v(" 文件来指定， "),t("a",{attrs:{href:"https://github.com/browserslist/browserslist",target:"_blank",rel:"noopener noreferrer"}},[s._v("查看详情"),t("OutboundLink")],1),s._v(" 。")]),s._v(" "),t("h3",{attrs:{id:"升级更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#升级更新"}},[s._v("#")]),s._v(" 升级更新")]),s._v(" "),t("p",[s._v("Create React App 分为两个包：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("create-react-app")]),s._v(" 是用于创建新项目的全局命令行工具。")]),s._v(" "),t("li",[t("code",[s._v("react-scripts")]),s._v(" 是创建的项目中的开发依赖。")])]),s._v(" "),t("p",[s._v("查看创建的项目中的 "),t("code",[s._v("package.json")]),s._v(" 中的依赖包 "),t("code",[s._v("react-scripts")]),s._v(" 的版本号，然后查看 "),t("a",{attrs:{href:"https://github.com/facebook/create-react-app/blob/master/CHANGELOG.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("更新记录"),t("OutboundLink")],1),s._v(" 来确认有哪些更新，直接将依赖包 "),t("code",[s._v("react-scripts")]),s._v(" 的版本号改为更新记录中想要升级的版本号，然后执行 "),t("code",[s._v("npm install")]),s._v(" 即可。")]),s._v(" "),t("h2",{attrs:{id:"开发阶段相关配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发阶段相关配置"}},[s._v("#")]),s._v(" 开发阶段相关配置")]),s._v(" "),t("h3",{attrs:{id:"eslint-代码检查"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eslint-代码检查"}},[s._v("#")]),s._v(" ESLint 代码检查")]),s._v(" "),t("p",[s._v("项目默认提供了 "),t("code",[s._v("eslint-config-react-app")]),s._v(" 基础 ESLint 配置，并且在 "),t("code",[s._v("package.json")]),s._v(" 中的 "),t("code",[s._v("eslintConfig")]),s._v(" 字段中继承使用了这个配置。")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"eslintConfig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"extends"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"react-app"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"react-app/jest"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("可以扩展基础 ESLint 配置，或者如果的确需要的话，可以完全替换它。")]),s._v(" "),t("ul",[t("li",[s._v("强烈建议扩展基本配置，因为删除它可能会引入难以找到的问题。")]),s._v(" "),t("li",[s._v("当使用 TypeScript 时，你需要为只针对 TypeScript 文件的规则提供一个覆盖对象。")]),s._v(" "),t("li",[s._v("需要注意的是，任何设置为 "),t("code",[s._v("'error'")]),s._v(" 的规则都将阻止项目的构建。")])]),s._v(" "),t("p",[s._v("点击查看"),t("a",{attrs:{href:"https://eslint.org/docs/user-guide/getting-started",target:"_blank",rel:"noopener noreferrer"}},[s._v("ESLint 详细使用文档"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"断点调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#断点调试"}},[s._v("#")]),s._v(" 断点调试")]),s._v(" "),t("h4",{attrs:{id:"在-visual-studio-code-中调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-visual-studio-code-中调试"}},[s._v("#")]),s._v(" 在 Visual Studio Code 中调试")]),s._v(" "),t("p",[s._v("在项目根目录下创建 "),t("code",[s._v(".vscode/launch.json")]),s._v(" 然后写入：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.2.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"configurations"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Chrome"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"chrome"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"request"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"launch"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:3000"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"webRoot"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${workspaceFolder}/src"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"sourceMapPathOverrides"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"webpack:///src/*"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${webRoot}/*"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("然后执行 "),t("code",[s._v("npm start")]),s._v(" 启动开发服务器，然后按下 "),t("code",[s._v("F5")]),s._v(" 启动 debug 模式。")]),s._v(" "),t("h3",{attrs:{id:"开发模式下使用-https"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发模式下使用-https"}},[s._v("#")]),s._v(" 开发模式下使用 HTTPS")]),s._v(" "),t("h4",{attrs:{id:"使用自签名证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用自签名证书"}},[s._v("#")]),s._v(" 使用自签名证书")]),s._v(" "),t("h5",{attrs:{id:"windows-cmd-exe"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows-cmd-exe"}},[s._v("#")]),s._v(" Windows (cmd.exe)")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 缺少空格是故意的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTPS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" start\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h5",{attrs:{id:"windows-powershell"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows-powershell"}},[s._v("#")]),s._v(" Windows (Powershell)")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":HTTPS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-and")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("npm start"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"linux-macos-bash"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-macos-bash"}},[s._v("#")]),s._v(" Linux, macOS (Bash)")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTPS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" start\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"使用自己的证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用自己的证书"}},[s._v("#")]),s._v(" 使用自己的证书")]),s._v(" "),t("p",[s._v("要使用自己的证书开启 HTTPS，只需要在启动项目时，将证书和 key 的路径分别赋值给 "),t("code",[s._v("SSL_CRT_FILE")]),s._v(" 和 "),t("code",[s._v("SSL_KEY_FILE")]),s._v(" 即可，当然，依然必须要设置 "),t("code",[s._v("HTTPS=true")]),s._v(" 才行。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Linux, macOS (Bash)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTPS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SSL_CRT_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cert.crt "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SSL_KEY_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cert.key "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" start\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("为了避免每次命令中设置 "),t("code",[s._v("HTTPS=true")]),s._v(" ，可以修改 "),t("code",[s._v("package.json")]),s._v(" 中的 "),t("code",[s._v("scripts")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"start"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HTTPS=true react-scripts start"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("或者，也可以在根目录创建 "),t("code",[s._v(".env")]),s._v(" 文件，然后写入 "),t("code",[s._v("HTTPS=true")]),s._v(" 。")]),s._v(" "),t("h2",{attrs:{id:"样式和资源文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#样式和资源文件"}},[s._v("#")]),s._v(" 样式和资源文件")]),s._v(" "),t("h3",{attrs:{id:"增加-css-样式文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增加-css-样式文件"}},[s._v("#")]),s._v(" 增加 CSS 样式文件")]),s._v(" "),t("p",[s._v("项目使用 "),t("code",[s._v("webpack")]),s._v(" 来处理所有资源文件，所以在项目中使用时，需要在 js 文件中使用 "),t("code",[s._v("import")]),s._v(" 来导入资源文件。")]),s._v(" "),t("p",[s._v("比如，一个 "),t("code",[s._v("Button")]),s._v(" 组件中有 "),t("code",[s._v("Button/index.css")]),s._v(", "),t("code",[s._v("Button/index.jsx")]),s._v(" 文件：")]),s._v(" "),t("p",[t("code",[s._v("Button/index.css")]),s._v(" 中有：")]),s._v(" "),t("div",{staticClass:"language-css line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".button")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 4px 12px"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("在 "),t("code",[s._v("Button/index.jsx")]),s._v(" 中使用样式：")]),s._v(" "),t("div",{staticClass:"language-jsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" React"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Component "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'react'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./index.css'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 导入样式")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Button")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Component")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// React 需要通过 className 代替 class 来使用样式")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("button")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("className")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("button"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("按钮")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("button")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" Button\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("这样组件就导入了 CSS 样式，如果想要导入全局生效的样式，可以在 "),t("code",[s._v("src/index.js")]),s._v(" 中进行导入。")]),s._v(" "),t("h3",{attrs:{id:"css-模块化-限制作用范围"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css-模块化-限制作用范围"}},[s._v("#")]),s._v(" CSS 模块化 限制作用范围")]),s._v(" "),t("p",[s._v("项目默认已经支持 CSS 模块化，只需要将 CSS 文件名改为以 "),t("code",[s._v(".module.css")]),s._v(" 结尾即可，比如 "),t("code",[s._v("index.module.css")]),s._v(" ，CSS 模块通过自动创建 "),t("code",[s._v("[filename]_[classname]__[hash]")]),s._v(" 这样的唯一类名格式，来确定CSS作用的范围。")]),s._v(" "),t("p",[s._v("CSS 模块化后，允许你在不同的 CSS 文件中使用相同的 CSS 类名，而不用担心命名冲突。")]),s._v(" "),t("p",[t("code",[s._v("Button/index.module.css")]),s._v(" 中有：")]),s._v(" "),t("div",{staticClass:"language-css line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".button")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 4px 12px"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("在 "),t("code",[s._v("Button/index.jsx")]),s._v(" 中使用 CSS 模块：")]),s._v(" "),t("div",{staticClass:"language-jsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" React"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Component "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'react'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" styles "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./index.module.css'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 导入模块样式")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Button")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Component")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 通过 className 使用样式")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("button")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("className")]),t("span",{pre:!0,attrs:{class:"token script language-javascript"}},[t("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" styles"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("button "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("按钮")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("button")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" Button\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("导入 CSS 模块不再像普通导入一样，而是导入了一个对象，这里将导入对象命名为 "),t("code",[s._v("styles")]),s._v("，绑定到元素的 "),t("code",[s._v("className")]),s._v(" 时，需要从这个对象中取对应的类名即可。")]),s._v(" "),t("p",[s._v("编译后的结果：")]),s._v(" "),t("div",{staticClass:"language-jsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("button")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("Button_button__3NdPb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("按钮")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("button")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("所有 CSS 模块中的类名都会被编译为 "),t("code",[s._v("[filename]_[classname]__[hash]")]),s._v(" 这样的格式，这样就避免了同名类名引起的样式冲突。")]),s._v(" "),t("h3",{attrs:{id:"使用-css-预处理器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-css-预处理器"}},[s._v("#")]),s._v(" 使用 CSS 预处理器")]),s._v(" "),t("h4",{attrs:{id:"sass-scss"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sass-scss"}},[s._v("#")]),s._v(" Sass/SCSS")]),s._v(" "),t("p",[s._v("为方便描述，本文统一使用 SCSS 。")]),s._v(" "),t("p",[s._v("首先，安装 sass 依赖包用于将 scss 文件编译为 css 。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" sass\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("然后将 "),t("code",[s._v(".css")]),s._v(" 结尾的文件改为 "),t("code",[s._v(".scss")]),s._v(" ，在 "),t("code",[s._v(".js")]),s._v(" 文件的导入中同样将 "),t("code",[s._v(".css")]),s._v(" 改为 "),t("code",[s._v(".scss")]),s._v(" 结尾。")]),s._v(" "),t("p",[s._v("这样，项目就会自动将 scss 文件编译为普通的 css 文件。")]),s._v(" "),t("p",[s._v("SCSS 的详细使用请参考其他相关教程。")]),s._v(" "),t("p",[s._v("使用 less 和 stylus 基本一致，先安装编译依赖包，再修改文件名即可。")]),s._v(" "),t("h3",{attrs:{id:"添加-css-重置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加-css-重置"}},[s._v("#")]),s._v(" 添加 CSS 重置")]),s._v(" "),t("p",[s._v("项目默认配置了 PostCSS Normalize 作为可选的项目重置方案，但是默认没有使用它。如果需要使用，可以在 "),t("code",[s._v("index.css")]),s._v(" 或 "),t("code",[s._v("App.css")]),s._v(" 中添加 "),t("code",[s._v("@import-normalize;")]),s._v(" 语句表示启用它，只需要添加一次即可。")]),s._v(" "),t("div",{staticClass:"language-css line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* index.css */")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token atrule"}},[t("span",{pre:!0,attrs:{class:"token rule"}},[s._v("@import-normalize")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("打包时，如果检测到 "),t("code",[s._v("@import-normalize;")]),s._v(" 语句，就会自动添加 "),t("code",[s._v("Normalize")]),s._v(" 到项目中。")]),s._v(" "),t("p",[s._v("这条语句在启用了 "),t("code",[s._v("stylelint")]),s._v(" 的项目中会看到报错 "),t("code",[s._v("unknownAtRules")]),s._v(" ，因为这条语句是一条未知的 "),t("code",[s._v("@语句")]),s._v("，解决此报错可查看 stylelint 文档。")]),s._v(" "),t("h3",{attrs:{id:"css-后处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css-后处理"}},[s._v("#")]),s._v(" CSS 后处理")]),s._v(" "),t("p",[s._v("项目默认启用了 "),t("code",[s._v("post-css")]),s._v(" 的 "),t("code",[s._v("Autoprefixer")]),s._v(" 功能，能够为需要兼容的浏览器自动添加样式或属性的前缀，需要兼容的浏览器是通过 "),t("code",[s._v("browserslist")]),s._v(" 配置的。")]),s._v(" "),t("p",[s._v("但是 CSS 的 "),t("code",[s._v("grid")]),s._v(" 布局是没有开启自动添加前缀的，因为 "),t("code",[s._v("grid")]),s._v(" 目前有很大的局限性，如果想启用自动添加前缀，可以在 css 文件的顶部添加 "),t("code",[s._v("/* autoprefixer grid: autoplace */")]),s._v(" 来启用。")]),s._v(" "),t("h3",{attrs:{id:"使用图片-字体-文件等"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用图片-字体-文件等"}},[s._v("#")]),s._v(" 使用图片，字体，文件等")]),s._v(" "),t("p",[s._v("使用图片，字体等文件就和使用 CSS 一样，直接在 "),t("code",[s._v(".js")]),s._v(" 中导入即可。")]),s._v(" "),t("p",[s._v("导入的文件经过处理后，最终其实会得到这个文件打包后的实际路径，然后给到 "),t("code",[s._v("<image>")]),s._v(" 元素的 "),t("code",[s._v("src")]),s._v(" 属性，或 "),t("code",[s._v("<a>")]),s._v(" 元素的 "),t("code",[s._v("href")]),s._v(" 属性。")]),s._v(" "),t("p",[s._v("对 "),t("code",[s._v("bmp, gif, jpg, jpeg, png")]),s._v(" 来说，小于 "),t("code",[s._v("10000")]),s._v(" byte 的文件将使用 base64 编码打包成 data URI ，"),t("code",[s._v("svg")]),s._v(" 文件除外，因为这会导致 svg sprites （俗称雪碧图）出错。")]),s._v(" "),t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-jsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" React "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'react'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" logo "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./logo.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Tell webpack this JS file uses this image")]),s._v("\n\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("logo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /logo.84287d09.png")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Header")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Import result is the URL of your image")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("img")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("src")]),t("span",{pre:!0,attrs:{class:"token script language-javascript"}},[t("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("logo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("alt")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("Logo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" Header"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("在 CSS 中使用同样生效：")]),s._v(" "),t("div",{staticClass:"language-css line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".Logo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token url"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("./logo.png"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("如果想修改 "),t("code",[s._v("10000")]),s._v(" byte 的阈值，可以通过环境变量 "),t("code",[s._v("IMAGE_INLINE_SIZE_LIMIT")]),s._v(" 来进行修改。")]),s._v(" "),t("p",[s._v("svg 文件的另一种使用方式，将 svg 作为一个 react 组件使用：")]),s._v(" "),t("div",{staticClass:"language-jsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ReactComponent "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Logo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./logo.svg'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("App")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("\n      ")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* Logo is an actual React component */")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("\n      ")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Logo")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("\n    ")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"加载-graphql-文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载-graphql-文件"}},[s._v("#")]),s._v(" 加载 "),t("code",[s._v(".graphql")]),s._v(" 文件")]),s._v(" "),t("p",[s._v("详见"),t("a",{attrs:{href:"https://create-react-app.dev/docs/loading-graphql-files",target:"_blank",rel:"noopener noreferrer"}},[s._v("Loading .graphql Files"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"使用-public-目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-public-目录"}},[s._v("#")]),s._v(" 使用 public 目录")]),s._v(" "),t("p",[s._v("根目录下的 "),t("code",[s._v("public")]),s._v(" 目录中包含了 "),t("code",[s._v("index.html")]),s._v(" 文件，这是项目打包使用的模版文件，打包后的文件都是从这个 HTML 中引入并使用，可以按照自己的需求来修改这个文件。")]),s._v(" "),t("h4",{attrs:{id:"在-public-目录添加其他资源文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-public-目录添加其他资源文件"}},[s._v("#")]),s._v(" 在 public 目录添加其他资源文件")]),s._v(" "),t("p",[s._v("虽然可以在 public 目录添加其他资源文件，但始终建议资源文件尽量在 "),t("code",[s._v(".js")]),s._v(" 文件中引入使用，因为它有几个优点：")]),s._v(" "),t("ul",[t("li",[s._v("脚本和样式文件都会被压缩，并且被打包到一起，可以减少额外的网络请求。")]),s._v(" "),t("li",[s._v("缺少文件时，直接引发编译打包错误，而不是在运行时出现 404 错误。")]),s._v(" "),t("li",[s._v("打包后的资源文件名包括根据文件内容生成的散列值 (content hash)， 不需要担心浏览器会缓存旧版本。")])]),s._v(" "),t("p",[s._v("如果把资源文件放到 "),t("code",[s._v("public")]),s._v(" 目录中，这些文件不会被 webpack 处理，而是直接原封不动地复制到打包目录中，如果要在 "),t("code",[s._v("public/index.html")]),s._v(" 直接使用 "),t("code",[s._v("public")]),s._v(" 目录中的资源文件，需要使用环境变量 "),t("code",[s._v("PUBLIC_URL")]),s._v(" 来访问。")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("link")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("rel")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("icon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("href")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("%PUBLIC_URL%/favicon.ico"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("运行 "),t("code",[s._v("npm run build")]),s._v(" 打包时，"),t("code",[s._v("%PUBLIC_URL%")]),s._v(" 将会被替换为一个正确的绝对路径。")]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v(".js")]),s._v(" 文件中也可以访问这个环境变量 "),t("code",[s._v("process.env.PUBLIC_URL")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-jsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Note: this is an escape hatch and should be used sparingly!")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Normally we recommend using `import` for getting asset URLs")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// as described in “Adding Images and Fonts” above this section.")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("img")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("src")]),t("span",{pre:!0,attrs:{class:"token script language-javascript"}},[t("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PUBLIC_URL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/img/logo.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("但非常不推荐上面这样的用法，这样使用将没有前面提到的通过导入使用的那些优点。")]),s._v(" "),t("h4",{attrs:{id:"可以使用-public-的情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可以使用-public-的情况"}},[s._v("#")]),s._v(" 可以使用 public 的情况")]),s._v(" "),t("ul",[t("li",[s._v("在构建输出中需要一个具有特定名称的文件，不希望被打包时修改资源文件名时。")]),s._v(" "),t("li",[s._v("有成千上万个图片，需要动态引用他们的路径时。")]),s._v(" "),t("li",[s._v("在打包构建的代码外，还想包含一些特定的脚本文件时。")]),s._v(" "),t("li",[s._v("有些库可能与 webpack 不兼容，你没有其他选择，只能将它包含为 "),t("code",[s._v("<script>")]),s._v(" 标记时。")])]),s._v(" "),t("p",[s._v("如果在 "),t("code",[s._v("index.html")]),s._v(" 中添加了一个 "),t("code",[s._v("<script>")]),s._v(" 引入一个脚本，且这个脚本会声明全局变量，可以通过访问 "),t("code",[s._v("window")]),s._v(" 对象来使用它：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" $ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" window"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("如果不通过 "),t("code",[s._v("window")]),s._v(" 对象而直接使用这个变量，在开启了 "),t("code",[s._v("eslint")]),s._v(" 功能的项目中会进行报错，因为在当前作用域没有这个变量存在。")]),s._v(" "),t("h3",{attrs:{id:"代码分割"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码分割"}},[s._v("#")]),s._v(" 代码分割")]),s._v(" "),t("p",[s._v("代码分割可以让你将代码分割成小块，然后按需加载，而不是在用户使用之前下载整个应用程序。")]),s._v(" "),t("p",[s._v("项目支持使用 "),t("code",[s._v("import()")]),s._v(" 来进行动态导入，只要是使用 "),t("code",[s._v("import()")]),s._v(" 导入的模块，都会被分割为一个独立的模块，在执行到需要这个模块时，才会被下载使用。")]),s._v(" "),t("p",[s._v("模块 "),t("code",[s._v("moduleA.js")]),s._v(" ：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" moduleA "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Hello'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" moduleA "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("在 "),t("code",[s._v("App.js")]),s._v(" 中进行动态导入：")]),s._v(" "),t("div",{staticClass:"language-jsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" React"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Component "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'react'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("App")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Component")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("handleClick")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./moduleA'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" moduleA "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Use moduleA")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("catch")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("err")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Handle failure")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("\n        ")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("button")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("onClick")]),t("span",{pre:!0,attrs:{class:"token script language-javascript"}},[t("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("handleClick"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("Load")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("button")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("\n      ")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" App"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("p",[s._v("上面的 "),t("code",[s._v("import('./moduleA')")]),s._v(" 会使 "),t("code",[s._v("moduleA")]),s._v(" 以及它左右的依赖打包成为一个独立的模块，只有在用户点击后，这个模块才会被下载。")]),s._v(" "),t("p",[t("code",[s._v("import()")]),s._v(" 返回的是一个 "),t("code",[s._v("Promise")]),s._v(" 对象，它总会 resolve 模块的命名空间对象，除了使用 "),t("code",[s._v(".then()")]),s._v(" 来接收以外，还可以使用 "),t("code",[s._v("async")]),s._v(" 和 "),t("code",[s._v("await")]),s._v(" 来使用它。")]),s._v(" "),t("h4",{attrs:{id:"在-react-router-中使用代码分割"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-react-router-中使用代码分割"}},[s._v("#")]),s._v(" 在 React Router 中使用代码分割")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://reactjs.org/docs/code-splitting.html#route-based-code-splitting",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击查看"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"构建应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建应用"}},[s._v("#")]),s._v(" 构建应用")]),s._v(" "),t("h3",{attrs:{id:"导入组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#导入组件"}},[s._v("#")]),s._v(" 导入组件")]),s._v(" "),t("p",[s._v("虽然项目支持 "),t("code",[s._v("require()")]),s._v(" 和 "),t("code",[s._v("module.exports")]),s._v(" 用于导入导出模块或组件，但推荐始终使用 "),t("code",[s._v("import")]),s._v(" 和 "),t("code",[s._v("export")]),s._v(" 来进行导入和导出。")]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v("src/views/home/index.jsx")]),s._v(" 中导入 "),t("code",[s._v("src/components/Button")]),s._v(" 组件")]),s._v(" "),t("div",{staticClass:"language-jsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Button "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../../components/Button'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"使用绝对路径导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用绝对路径导入"}},[s._v("#")]),s._v(" 使用绝对路径导入")]),s._v(" "),t("p",[s._v("根目录的 "),t("code",[s._v("jsconfig.json")]),s._v(" 或 "),t("code",[s._v("tsconfig.json")]),s._v(" 配置：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"compilerOptions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"baseUrl"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"include"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("修改前面的导入路径：")]),s._v(" "),t("div",{staticClass:"language-jsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Button "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'components/Button'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("导入路径为 "),t("code",[s._v("'components/Button'")]),s._v("，会自动到 "),t("code",[s._v("src")]),s._v(" 目录中来查找这个路径。")]),s._v(" "),t("p",[s._v("查看 "),t("a",{attrs:{href:"https://code.visualstudio.com/docs/languages/jsconfig",target:"_blank",rel:"noopener noreferrer"}},[s._v("jsconfig"),t("OutboundLink")],1),s._v(" 详细介绍。")]),s._v(" "),t("p",[s._v("查看 "),t("a",{attrs:{href:"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("tsconfig"),t("OutboundLink")],1),s._v(" 详细介绍。")]),s._v(" "),t("h3",{attrs:{id:"使用-typescript"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-typescript"}},[s._v("#")]),s._v(" 使用 TypeScript")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建项目时使用 TypeScript")]),s._v("\nnpx create-react-app my-app "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--template")]),s._v(" typescript\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在已创建的项目中添加 TypeScript")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--save")]),s._v(" typescript @types/node @types/react @types/react-dom @types/jest\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("a",{attrs:{href:"https://www.typescriptlang.org/play/index.html?jsx=2&esModuleInterop=true&e=196#example/typescript-with-react",target:"_blank",rel:"noopener noreferrer"}},[s._v("查看 TypeScript Example on React"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"使用-router"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-router"}},[s._v("#")]),s._v(" 使用 Router")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--save")]),s._v(" react-router-dom\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("a",{attrs:{href:"https://reactrouter.com/web/example/basic",target:"_blank",rel:"noopener noreferrer"}},[s._v("查看 react-router 使用方式"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"添加自定义环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加自定义环境变量"}},[s._v("#")]),s._v(" 添加自定义环境变量")]),s._v(" "),t("p",[s._v("默认情况下，在项目中可以使用的环境变量有： "),t("code",[s._v("NODE_ENV")]),s._v(" 以及其他以 "),t("code",[s._v("REACT_APP_")]),s._v(" 开头的变量。")]),s._v(" "),t("p",[s._v("自定义环境变量必须以 "),t("code",[s._v("REACT_APP_")]),s._v(" 开头，其他都将被忽略。")]),s._v(" "),t("p",[s._v("所有定义的环境变量都通过 "),t("code",[s._v("process.env")]),s._v(" 对象来访问，比如定义了 "),t("code",[s._v("REACT_APP_BASE_URL")]),s._v(" ，在项目中访问时使用 "),t("code",[s._v("process.env.REACT_APP_BASE_URL")]),s._v(" 即可访问，项目在打包时会分析代码，自动将 "),t("code",[s._v("process.env.REACT_APP_BASE_URL")]),s._v(" 替换为环境变量定义的值。")]),s._v(" "),t("p",[t("code",[s._v("process.env.NODE_ENV")]),s._v(" 的值：")]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("npm start")]),s._v(" 时值为 "),t("code",[s._v("'development'")])]),s._v(" "),t("li",[s._v("在 "),t("code",[s._v("npm test")]),s._v(" 时值为 "),t("code",[s._v("'test'")])]),s._v(" "),t("li",[s._v("在 "),t("code",[s._v("npm run build")]),s._v(" 时值为 "),t("code",[s._v("'production'")])])]),s._v(" "),t("p",[s._v("无法手动复写 "),t("code",[s._v("NODE_ENV")]),s._v(" 的值。")]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v("public/index.html")]),s._v(" 中，也可以通过 "),t("code",[s._v("REACT_APP_")]),s._v(" 来访问变量，比如 "),t("code",[s._v("<title>%REACT_APP_WEBSITE_NAME%</title>")]),s._v(" 。除了 "),t("code",[s._v("NODE_ENV")]),s._v(" 和 "),t("code",[s._v("PUBLIC_URL")]),s._v(" 等内置环境变量以外，其他变量必须以 "),t("code",[s._v("REACT_APP_")]),s._v(" 开头。同样是在编译打包阶段进行值的替换。")]),s._v(" "),t("p",[s._v("环境变量通常定义在 "),t("code",[s._v(".env")]),s._v(", "),t("code",[s._v(".env.development")]),s._v(", "),t("code",[s._v(".env.production")]),s._v(" 等文件中，另外，也可以定义在命令行运行时的命令中。")]),s._v(" "),t("h4",{attrs:{id:"在-env-文件中定义环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-env-文件中定义环境变量"}},[s._v("#")]),s._v(" 在 "),t("code",[s._v(".env")]),s._v(" 文件中定义环境变量")]),s._v(" "),t("p",[s._v("环境变量文件：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v(".env")]),s._v(" 所有环境下的变量")]),s._v(" "),t("li",[t("code",[s._v(".env.local")]),s._v(": 本地的，除 测试环境 以外的所有环境下的变量")]),s._v(" "),t("li",[t("code",[s._v(".env.development")]),s._v(", "),t("code",[s._v(".env.test")]),s._v(", "),t("code",[s._v(".env.production")]),s._v(" 特定的环境下的变量")]),s._v(" "),t("li",[t("code",[s._v(".env.development.local")]),s._v(", "),t("code",[s._v(".env.test.local")]),s._v(", "),t("code",[s._v(".env.production.local")]),s._v(" 本地的特定环境下的变量")])]),s._v(" "),t("p",[s._v("运行模式及环境变量优先级：")]),s._v(" "),t("ul",[t("li",[s._v("npm start 优先级 "),t("code",[s._v(".env.development.local")]),s._v(", "),t("code",[s._v(".env.local")]),s._v(", "),t("code",[s._v(".env.development")]),s._v(", "),t("code",[s._v(".env")])]),s._v(" "),t("li",[s._v("npm run build 优先级 "),t("code",[s._v(".env.production.local")]),s._v(", "),t("code",[s._v(".env.local")]),s._v(", "),t("code",[s._v(".env.production")]),s._v(", "),t("code",[s._v(".env")])]),s._v(" "),t("li",[s._v("npm test 优先级 "),t("code",[s._v(".env.test.local")]),s._v(", "),t("code",[s._v(".env.test")]),s._v(", "),t("code",[s._v(".env")]),s._v(" (注意： "),t("code",[s._v(".env.local")]),s._v(" 不会使用)")])]),s._v(" "),t("p",[s._v("更多详情查看 "),t("a",{attrs:{href:"https://github.com/motdotla/dotenv",target:"_blank",rel:"noopener noreferrer"}},[s._v("dotenv"),t("OutboundLink")],1)]),s._v(" "),t("h4",{attrs:{id:"在命令中定义环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在命令中定义环境变量"}},[s._v("#")]),s._v(" 在命令中定义环境变量")]),s._v(" "),t("p",[s._v("Windows (cmd.exe)")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"REACT_APP_NOT_SECRET_CODE=abcdef"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" start\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("Windows (Powershell)")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":REACT_APP_NOT_SECRET_CODE "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"abcdef"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-and")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("npm start"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("Linux, macOS (Bash)")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REACT_APP_NOT_SECRET_CODE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("abcdef "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" start\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"在-env-文件中使用机器上的其他变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-env-文件中使用机器上的其他变量"}},[s._v("#")]),s._v(" 在 "),t("code",[s._v(".env")]),s._v(" 文件中使用机器上的其他变量")]),s._v(" "),t("p",[s._v("此功能使用 "),t("a",{attrs:{href:"https://github.com/motdotla/dotenv-expand",target:"_blank",rel:"noopener noreferrer"}},[s._v("dotenv-expand"),t("OutboundLink")],1),s._v(" 实现")]),s._v(" "),t("p",[s._v("比如，获取环境变量 "),t("code",[s._v("npm_package_version")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REACT_APP_VERSION")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$npm_package_version")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# also works:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REACT_APP_VERSION=${npm_package_version}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("也可以访问在前面定义的变量：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DOMAIN")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("www.example.com\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REACT_APP_FOO")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DOMAIN")]),s._v("/foo\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REACT_APP_BAR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DOMAIN")]),s._v("/bar\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"制作一个-progressive-web-app"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#制作一个-progressive-web-app"}},[s._v("#")]),s._v(" 制作一个 Progressive Web App")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://create-react-app.dev/docs/making-a-progressive-web-app",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击查看"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"性能评估"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#性能评估"}},[s._v("#")]),s._v(" 性能评估")]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v("src/index.js")]),s._v(" 的最后，项目默认添加了 "),t("code",[s._v("reportWebVitals()")]),s._v(" 性能中继器，允许你使用不同的指标来衡量和分析应用程序的性能。")]),s._v(" "),t("p",[s._v("可以自己传递一个函数给 "),t("code",[s._v("reportWebVitals()")]),s._v(" 作为参数来使用，比如：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("reportWebVitals")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("Web Vitals是一组有用的指标，旨在捕捉用户体验的网页。")]),s._v(" "),t("p",[s._v("在 Create React App 中，使用第三方库 "),t("a",{attrs:{href:"https://github.com/GoogleChrome/web-vitals",target:"_blank",rel:"noopener noreferrer"}},[s._v("web-vitals"),t("OutboundLink")],1),s._v("来衡量这些 Web Vitals 指标")]),s._v(" "),t("h2",{attrs:{id:"测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://create-react-app.dev/docs/running-tests",target:"_blank",rel:"noopener noreferrer"}},[s._v("详情查看"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"后端相关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后端相关"}},[s._v("#")]),s._v(" 后端相关")]),s._v(" "),t("h3",{attrs:{id:"在开发模式下代理-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在开发模式下代理-api"}},[s._v("#")]),s._v(" 在开发模式下代理 api")]),s._v(" "),t("p",[s._v("在且仅在开发模式下，可以使用代理来解决服务端接口跨域的问题。")]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v("package.json")]),s._v(" 中添加 "),t("code",[s._v("proxy")]),s._v(" 字段：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"proxy"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:4000"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("设置代理后，访问 "),t("code",[s._v("/api/todos")]),s._v(" 就会自动代理到 "),t("code",[s._v("http://localhost:4000/api/todos")]),s._v(" 而不会出现跨域问题。")]),s._v(" "),t("p",[s._v("如果 "),t("code",[s._v("proxy")]),s._v(" 使用起来不够用，可以自定义配置")]),s._v(" "),t("h4",{attrs:{id:"自定义代理配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义代理配置"}},[s._v("#")]),s._v(" 自定义代理配置")]),s._v(" "),t("p",[s._v("首先，安装：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" http-proxy-middleware\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("在 "),t("code",[s._v("src")]),s._v(" 目录下创建 "),t("code",[s._v("setupProxy.js")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" createProxyMiddleware "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http-proxy-middleware'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("exports")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/api'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createProxyMiddleware")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("target")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://localhost:5000'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("changeOrigin")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("ul",[t("li",[s._v("不需要在任何地方导入这个 "),t("code",[s._v("setupProxy.js")]),s._v(" 文件。当您启动开发服务器时，它将自动注册。")]),s._v(" "),t("li",[s._v("这个文件只支持 Node 模块语法。")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/chimurai/http-proxy-middleware",target:"_blank",rel:"noopener noreferrer"}},[s._v("查看 http-proxy-middleware 详细使用方式"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"进阶用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进阶用法"}},[s._v("#")]),s._v(" 进阶用法")]),s._v(" "),t("h3",{attrs:{id:"自定义项目模版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义项目模版"}},[s._v("#")]),s._v(" 自定义项目模版")]),s._v(" "),t("p",[s._v("官方提供了 "),t("code",[s._v("cra-template")]),s._v(" 和 "),t("code",[s._v("cra-template-typescript")]),s._v(" 这两个模版可在项目初始化时选择，前者是默认的模版。")]),s._v(" "),t("p",[s._v("如果不满足于官方的模版，可以自定义模版，自定义模版必须以 "),t("code",[s._v("cra-template-")]),s._v(" 开头，也可以在 npm 上搜索 "),t("code",[s._v("cra-template-*")]),s._v(" 来查看更多第三方提供的自定义模版。")]),s._v(" "),t("h4",{attrs:{id:"构建自定义模版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建自定义模版"}},[s._v("#")]),s._v(" 构建自定义模版")]),s._v(" "),t("p",[s._v("构建自定义模版必须包含以下目录结构：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("cra-template-"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("template-name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("/\n  README.md "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("for "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  template.json\n  package.json\n  template/\n    README.md "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("for projects created from this template"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    gitignore\n    public/\n      index.html\n    src/\n      index.js "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("or index.tsx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("可以添加其他任何自己想要添加到模版的文件或目录，但以上指定的文件和目录必须存在。")]),s._v(" "),t("p",[s._v("本地测试自定义模版，使用 "),t("code",[s._v("file:")]),s._v(" 路径作为 "),t("code",[s._v("--template")]),s._v(" 的参数：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("npx create-react-app my-app "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--template")]),s._v(" file:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/path/to/your/template/cra-template-"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("template-name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("其中， "),t("code",[s._v("template")]),s._v(" 目录下的所有文件，会在初始化创建项目时，直接全部复制到用户的项目目录中，"),t("code",[s._v("gitignore")]),s._v(" 文件会被自动更名为 "),t("code",[s._v(".gitignore")]),s._v(" 作为 Git 仓库的忽略文件的配置。")]),s._v(" "),t("p",[t("code",[s._v("template.json")]),s._v(" 文件是自定义模版的配置文件，目前，仅支持 "),t("code",[s._v("package")]),s._v(" 这一个属性（key）。")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"package"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dependencies"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"eslint-plugin-jsx-a11y"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.2.3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"serve"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^11.2.0"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"serve"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"serve -s build"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build-and-serve"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run build && npm run serve"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"eslintConfig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"extends"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"react-app"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"plugin:jsx-a11y/recommended"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"plugins"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jsx-a11y"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("p",[t("code",[s._v("package")]),s._v(" 属性允许添加任何键值对，这些键值对将会被添加到用户创建的项目的 "),t("code",[s._v("package.json")]),s._v(" 中。")]),s._v(" "),t("p",[s._v("注意，"),t("code",[s._v("package")]),s._v(" 下的 "),t("code",[s._v("dependencies")]),s._v(" 和 "),t("code",[s._v("scripts")]),s._v(" 会和 "),t("code",[s._v("create-react-app")]),s._v(" 指定的默认值进行合并，其他指定的键值对将会原封不动地被使用，如果 "),t("code",[s._v("create-react-app")]),s._v(" 存在同名默认键值对，也会被自己指定的所替换掉。")]),s._v(" "),t("p",[s._v("为了方便起见，如果用户使用 "),t("code",[s._v("yarn")]),s._v(" 进行的项目初始化，那么，"),t("code",[s._v("package")]),s._v(" 下的 "),t("code",[s._v("scripts")]),s._v(" 和 "),t("code",[s._v("README.md")]),s._v(" 中的所有 "),t("code",[s._v("npm run")]),s._v(" 都将被替换为 "),t("code",[s._v("yarn")]),s._v(" 。")]),s._v(" "),t("h3",{attrs:{id:"能否使用-decorators-装饰器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#能否使用-decorators-装饰器"}},[s._v("#")]),s._v(" 能否使用 decorators (装饰器)")]),s._v(" "),t("p",[s._v("Create React App目前故意不支持装饰器语法，原因如下:")]),s._v(" "),t("ul",[t("li",[s._v("这是一个实验性的建议，可能会改变(事实上，它已经改变过一次，还会再改变)。")]),s._v(" "),t("li",[s._v("大多数库目前只支持该提议的旧版本——它永远不会成为标准。")])]),s._v(" "),t("p",[s._v("然而，在许多情况下，您可以在不使用装饰器的情况下重写基于装饰器的代码，并获得相同的结果。")]),s._v(" "),t("p",[s._v("更多详情可查看 Github 的 Issues "),t("a",{attrs:{href:"https://github.com/facebook/create-react-app/issues/214",target:"_blank",rel:"noopener noreferrer"}},[s._v("#214"),t("OutboundLink")],1),s._v(", "),t("a",{attrs:{href:"https://github.com/facebook/create-react-app/issues/411",target:"_blank",rel:"noopener noreferrer"}},[s._v("#411"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("当规范进展到稳定阶段时，Create React App将添加装饰器支持。")]),s._v(" "),t("h3",{attrs:{id:"预渲染到静态html文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#预渲染到静态html文件"}},[s._v("#")]),s._v(" 预渲染到静态HTML文件")]),s._v(" "),t("p",[s._v("如果使用静态托管提供程序托管构建，可以使用 "),t("code",[s._v("react-snapshot")]),s._v(" 或 "),t("code",[s._v("react-snap")]),s._v(" 为应用程序中的每个路由或相对链接生成HTML页面。")]),s._v(" "),t("p",[s._v("预渲染为 HTML 文件对搜索引擎优化（SEO）更友好。")]),s._v(" "),t("h3",{attrs:{id:"进阶配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进阶配置"}},[s._v("#")]),s._v(" 进阶配置")]),s._v(" "),t("p",[s._v("您可以通过在命令行中或使用 "),t("code",[s._v(".env")]),s._v(" 文件设置环境变量来调整各种开发和生产设置。")]),s._v(" "),t("p",[s._v("不需要像使用自定义环境变量那样在以下变量之前声明 "),t("code",[s._v("REACT_APP_")]),s._v(" 。")]),s._v(" "),t("h4",{attrs:{id:"browser-开发环境-指定项目启动时打开的浏览器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#browser-开发环境-指定项目启动时打开的浏览器"}},[s._v("#")]),s._v(" "),t("code",[s._v("BROWSER")]),s._v(" 开发环境，指定项目启动时打开的浏览器")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("可选值："),t("code",[s._v("none")]),s._v(" | 其他浏览器值")]),s._v(" "),t("p",[s._v("默认情况下，项目启动会自动打开系统默认浏览器，设为 "),t("code",[s._v("none")]),s._v(" 可禁用自动打开浏览器。")]),s._v(" "),t("p",[s._v("该功能使用 "),t("a",{attrs:{href:"https://github.com/sindresorhus/open",target:"_blank",rel:"noopener noreferrer"}},[s._v("open"),t("OutboundLink")],1),s._v(" ，详情可点击查看。")]),s._v(" "),t("p",[s._v("如果需要自定义浏览器的启动方式，则可以指定一个 Node 脚本。任何传递给 "),t("code",[s._v("npm start")]),s._v(" 的参数也会被传递给这个脚本，你的应用服务的 url 将是最后一个参数。脚本的文件名必须是 "),t("code",[s._v(".js")]),s._v(" 扩展名。")]),s._v(" "),t("h4",{attrs:{id:"browser-args-开发环境-要传递给-browser-的参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#browser-args-开发环境-要传递给-browser-的参数"}},[s._v("#")]),s._v(" "),t("code",[s._v("BROWSER_ARGS")]),s._v(" 开发环境，要传递给 BROWSER 的参数")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("当指定 "),t("code",[s._v("BROWSER")]),s._v(" 环境变量时，设置到 "),t("code",[s._v("BROWSER_ARGS")]),s._v(" 的任何参数都将传递给浏览器实例。支持多个参数作为空格分隔的列表。默认情况下，没有参数被传递给 "),t("code",[s._v("BROWSER")]),s._v(" 。")]),s._v(" "),t("h4",{attrs:{id:"host-开发环境-主机名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#host-开发环境-主机名"}},[s._v("#")]),s._v(" "),t("code",[s._v("HOST")]),s._v(" 开发环境，主机名")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("默认情况下，开发 web 服务器绑定到设备上的所有主机名(localhost 、 局域网网络地址等)。您可以使用此变量指定不同的主机。")]),s._v(" "),t("h4",{attrs:{id:"port-开发环境-指定开发服务器的端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#port-开发环境-指定开发服务器的端口"}},[s._v("#")]),s._v(" "),t("code",[s._v("PORT")]),s._v(" 开发环境，指定开发服务器的端口")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("默认情况下，开发 web 服务器将尝试监听端口 "),t("code",[s._v("3000")]),s._v(" 或提示您尝试下一个可用端口。您可以使用此变量指定不同的端口。")]),s._v(" "),t("h4",{attrs:{id:"https-开发环境-以-https-模式运行开发服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#https-开发环境-以-https-模式运行开发服务器"}},[s._v("#")]),s._v(" "),t("code",[s._v("HTTPS")]),s._v(" 开发环境，以 "),t("code",[s._v("https")]),s._v(" 模式运行开发服务器")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("当设置为 true 时，Create React App 将以 "),t("code",[s._v("https")]),s._v(" 模式运行开发服务器。")]),s._v(" "),t("h4",{attrs:{id:"wds-socket-host-开发环境-指定自定义的-websocket-主机名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wds-socket-host-开发环境-指定自定义的-websocket-主机名"}},[s._v("#")]),s._v(" "),t("code",[s._v("WDS_SOCKET_HOST")]),s._v(" 开发环境，指定自定义的 websocket 主机名")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("当设置时，Create React App 将运行开发服务器和一个自定义的 websocket 主机名，用于模块热更新。通常，webpack-dev-server 默认为 "),t("code",[s._v("window.location.hostname")]),s._v(" 作为 SockJS 主机名。你可以使用这个变量同时在多个Create React App 项目上启动本地开发。更多细节请参见 "),t("a",{attrs:{href:"https://webpack.js.org/configuration/dev-server/#devserversockhost",target:"_blank",rel:"noopener noreferrer"}},[s._v("webpack-dev-server文档"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("h4",{attrs:{id:"wds-socket-path-开发环境-指定自定义的-websocket-路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wds-socket-path-开发环境-指定自定义的-websocket-路径"}},[s._v("#")]),s._v(" "),t("code",[s._v("WDS_SOCKET_PATH")]),s._v(" 开发环境，指定自定义的 websocket 路径")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("当设置时，Create React App 将运行开发服务器，并带有一个自定义的 websocket 路径，用于模块热更新。通常，webpack-dev-server 默认为 "),t("code",[s._v("/sockjs-node")]),s._v(" 作为 SockJS 路径名。你可以使用这个变量同时在多个 Create React App 项目上启动本地开发。更多细节请参见 "),t("a",{attrs:{href:"https://webpack.js.org/configuration/dev-server/#devserversockpath",target:"_blank",rel:"noopener noreferrer"}},[s._v("webpack-dev-server文档"),t("OutboundLink")],1),s._v(" 。")]),s._v(" "),t("h4",{attrs:{id:"wds-socket-port-开发环境-指定自定义的-websocket-端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wds-socket-port-开发环境-指定自定义的-websocket-端口"}},[s._v("#")]),s._v(" "),t("code",[s._v("WDS_SOCKET_PORT")]),s._v(" 开发环境，指定自定义的 websocket 端口")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("当设置时，Create React App 将运行开发服务器和一个自定义的 websocket 端口，用于模块热更新。通常，webpack-dev-server 默认为 "),t("code",[s._v("window.location.port")]),s._v(" 作为 SockJS 端口。你可以使用这个变量同时在多个 Create React App 项目上启动本地开发。更多细节请参见 "),t("a",{attrs:{href:"https://webpack.js.org/configuration/dev-server/#devserversockport",target:"_blank",rel:"noopener noreferrer"}},[s._v("webpack-dev-server文档"),t("OutboundLink")],1),s._v(" 。")]),s._v(" "),t("h4",{attrs:{id:"public-url-开发-生产环境-指定服务器资源存放路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#public-url-开发-生产环境-指定服务器资源存放路径"}},[s._v("#")]),s._v(" "),t("code",[s._v("PUBLIC_URL")]),s._v(" 开发&生产环境，指定服务器资源存放路径")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：是")]),s._v(" "),t("p",[s._v("Create React App 假定你的应用程序托管在 web 服务器的根目录或 "),t("code",[s._v("package.json")]),s._v(" 中的 "),t("code",[s._v("homepage")]),s._v(" 指定的路径中。通常，Create React App 会忽略主机名。您可以使用此变量强制将资产逐字引用到您提供的 url(包括主机名)。当使用 CDN 托管应用程序时，这会特别有用。")]),s._v(" "),t("h4",{attrs:{id:"build-path-生产环境-指定打包构建的存放目录-默认-build"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build-path-生产环境-指定打包构建的存放目录-默认-build"}},[s._v("#")]),s._v(" "),t("code",[s._v("BUILD_PATH")]),s._v(" 生产环境，指定打包构建的存放目录，默认 "),t("code",[s._v("/build")])]),s._v(" "),t("p",[s._v("开发环境：否")]),s._v(" "),t("p",[s._v("生产环境：是")]),s._v(" "),t("p",[s._v("默认情况下，Create React App 会将编译后的资源输出到与 "),t("code",[s._v("/src")]),s._v(" 同级的 "),t("code",[s._v("/build")]),s._v(" 目录中。可以使用这个变量为 Create React App 指定一个新的路径来输出资源。"),t("code",[s._v("BUILD_PATH")]),s._v(" 应该被指定为一个相对于项目根的路径。")]),s._v(" "),t("h4",{attrs:{id:"ci-开发-生产环境-是否启用-ci-控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ci-开发-生产环境-是否启用-ci-控制"}},[s._v("#")]),s._v(" "),t("code",[s._v("CI")]),s._v(" 开发&生产环境，是否启用 CI 控制")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：是")]),s._v(" "),t("p",[s._v("当设置为 "),t("code",[s._v("true")]),s._v(" 时，Create React App 将警告视为构建失败。它还使测试运行程序不具有监视性。大多数 ci 默认启用此功能。")]),s._v(" "),t("h4",{attrs:{id:"react-editor-开发环境-设置编辑器检测功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#react-editor-开发环境-设置编辑器检测功能"}},[s._v("#")]),s._v(" "),t("code",[s._v("REACT_EDITOR")]),s._v(" 开发环境，设置编辑器检测功能")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("当一个应用程序在开发中崩溃时，你会看到一个带有可点击堆栈跟踪的错误叠加。当你点击它时，Create React App 将尝试根据当前运行的进程来确定你正在使用的编辑器，并打开相关的源文件。设置此环境变量将覆盖自动检测。如果这样做，请确保系统 "),t("code",[s._v("PATH")]),s._v(" 环境变量指向编辑器的 "),t("code",[s._v("bin")]),s._v(" 目录。也可以将其设置为 "),t("code",[s._v("none")]),s._v(" 以完全禁用它。")]),s._v(" "),t("h4",{attrs:{id:"chokidar-usepolling-开发环境-是否启用轮询进行热更新检测-默认-false"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chokidar-usepolling-开发环境-是否启用轮询进行热更新检测-默认-false"}},[s._v("#")]),s._v(" "),t("code",[s._v("CHOKIDAR_USEPOLLING")]),s._v(" 开发环境，是否启用轮询进行热更新检测，默认 false")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("当设置为 "),t("code",[s._v("true")]),s._v(" 时，监控器将根据需要在 VM 中以轮询模式运行。如果 "),t("code",[s._v("npm start")]),s._v(" 没有检测到更改，请启用此选项。")]),s._v(" "),t("h4",{attrs:{id:"generate-sourcemap-生产环境-是否生成生产环境下的-sourcemap-源码映射-默认-true"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#generate-sourcemap-生产环境-是否生成生产环境下的-sourcemap-源码映射-默认-true"}},[s._v("#")]),s._v(" "),t("code",[s._v("GENERATE_SOURCEMAP")]),s._v(" 生产环境，是否生成生产环境下的 SOURCEMAP 源码映射，默认 true")]),s._v(" "),t("p",[s._v("开发环境：否")]),s._v(" "),t("p",[s._v("生产环境：是")]),s._v(" "),t("p",[s._v("当设置为 "),t("code",[s._v("false")]),s._v(" 时，不会为生产构建生成源映射。这解决了一些较小机器上的内存不足(OOM)问题。")]),s._v(" "),t("h4",{attrs:{id:"inline-runtime-chunk-生产环境-是否将运行时嵌入到-index-html-中-默认-true"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#inline-runtime-chunk-生产环境-是否将运行时嵌入到-index-html-中-默认-true"}},[s._v("#")]),s._v(" "),t("code",[s._v("INLINE_RUNTIME_CHUNK")]),s._v(" 生产环境，是否将运行时嵌入到 "),t("code",[s._v("index.html")]),s._v(" 中，默认 true")]),s._v(" "),t("p",[s._v("开发环境：否")]),s._v(" "),t("p",[s._v("生产环境：是")]),s._v(" "),t("p",[s._v("默认情况下，Create React App 会在产品构建期间将运行时脚本嵌入到 "),t("code",[s._v("index.html")]),s._v(" 中。当设置为 "),t("code",[s._v("false")]),s._v(" 时，脚本将不会被嵌入，并且将像其他脚本一样被导入。处理 CSP 时通常需要这样做。")]),s._v(" "),t("h4",{attrs:{id:"image-inline-size-limit-生产环境-设置图片被转为-base64-编码的阈值-默认-10000-字节"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-inline-size-limit-生产环境-设置图片被转为-base64-编码的阈值-默认-10000-字节"}},[s._v("#")]),s._v(" "),t("code",[s._v("IMAGE_INLINE_SIZE_LIMIT")]),s._v(" 生产环境，设置图片被转为 base64 编码的阈值，默认 "),t("code",[s._v("10000")]),s._v(" (字节)")]),s._v(" "),t("p",[s._v("开发环境：否")]),s._v(" "),t("p",[s._v("生产环境：是")]),s._v(" "),t("p",[s._v("默认情况下，小于 "),t("code",[s._v("10000")]),s._v(" Byte(字节)的图像在 base64 中被编码为一个 data URI，并内联在 CSS 或 JS 构建文件中。设置它以控制大小限制(以字节为单位)。将其设置为 "),t("code",[s._v("0")]),s._v(" 将禁用图像内联。")]),s._v(" "),t("h4",{attrs:{id:"fast-refresh-开发环境-是否启用-fast-refresh-快速刷新功能-默认-true"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fast-refresh-开发环境-是否启用-fast-refresh-快速刷新功能-默认-true"}},[s._v("#")]),s._v(" "),t("code",[s._v("FAST_REFRESH")]),s._v(" 开发环境，是否启用 FAST_REFRESH 快速刷新功能，默认 true")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("当设置为 "),t("code",[s._v("false")]),s._v(" 时，禁用对 "),t("code",[s._v("Fast Refresh")]),s._v(" 的实验性支持，以允许您实时调整组件而无需重新加载页面。")]),s._v(" "),t("h4",{attrs:{id:"tsc-compile-on-error-开发-生产环境-是否在-typescript-检测到类型错误时中断编译-默认-false"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tsc-compile-on-error-开发-生产环境-是否在-typescript-检测到类型错误时中断编译-默认-false"}},[s._v("#")]),s._v(" "),t("code",[s._v("TSC_COMPILE_ON_ERROR")]),s._v(" 开发&生产环境，是否在 TypeScript 检测到类型错误时中断编译，默认 false")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：是")]),s._v(" "),t("p",[s._v("当设置为 "),t("code",[s._v("true")]),s._v(" 时，即使存在 "),t("code",[s._v("TypeScript")]),s._v(" 类型检查错误，你也可以运行并正确构建 TypeScript 项目。这些错误将在终端 和 浏览器控制台中作为警告打印出来。")]),s._v(" "),t("h4",{attrs:{id:"eslint-no-dev-errors-开发环境-是否禁用-eslint-在开发环境下报告错误-只报告警告-默认-false"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eslint-no-dev-errors-开发环境-是否禁用-eslint-在开发环境下报告错误-只报告警告-默认-false"}},[s._v("#")]),s._v(" "),t("code",[s._v("ESLINT_NO_DEV_ERRORS")]),s._v(" 开发环境，是否禁用 ESLint 在开发环境下报告错误（只报告警告），默认 false")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：否")]),s._v(" "),t("p",[s._v("当设置为 "),t("code",[s._v("true")]),s._v(" 时，ESLint 错误将在开发期间转换为警告。因此，ESLint 输出的错误信息将不再覆盖实际的页面。")]),s._v(" "),t("h4",{attrs:{id:"disable-eslint-plugin-开发-生产环境-是否禁用-eslint-webpack-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#disable-eslint-plugin-开发-生产环境-是否禁用-eslint-webpack-plugin"}},[s._v("#")]),s._v(" "),t("code",[s._v("DISABLE_ESLINT_PLUGIN")]),s._v(" 开发&生产环境，是否禁用 eslint-webpack-plugin")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：是")]),s._v(" "),t("p",[s._v("当设置为 "),t("code",[s._v("true")]),s._v(" 时， "),t("code",[s._v("eslint-webpack-plugin")]),s._v(" 将被完全禁用。")]),s._v(" "),t("h4",{attrs:{id:"disable-new-jsx-transform-开发-生产环境-是否禁用-react-17-推出的新的-jsx-转换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#disable-new-jsx-transform-开发-生产环境-是否禁用-react-17-推出的新的-jsx-转换"}},[s._v("#")]),s._v(" "),t("code",[s._v("DISABLE_NEW_JSX_TRANSFORM")]),s._v(" 开发&生产环境，是否禁用 React 17 推出的新的 JSX 转换")]),s._v(" "),t("p",[s._v("开发环境：是")]),s._v(" "),t("p",[s._v("生产环境：是")]),s._v(" "),t("p",[s._v("当设置为 "),t("code",[s._v("true")]),s._v(" 时，禁用 "),t("code",[s._v("React 17")]),s._v(" 中引入的新的 JSX 转换，并将其反向移植到React "),t("code",[s._v("16.14.0")]),s._v(" 、 "),t("code",[s._v("15.7.0")]),s._v(" 和 "),t("code",[s._v("0.14.10")]),s._v(" 。新项目将使用一个默认支持这个功能的 React 版本，但是如果你不能升级React，你可能需要在现有项目中禁用它。")]),s._v(" "),t("h3",{attrs:{id:"弹出-eject-配置的替代方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#弹出-eject-配置的替代方式"}},[s._v("#")]),s._v(" 弹出(eject)配置的替代方式")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("npm run eject")]),s._v(" 弹出配置将允许您自定义任何内容，但从那一刻起，您必须自己维护配置和脚本。如果您有许多类似的项目，那么这可能会令人望而生畏。在这种情况下，我们建议 fork "),t("code",[s._v("react-scripts")]),s._v(" 和您需要的任何其他包，而不是弹出。")]),s._v(" "),t("p",[s._v("查看这篇文章，"),t("a",{attrs:{href:"https://auth0.com/blog/how-to-configure-create-react-app/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Customizing create-react-app: How to Make Your Own Template"),t("OutboundLink")],1),s._v(" 了解如何自定义配置。")]),s._v(" "),t("p",[s._v("也可以查看这个 Issue "),t("a",{attrs:{href:"https://github.com/facebook/create-react-app/issues/682",target:"_blank",rel:"noopener noreferrer"}},[s._v("Document maintaining a fork of react-scripts as an alternative to ejecting #682"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("代替 eject 的方式有几种方式，任选一种即可。")]),s._v(" "),t("h4",{attrs:{id:"方式一-react-app-rewired-customize-cra"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方式一-react-app-rewired-customize-cra"}},[s._v("#")]),s._v(" 方式一：react-app-rewired + customize-cra")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/timarney/react-app-rewired",target:"_blank",rel:"noopener noreferrer"}},[s._v("react-app-rewired"),t("OutboundLink")],1),s._v(" 负责运行构建，"),t("a",{attrs:{href:"https://github.com/arackaf/customize-cra",target:"_blank",rel:"noopener noreferrer"}},[s._v("customize-cra"),t("OutboundLink")],1),s._v(" 暴露了一些 "),t("a",{attrs:{href:"https://github.com/arackaf/customize-cra/blob/master/api.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("api"),t("OutboundLink")],1),s._v(" 用于对配置的修改。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" react-app-rewired customize-cra\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("比如配置 "),t("code",[s._v("antd")]),s._v(" 的按需加载")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" babel-plugin-import\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("在项目根目录创建 "),t("code",[s._v("config-overrides.js")]),s._v(" 写入配置：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" override"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fixBabelImports "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'customize-cra'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("override")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fixBabelImports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'import'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("libraryName")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'antd-mobile'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("style")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h4",{attrs:{id:"方式二-craco"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方式二-craco"}},[s._v("#")]),s._v(" 方式二： craco")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/gsoft-inc/craco",target:"_blank",rel:"noopener noreferrer"}},[s._v("craco"),t("OutboundLink")],1),s._v(" 是另一种方式，不需要搭配其他插件使用。")])])}),[],!1,null,null,null);t.default=n.exports}}]);