(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{364:function(e,t,a){"use strict";a.r(t);var r=a(6),v=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"vscode-使用-volar-接管模式代替-ts-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vscode-使用-volar-接管模式代替-ts-plugin"}},[e._v("#")]),e._v(" VSCode 使用 Volar 接管模式代替 TS Plugin")]),e._v(" "),t("p",[e._v("原文："),t("a",{attrs:{href:"https://github.com/johnsoncodehk/volar/discussions/471",target:"_blank",rel:"noopener noreferrer"}},[e._v("Use Take Over Mode instead of TS Plugin #471"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("使用 VSCode + Volar 开发 Vue3 + typescript 项目时，可以使用接管模式代替 TS Plugin 。")]),e._v(" "),t("h2",{attrs:{id:"什么是接管模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是接管模式"}},[e._v("#")]),e._v(" 什么是接管模式")]),e._v(" "),t("p",[e._v("过去，我们为 TS 和 Vue 探索了多种语言支持模式，有：")]),e._v(" "),t("ul",[t("li",[e._v("Vetur Mode: 为 Vue + TS 语言支持提供不同的扩展插件。")]),e._v(" "),t("li",[e._v("VueDX Mode: 由 TS Plugin 实现，Vue + TS 语言支持也由 VSCode 内置的 TypeScript 扩展插件提供。")]),e._v(" "),t("li",[e._v("Volar Mode: 类似于 Vetur，但额外使用 TS Plugin 来弥补 TS 语言支持。")])]),e._v(" "),t("p",[e._v("Volar Mode 存在什么问题？")]),e._v(" "),t("ul",[t("li",[e._v("对于每个 TS 项目，VS Code 内置的 TypeScript 扩展和 Volar 创建了 2 个语言服务实例，TS Plugin 代理程序也有额外的内置 TS 扩展的语言服务实例，最后我们为每个 TS 项目创建了 6 个语言服务实例。理论上，内存和CPU的使用率分别为200% ~ 300%。")]),e._v(" "),t("li",[e._v("由于 VSCode 不支持 TS 插件启用设置，您必须在每次更新 Volar 时重新启用TS插件。")])]),e._v(" "),t("p",[e._v("接管模式是怎么解决 Volar 的问题的？")]),e._v(" "),t("ul",[t("li",[e._v("接管模式不使用 VSCode 内置的 TypeScript 扩展，只使用 Vue 语言服务器来提供 Vue + TS 语言支持。所以我们只有 2 个语言服务实例。")]),e._v(" "),t("li",[e._v("这种方法没有侵入，我们不再需要在每次更新扩展后为 TS Plugin 重新加载 VSCode。")])]),e._v(" "),t("h2",{attrs:{id:"如何启用-禁用接管模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何启用-禁用接管模式"}},[e._v("#")]),e._v(" 如何启用/禁用接管模式")]),e._v(" "),t("ul",[t("li",[e._v("Volar 版本需要大于 "),t("code",[e._v("0.27.17")])]),e._v(" "),t("li",[e._v("禁用 VSCode 内置的 TypeScript 插件：左侧 Extensions 菜单，在过滤图标中选择 Built-in, 在 FEATURES 中找到 "),t("code",[e._v("TypeScript and JavaScript Language Features")]),e._v(" 右键选择 Disable (Workspace)。")]),e._v(" "),t("li",[e._v("如需禁用接管模式，找到上一步的内置扩展 "),t("code",[e._v("TypeScript and JavaScript Language Features")]),e._v(" 右键选择 Enable (Workspace) 即可。")])]),e._v(" "),t("h2",{attrs:{id:"接管模式的限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#接管模式的限制"}},[e._v("#")]),e._v(" 接管模式的限制")]),e._v(" "),t("p",[e._v("Vue 语言服务器试图提供所有内置的 TS 扩展功能，但总会有一些功能落后、缺失或 bug。但都在逐步解决和更新，应用开发者基本可以放心使用，相关详情可查看原文。")])])}),[],!1,null,null,null);t.default=v.exports}}]);