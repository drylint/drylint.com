(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{379:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"前后端对接统一规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前后端对接统一规范"}},[t._v("#")]),t._v(" 前后端对接统一规范")]),t._v(" "),s("blockquote",[s("p",[t._v("本文的约定内容若在实际业务的某些场景中无法遵循，请事先商议并更新此文档。")])]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#general-通用部分"}},[t._v("General 通用部分")])]),s("li",[s("a",{attrs:{href:"#request-headers-请求头"}},[t._v("Request Headers 请求头")]),s("ul",[s("li",[s("a",{attrs:{href:"#authorization-认证授权规范"}},[t._v("Authorization 认证授权规范")])])])]),s("li",[s("a",{attrs:{href:"#request-payload-请求参数"}},[t._v("Request Payload 请求参数")])]),s("li",[s("a",{attrs:{href:"#response-headers"}},[t._v("Response Headers")])]),s("li",[s("a",{attrs:{href:"#response-一般响应说明"}},[t._v("Response 一般响应说明")]),s("ul",[s("li",[s("a",{attrs:{href:"#code-响应的状态码"}},[t._v("code 响应的状态码")])]),s("li",[s("a",{attrs:{href:"#返回消息体示例"}},[t._v("返回消息体示例")])])])]),s("li",[s("a",{attrs:{href:"#其他约定"}},[t._v("其他约定")])]),s("li",[s("a",{attrs:{href:"#常见场景"}},[t._v("常见场景")]),s("ul",[s("li",[s("a",{attrs:{href:"#登录"}},[t._v("登录")]),s("ul",[s("li",[s("a",{attrs:{href:"#登录请求参数"}},[t._v("登录请求参数")])]),s("li",[s("a",{attrs:{href:"#登录响应结果"}},[t._v("登录响应结果")])])])]),s("li",[s("a",{attrs:{href:"#分页"}},[t._v("分页")]),s("ul",[s("li",[s("a",{attrs:{href:"#分页请求参数"}},[t._v("分页请求参数")])]),s("li",[s("a",{attrs:{href:"#分页请求示例"}},[t._v("分页请求示例")])]),s("li",[s("a",{attrs:{href:"#分页响应结果"}},[t._v("分页响应结果")])]),s("li",[s("a",{attrs:{href:"#分页响应示例"}},[t._v("分页响应示例")])])])])])]),s("li",[s("a",{attrs:{href:"#接口文档使用"}},[t._v("接口文档使用")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"general-通用部分"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#general-通用部分"}},[t._v("#")]),t._v(" General 通用部分")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("示例")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Request URL")]),t._v(" "),s("td",[s("code",[t._v("/api/xxxx/getUserInfo")])]),t._v(" "),s("td",[t._v("/小写路由/"),s("strong",[t._v("小驼峰命名")]),t._v("方法")])]),t._v(" "),s("tr",[s("td",[t._v("Request Method")]),t._v(" "),s("td",[s("code",[t._v("POST")])]),t._v(" "),s("td",[t._v("所有接口统一使用 POST 方法")])]),t._v(" "),s("tr",[s("td",[t._v("Status Code")]),t._v(" "),s("td",[s("code",[t._v("200")])]),t._v(" "),s("td",[t._v("请求状态统一返回 200")])])])]),t._v(" "),s("h2",{attrs:{id:"request-headers-请求头"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-headers-请求头"}},[t._v("#")]),t._v(" Request Headers 请求头")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("示例")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("content-type")]),t._v(" "),s("td",[s("code",[t._v("application/json;charset=UTF-8")])]),t._v(" "),s("td",[t._v("统一使用 json 数据")])]),t._v(" "),s("tr",[s("td",[t._v("Authorization")]),t._v(" "),s("td",[s("code",[t._v("<type> <credentials>")])]),t._v(" "),s("td",[t._v("见后文详细描述")])])])]),t._v(" "),s("h3",{attrs:{id:"authorization-认证授权规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#authorization-认证授权规范"}},[t._v("#")]),t._v(" Authorization 认证授权规范")]),t._v(" "),s("p",[t._v("统一在 HTTP 请求的 Header 头中增加 Authorization 字段，示例如下：\n"),s("img",{attrs:{src:"/tdl/tfl/pictures/202101/tapd_43552441_1611542764_25.png",alt:"enter image description here"}})]),t._v(" "),s("ul",[s("li",[t._v("Authorization 代表认证")]),t._v(" "),s("li",[t._v("Bearer 代表服务器端认证的方式")]),t._v(" "),s("li",[t._v("signToken 代表包含用户信息的签名Token，一般使用JWT或ReferenceToken。")])]),t._v(" "),s("p",[t._v("JS使用示例")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("objcet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" xhr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nxhr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("withCredentials "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nxhr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRequestHeader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bearer signToken"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nxhr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRequestHeader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nxhr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h2",{attrs:{id:"request-payload-请求参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-payload-请求参数"}},[t._v("#")]),t._v(" Request Payload 请求参数")]),t._v(" "),s("p",[t._v("统一传递 json 对象")]),t._v(" "),s("p",[t._v("示例一：")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("示例二：")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"number"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"string"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"object"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"array"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value2"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h2",{attrs:{id:"response-headers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-headers"}},[t._v("#")]),t._v(" Response Headers")]),t._v(" "),s("p",[t._v("略")]),t._v(" "),s("h2",{attrs:{id:"response-一般响应说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-一般响应说明"}},[t._v("#")]),t._v(" Response 一般响应说明")]),t._v(" "),s("p",[t._v("在服务器端需要尽量捕获所有错误，并进行统一返回。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数名")]),t._v(" "),s("th",[t._v("参数类型")]),t._v(" "),s("th",[t._v("是否必须")]),t._v(" "),s("th",[t._v("参数说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("code")])]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("请求的状态码，默认和 http status 一致，自定义用附件补充")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("msg")])]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("请求返回描述，可返回各种状态的语句，根据 code 判断显示")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("isShowMsg")])]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("是否显示弹窗，根据业务需求设置")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("data")])]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("返回数据")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("time")])]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("x 位时间戳(待定)")])])])]),t._v(" "),s("h3",{attrs:{id:"code-响应的状态码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#code-响应的状态码"}},[t._v("#")]),t._v(" code 响应的状态码")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("code")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("200")]),t._v(" "),s("td",[t._v("成功")])]),t._v(" "),s("tr",[s("td",[t._v("xxx")]),t._v(" "),s("td",[t._v("...")])])])]),t._v(" "),s("h3",{attrs:{id:"返回消息体示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#返回消息体示例"}},[t._v("#")]),t._v(" 返回消息体示例")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求成功"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"isShowMsg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"time"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1611305148"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"全部"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"list"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("66")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"乐山叶儿耙"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"banner"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://lsmsmp-1252100135.file.myqcloud.com/uploads/20200922/adeead2235907ee2de2b3ed52c200b0d.叶儿耙.jpg"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("67")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"乐山叶儿耙"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"banner"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://lsmsmp-1252100135.file.myqcloud.com/uploads/20200922/adeead2235907ee2de2b3ed52c200b0d.叶儿耙.jpg"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br")])]),s("h2",{attrs:{id:"其他约定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他约定"}},[t._v("#")]),t._v(" 其他约定")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("请求及响应字段统一使用"),s("strong",[t._v("小驼峰")]),t._v("命名，比如 "),s("code",[t._v("pageSize")]),t._v(" ，第三方的命名保持不变，比如微信 api 中使用的 "),s("code",[t._v("access_token")]),t._v(" 保持下划线命名方式。")])]),t._v(" "),s("li",[s("p",[t._v("请求的字段尽可能与响应的字段保持一致，比如，响应的 "),s("code",[t._v("id")]),t._v(" ，请求也使用 "),s("code",[t._v("id")]),t._v(" ，响应的 "),s("code",[t._v("userId")]),t._v(" ，请求也使用 "),s("code",[t._v("userId")]),t._v(" 。")])]),t._v(" "),s("li",[s("p",[t._v("响应的某些数据不存在时，尽可能返回非 "),s("code",[t._v("null")]),t._v(" 的数据类型, 比如，对象类型返回空对象 "),s("code",[t._v("{}")]),t._v(" ，数组类型返回空数组 "),s("code",[t._v("[]")]),t._v(" ，字符串类型返回空字符串 "),s("code",[t._v("''")]),t._v(" 。")])])]),t._v(" "),s("h2",{attrs:{id:"常见场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见场景"}},[t._v("#")]),t._v(" 常见场景")]),t._v(" "),s("h3",{attrs:{id:"登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#登录"}},[t._v("#")]),t._v(" 登录")]),t._v(" "),s("p",[t._v("用户登录统一的请求参数及响应结果。")]),t._v(" "),s("h4",{attrs:{id:"登录请求参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#登录请求参数"}},[t._v("#")]),t._v(" 登录请求参数")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数名")]),t._v(" "),s("th",[t._v("参数类型")]),t._v(" "),s("th",[t._v("是否必须")]),t._v(" "),s("th",[t._v("参数说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("userAccount")])]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("用户帐号或手机号")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("password")])]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("用户密码或手机动态验证码")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("validpassword")])]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("否")]),t._v(" "),s("td",[t._v("图片验证码 用于帐号密码登录失败超过限定次数后")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("loginWay")])]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("0 默认为密码登录 1 默认为手机动态码登录")])])])]),t._v(" "),s("h4",{attrs:{id:"登录响应结果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#登录响应结果"}},[t._v("#")]),t._v(" 登录响应结果")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数名")]),t._v(" "),s("th",[t._v("参数类型")]),t._v(" "),s("th",[t._v("是否必须")]),t._v(" "),s("th",[t._v("参数说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("token")])]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("tokenType")])]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("Jwt/Refrence")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("authType")])]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("默认值 barer")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("expireInSeconds")])]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("过期时间")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("refreshToken")])]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("刷新Token【待定】")])])])]),t._v(" "),s("h3",{attrs:{id:"分页"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分页"}},[t._v("#")]),t._v(" 分页")]),t._v(" "),s("p",[t._v("长列表分页请求的情况。")]),t._v(" "),s("h4",{attrs:{id:"分页请求参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分页请求参数"}},[t._v("#")]),t._v(" 分页请求参数")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数名")]),t._v(" "),s("th",[t._v("参数类型")]),t._v(" "),s("th",[t._v("是否必须")]),t._v(" "),s("th",[t._v("参数说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("page")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("当前页")])]),t._v(" "),s("tr",[s("td",[t._v("pageSize")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("分页大小")])]),t._v(" "),s("tr",[s("td",[t._v("condition")]),t._v(" "),s("td",[t._v("objcet")]),t._v(" "),s("td",[t._v("否")]),t._v(" "),s("td",[t._v("查询条件")])])])]),t._v(" "),s("h4",{attrs:{id:"分页请求示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分页请求示例"}},[t._v("#")]),t._v(" 分页请求示例")]),t._v(" "),s("div",{staticClass:"language-http line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/XYLinkMeetingRoom/pageList")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header"}},[s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("localhost:21025")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header"}},[s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Bearer xxxxSignTokenXXXX")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header"}},[s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("application/json")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header"}},[s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Length")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("87")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"page"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pageSize"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"condition"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("h4",{attrs:{id:"分页响应结果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分页响应结果"}},[t._v("#")]),t._v(" 分页响应结果")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数名")]),t._v(" "),s("th",[t._v("参数类型")]),t._v(" "),s("th",[t._v("是否必须")]),t._v(" "),s("th",[t._v("参数说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("total")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("总数据数")])]),t._v(" "),s("tr",[s("td",[t._v("list")]),t._v(" "),s("td",[t._v("array")]),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("当前页的数据，无数据返回 "),s("code",[t._v("[]")])])])])]),t._v(" "),s("h4",{attrs:{id:"分页响应示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分页响应示例"}},[t._v("#")]),t._v(" 分页响应示例")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"isShowMsg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"total"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"list"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"aa"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bb"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("h2",{attrs:{id:"接口文档使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接口文档使用"}},[t._v("#")]),t._v(" 接口文档使用")]),t._v(" "),s("p",[t._v("暂定使用 "),s("a",{attrs:{href:"https://swagger.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("swagger"),s("OutboundLink")],1),t._v(" 进行代码生成，模板还需优化")]),t._v(" "),s("ul",[s("li",[t._v("不接受使用 word 等文件方式的接口文档。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);