(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{247:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"intersectionobserver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#intersectionobserver"}},[t._v("#")]),t._v(" IntersectionObserver")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#参数-callback-回调"}},[t._v("参数：callback 回调")]),a("ul",[a("li",[a("a",{attrs:{href:"#回调参数-intersectionobserverentry-对象"}},[t._v("回调参数 IntersectionObserverEntry 对象")]),a("ul",[a("li",[a("a",{attrs:{href:"#time-可见性发生变化的时间-是一个高精度时间戳-单位为毫秒"}},[t._v("time 可见性发生变化的时间，是一个高精度时间戳，单位为毫秒")])]),a("li",[a("a",{attrs:{href:"#target-被观察的目标元素-是一个-dom-节点对象"}},[t._v("target 被观察的目标元素，是一个 DOM 节点对象")])]),a("li",[a("a",{attrs:{href:"#rootbounds-根元素的视口范围矩形区域的-domrectreadonly-对象数据"}},[t._v("rootBounds 根元素的视口范围矩形区域的 DOMRectReadOnly 对象数据")])]),a("li",[a("a",{attrs:{href:"#boundingclientrect-目标元素自身的矩形区域的-domrectreadonly-对象数据"}},[t._v("boundingClientRect 目标元素自身的矩形区域的 DOMRectReadOnly 对象数据")])]),a("li",[a("a",{attrs:{href:"#intersectionrect-目标元素与视口的交叉重合区域的-domrectreadonly-对象数据"}},[t._v("intersectionRect 目标元素与视口的交叉重合区域的 DOMRectReadOnly 对象数据")])]),a("li",[a("a",{attrs:{href:"#intersectionratio-目标元素的可见比例"}},[t._v("intersectionRatio 目标元素的可见比例")])]),a("li",[a("a",{attrs:{href:"#isintersecting-目标元素是否与视口范围有相交部分"}},[t._v("isIntersecting 目标元素是否与视口范围有相交部分")])]),a("li",[a("a",{attrs:{href:"#isvisible-是否可见"}},[t._v("isVisible 是否可见")])])])]),a("li",[a("a",{attrs:{href:"#回调参数-observer-观察器实例对象"}},[t._v("回调参数：observer 观察器实例对象")])])])]),a("li",[a("a",{attrs:{href:"#参数-options-配置对象"}},[t._v("参数：options 配置对象")]),a("ul",[a("li",[a("a",{attrs:{href:"#root-指定要观察的目标元素以哪个元素为视口根元素"}},[t._v("root 指定要观察的目标元素以哪个元素为视口根元素")])]),a("li",[a("a",{attrs:{href:"#rootmargin-控制根元素-视口元素-视口矩形范围大小"}},[t._v("rootMargin 控制根元素（视口元素）视口矩形范围大小")])]),a("li",[a("a",{attrs:{href:"#threshold-设置-entry-intersectionratio-值经过哪些阈值时触发回调"}},[t._v("threshold 设置 entry.intersectionRatio 值经过哪些阈值时触发回调")])])])]),a("li",[a("a",{attrs:{href:"#返回值-observer-观察器实例对象"}},[t._v("返回值：observer 观察器实例对象")]),a("ul",[a("li",[a("a",{attrs:{href:"#属性"}},[t._v("属性")]),a("ul",[a("li",[a("a",{attrs:{href:"#root-指定的视口元素-未指定返回-null"}},[t._v("root 指定的视口元素，未指定返回 null")])]),a("li",[a("a",{attrs:{href:"#rootmargin-创建实例时设置的视口范围边距"}},[t._v("rootMargin 创建实例时设置的视口范围边距")])]),a("li",[a("a",{attrs:{href:"#thresholds-一个包含交叉阈值的列表-按升序排列-默认-0"}},[t._v("thresholds 一个包含交叉阈值的列表, 按升序排列，默认 [0]")])])])]),a("li",[a("a",{attrs:{href:"#方法"}},[t._v("方法")]),a("ul",[a("li",[a("a",{attrs:{href:"#disconnect-关闭观察器"}},[t._v("disconnect() 关闭观察器")])]),a("li",[a("a",{attrs:{href:"#observe-ele-htmlelement-监听一个-dom-元素-监听多个需多次调用"}},[t._v("observe(ele: HTMLElement) 监听一个 DOM 元素，监听多个需多次调用")])]),a("li",[a("a",{attrs:{href:"#takerecords-返回所有观察目标的-intersectionobserverentry-对象数组"}},[t._v("takeRecords() 返回所有观察目标的 IntersectionObserverEntry 对象数组")])]),a("li",[a("a",{attrs:{href:"#unobserve-ele-htmlelement-停止监听指定的-dom-元素"}},[t._v("unobserve(ele: HTMLElement) 停止监听指定的 DOM 元素")])])])])])]),a("li",[a("a",{attrs:{href:"#使用实例"}},[t._v("使用实例")]),a("ul",[a("li",[a("a",{attrs:{href:"#图片懒加载"}},[t._v("图片懒加载")])]),a("li",[a("a",{attrs:{href:"#页面触底加载-无限滚动"}},[t._v("页面触底加载（无限滚动）")])]),a("li",[a("a",{attrs:{href:"#视频自动播放"}},[t._v("视频自动播放")])])])])])]),a("p"),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/11/intersectionobserver_api.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("IntersectionObserver API 使用教程  (阮一峰/2016年11月3日)"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v('用于观察某个元素是否进入了"视口"（viewport），即用户能不能看到它。')]),t._v(" "),a("p",[t._v("传统的实现方法是，监听到 "),a("code",[t._v("scroll")]),t._v(" 事件后，调用目标元素的"),a("code",[t._v("getBoundingClientRect()")]),t._v(" 方法，得到它对应于视口左上角的坐标，再判断是否在视口之内。这种方法的缺点是，由于 "),a("code",[t._v("scroll")]),t._v(" 事件密集发生，计算量很大，容易造成性能问题。")]),t._v(" "),a("p",[t._v('目前有一个新的 IntersectionObserver API，可以自动"观察"元素是否可见，Chrome 51+ 已经支持。由于可见（visible）的本质是，目标元素与视口产生一个交叉区（重合部分），所以这个 API 叫做“交叉观察器”。')]),t._v(" "),a("p",[a("code",[t._v("IntersectionObserver")]),t._v(" 是浏览器原生提供的构造函数，构造出的实例可以用来观察一个 DOM 元素是否与视口有交叉区域，也就是是否在视口范围内可见。")]),t._v(" "),a("p",[a("code",[t._v("IntersectionObserver")]),t._v(" API 是异步的，不随着目标元素的滚动同步触发。")]),t._v(" "),a("p",[t._v("规格写明，"),a("code",[t._v("IntersectionObserver")]),t._v(" 的实现，应该采用 "),a("code",[t._v("requestIdleCallback()")]),t._v("，即只有线程空闲下来，才会执行观察器。这意味着，这个观察器的优先级非常低，只在其他任务执行完，浏览器有了空闲才会执行。")]),t._v(" "),a("p",[t._v("用法比较简单，构造函数接受两个参数，并返回一个观察器实例对象：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[a("code",[t._v("callback")]),t._v(" 是可见性变化时的回调函数")]),t._v(" "),a("li",[a("code",[t._v("options")]),t._v(" 可选参数，是配置对象")])]),t._v(" "),a("h2",{attrs:{id:"参数-callback-回调"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数-callback-回调"}},[t._v("#")]),t._v(" 参数："),a("code",[t._v("callback")]),t._v(" 回调")]),t._v(" "),a("p",[t._v("回调会被传入两个参数：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("entries")]),t._v(" 一个由 "),a("code",[t._v("IntersectionObserverEntry")]),t._v(" 对象组成的数组，当观察多个目标元素时则会有多个对象。")]),t._v(" "),a("li",[a("code",[t._v("observer")]),t._v(" 被调用的 "),a("code",[t._v("IntersectionObserver")]),t._v(" 实例。")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("callback")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("entries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"回调参数-intersectionobserverentry-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#回调参数-intersectionobserverentry-对象"}},[t._v("#")]),t._v(" 回调参数 "),a("code",[t._v("IntersectionObserverEntry")]),t._v(" 对象")]),t._v(" "),a("p",[t._v("对象结构是这样的：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  rootBounds"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DOMRectReadOnly "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    width"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOMRect 的宽度。")]),t._v("\n    height"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOMRect 的高度。")]),t._v("\n    x"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOMRect 原点的 x 坐标。")]),t._v("\n    y"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("299")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOMRect 原点的 y 坐标。")]),t._v("\n    top"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("299")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回 DOMRect 的顶部坐标值（通常与 y 相同）。")]),t._v("\n    right"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回 DOMRect 的右坐标值（通常与 x + width 相同）。")]),t._v("\n    bottom"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("599")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回 DOMRect 的底部坐标值（通常与 y + height 相同）。")]),t._v("\n    left"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回 DOMRect 的左坐标值（通常与 x​​​​​​​ 相同）。")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  boundingClientRect"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DOMRectReadOnly "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  intersectionRect"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DOMRectReadOnly "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  intersectionRatio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  isIntersecting"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  isVisible"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  target"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" HTMLElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("791.2299998570234")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("h4",{attrs:{id:"time-可见性发生变化的时间-是一个高精度时间戳-单位为毫秒"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#time-可见性发生变化的时间-是一个高精度时间戳-单位为毫秒"}},[t._v("#")]),t._v(" "),a("code",[t._v("time")]),t._v(" 可见性发生变化的时间，是一个高精度时间戳，单位为毫秒")]),t._v(" "),a("h4",{attrs:{id:"target-被观察的目标元素-是一个-dom-节点对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#target-被观察的目标元素-是一个-dom-节点对象"}},[t._v("#")]),t._v(" "),a("code",[t._v("target")]),t._v(" 被观察的目标元素，是一个 DOM 节点对象")]),t._v(" "),a("h4",{attrs:{id:"rootbounds-根元素的视口范围矩形区域的-domrectreadonly-对象数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rootbounds-根元素的视口范围矩形区域的-domrectreadonly-对象数据"}},[t._v("#")]),t._v(" "),a("code",[t._v("rootBounds")]),t._v(" 根元素的视口范围矩形区域的 "),a("code",[t._v("DOMRectReadOnly")]),t._v(" 对象数据")]),t._v(" "),a("p",[t._v("相当于对元素直接调用 "),a("code",[t._v("getBoundingClientRect()")]),t._v(" 方法返回的 "),a("code",[t._v("DOMRectReadOnly")]),t._v(" 对象数据，如果没有指定根元素（即直接相对于视口滚动），则返回 "),a("code",[t._v("null")])]),t._v(" "),a("p",[a("code",[t._v("DOMRectReadOnly")]),t._v(" 对象结构是这样的：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  width"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOMRect 的宽度。")]),t._v("\n  height"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOMRect 的高度。")]),t._v("\n  x"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOMRect 原点的 x 坐标。")]),t._v("\n  y"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("299")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOMRect 原点的 y 坐标。")]),t._v("\n  top"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("299")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回 DOMRect 的顶部坐标值（通常与 y 相同）。")]),t._v("\n  right"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回 DOMRect 的右坐标值（通常与 x + width 相同）。")]),t._v("\n  bottom"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("599")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回 DOMRect 的底部坐标值（通常与 y + height 相同）。")]),t._v("\n  left"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回 DOMRect 的左坐标值（通常与 x​​​​​​​ 相同）。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h4",{attrs:{id:"boundingclientrect-目标元素自身的矩形区域的-domrectreadonly-对象数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#boundingclientrect-目标元素自身的矩形区域的-domrectreadonly-对象数据"}},[t._v("#")]),t._v(" "),a("code",[t._v("boundingClientRect")]),t._v(" 目标元素自身的矩形区域的 "),a("code",[t._v("DOMRectReadOnly")]),t._v(" 对象数据")]),t._v(" "),a("h4",{attrs:{id:"intersectionrect-目标元素与视口的交叉重合区域的-domrectreadonly-对象数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#intersectionrect-目标元素与视口的交叉重合区域的-domrectreadonly-对象数据"}},[t._v("#")]),t._v(" "),a("code",[t._v("intersectionRect")]),t._v(" 目标元素与视口的交叉重合区域的 "),a("code",[t._v("DOMRectReadOnly")]),t._v(" 对象数据")]),t._v(" "),a("h4",{attrs:{id:"intersectionratio-目标元素的可见比例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#intersectionratio-目标元素的可见比例"}},[t._v("#")]),t._v(" "),a("code",[t._v("intersectionRatio")]),t._v(" 目标元素的可见比例")]),t._v(" "),a("p",[t._v("表明目标元素自身有百分之多少进入了视口范围，也就是 "),a("code",[t._v("intersectionRect")]),t._v(" 占 "),a("code",[t._v("boundingClientRect")]),t._v(" 的比例，完全可见时为 "),a("code",[t._v("1")]),t._v(" ，完全不可见时为 "),a("code",[t._v("0")])]),t._v(" "),a("h4",{attrs:{id:"isintersecting-目标元素是否与视口范围有相交部分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#isintersecting-目标元素是否与视口范围有相交部分"}},[t._v("#")]),t._v(" "),a("code",[t._v("isIntersecting")]),t._v(" 目标元素是否与视口范围有相交部分")]),t._v(" "),a("p",[t._v("如果目标元素与视口范围有相交，则返回 "),a("code",[t._v("true")]),t._v("，同时也表示 "),a("code",[t._v("IntersectionObserverEntry")]),t._v(" 描述了从没有交叉到交叉的过程，如果返回 false, 那么可以由此判断，变换是从交叉状态到非交叉状态。")]),t._v(" "),a("h4",{attrs:{id:"isvisible-是否可见"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#isvisible-是否可见"}},[t._v("#")]),t._v(" "),a("code",[t._v("isVisible")]),t._v(" 是否可见")]),t._v(" "),a("h3",{attrs:{id:"回调参数-observer-观察器实例对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#回调参数-observer-观察器实例对象"}},[t._v("#")]),t._v(" 回调参数："),a("code",[t._v("observer")]),t._v(" 观察器实例对象")]),t._v(" "),a("p",[t._v("详见后文：返回值："),a("code",[t._v("observer")]),t._v(" 观察器实例对象")]),t._v(" "),a("h2",{attrs:{id:"参数-options-配置对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数-options-配置对象"}},[t._v("#")]),t._v(" 参数："),a("code",[t._v("options")]),t._v(" 配置对象")]),t._v(" "),a("p",[t._v("一个可以用来配置 "),a("code",[t._v("observer")]),t._v(" 实例的对象。如果 "),a("code",[t._v("options")]),t._v(" 未指定，observer实例默认使用文档视口作为root，并且没有 "),a("code",[t._v("margin")]),t._v("，阈值为 "),a("code",[t._v("0%")]),t._v("（意味着即使一像素的改变都会触发回调函数）。你可以指定以下配置：")]),t._v(" "),a("h3",{attrs:{id:"root-指定要观察的目标元素以哪个元素为视口根元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#root-指定要观察的目标元素以哪个元素为视口根元素"}},[t._v("#")]),t._v(" "),a("code",[t._v("root")]),t._v(" 指定要观察的目标元素以哪个元素为视口根元素")]),t._v(" "),a("p",[a("code",[t._v("type: HTMLElement")])]),t._v(" "),a("p",[a("code",[t._v("default: 屏幕视口")])]),t._v(" "),a("p",[t._v("指定一个 DOM 元素作为根元素（视口元素），也就是将这个元素当作视口，元素的边界作为视口的边界。")]),t._v(" "),a("p",[t._v("目标元素在 "),a("code",[t._v("root")]),t._v(" 元素的可见区域的的任何不可见部分都会被视为不可见。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  root"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.container'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"rootmargin-控制根元素-视口元素-视口矩形范围大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rootmargin-控制根元素-视口元素-视口矩形范围大小"}},[t._v("#")]),t._v(" "),a("code",[t._v("rootMargin")]),t._v(" 控制根元素（视口元素）视口矩形范围大小")]),t._v(" "),a("p",[a("code",[t._v("type: string")])]),t._v(" "),a("p",[a("code",[t._v("default: '0px 0px 0px 0px'")])]),t._v(" "),a("p",[t._v("注意：字符串值分别指定上右下左 margin，只能为像素值或百分比，"),a("code",[t._v("0")]),t._v(" 也必须带上单位 "),a("code",[t._v("0px")]),t._v("，正负值均可。")]),t._v(" "),a("p",[a("code",[t._v("rootMargin")]),t._v(" 设置根元素（视口元素）的四个方向外边距，它会扩展（正值）或缩小（负值） "),a("code",[t._v("rootBounds")]),t._v(" 这个视口矩形范围的大小，从而影响 "),a("code",[t._v("intersectionRect")]),t._v(" 交叉区域的大小。")]),t._v(" "),a("p",[t._v("假如指定一个 class 为 "),a("code",[t._v(".container")]),t._v(" 的元素为视口元素，他的宽高均为 "),a("code",[t._v("600px")]),t._v("，在未指定 "),a("code",[t._v("rootMargin")]),t._v(" 属性值时，观察器判断它里面的一个子元素是否在可视范围内时，依据的范围就是 "),a("code",[t._v("600px * 600px")]),t._v(" 这个范围。")]),t._v(" "),a("p",[t._v("但如果指定一个 "),a("code",[t._v("rootMargin")]),t._v(" 范围如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  root"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.container'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  rootMargin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'300px 0px -200px 0px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("上例指定了 "),a("code",[t._v("rootMargin")]),t._v(" 值为 "),a("code",[t._v("'300px 0px -200px 0px'")]),t._v("，则观察器的判定范围就发生了变化。")]),t._v(" "),a("p",[t._v("上边距设置了 "),a("code",[t._v("300px")]),t._v(" 则上方的判定范围就扩大了，也就是被观察的子元素从上方进入时，会比之前早 "),a("code",[t._v("300px")]),t._v(" 触发进入事件，从上方离开时则会晚 "),a("code",[t._v("300px")]),t._v(" 的距离触发离开事件。")]),t._v(" "),a("p",[t._v("而下边距设置了 "),a("code",[t._v("-200px")]),t._v(" 则下方的判定范围被缩小了，被观察的子元素从下方进入时，会比之前晚 "),a("code",[t._v("200px")]),t._v(" 的距离触发进入事件，从下方离开时则会早 "),a("code",[t._v("200px")]),t._v(" 的距离触发离开事件。")]),t._v(" "),a("h3",{attrs:{id:"threshold-设置-entry-intersectionratio-值经过哪些阈值时触发回调"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#threshold-设置-entry-intersectionratio-值经过哪些阈值时触发回调"}},[t._v("#")]),t._v(" "),a("code",[t._v("threshold")]),t._v(" 设置 "),a("code",[t._v("entry.intersectionRatio")]),t._v(" 值经过哪些阈值时触发回调")]),t._v(" "),a("p",[a("code",[t._v("type: Array<number>")])]),t._v(" "),a("p",[a("code",[t._v("default: [0]")])]),t._v(" "),a("p",[t._v("指定的每一个数表示 "),a("strong",[t._v("被观察元素有百分之多少在视口范围内时")]),t._v(" 触发回调的阈值，元素滚动时，自身在视口范围内的占比变化过程中，高于或低于这个值时则会触发回调函数。用 "),a("code",[t._v("0 ~ 1")]),t._v(" 之间的数表示元素自身有 "),a("code",[t._v("0% ~ 100%")]),t._v(" 在视口范围内。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("[0]")]),t._v(" 只要进入一点点即触发一次，完全离开再触发一次")]),t._v(" "),a("li",[a("code",[t._v("[1]")]),t._v(" 完全进入才触发一次，只要离开一点点即会触发一次")]),t._v(" "),a("li",[a("code",[t._v("[0.5]")]),t._v(" 进入了一半触发一次，离开了一半触发一次")]),t._v(" "),a("li",[a("code",[t._v("[0, 0.5, 1]")]),t._v(" 刚进入/进入一半/完全进入时均会触发一次，刚离开/离开一半/完全离开时也会触发一次。")])]),t._v(" "),a("h2",{attrs:{id:"返回值-observer-观察器实例对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值-observer-观察器实例对象"}},[t._v("#")]),t._v(" 返回值："),a("code",[t._v("observer")]),t._v(" 观察器实例对象")]),t._v(" "),a("p",[a("code",[t._v("type: IntersectionObserver")])]),t._v(" "),a("p",[t._v("当一个 "),a("code",[t._v("IntersectionObserver")]),t._v(" 对象被创建时，其被配置为监听视口元素中一段给定比例的可见区域。")]),t._v(" "),a("p",[t._v("一旦 "),a("code",[t._v("IntersectionObserver")]),t._v(" 被创建，则无法更改其配置，所以一个给定的观察者对象只能用来监听可见区域的特定变化值，可以在同一个观察者对象中配置监听多个目标元素。")]),t._v(" "),a("h3",{attrs:{id:"属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),a("h4",{attrs:{id:"root-指定的视口元素-未指定返回-null"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#root-指定的视口元素-未指定返回-null"}},[t._v("#")]),t._v(" "),a("code",[t._v("root")]),t._v(" 指定的视口元素，未指定返回 "),a("code",[t._v("null")])]),t._v(" "),a("h4",{attrs:{id:"rootmargin-创建实例时设置的视口范围边距"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rootmargin-创建实例时设置的视口范围边距"}},[t._v("#")]),t._v(" "),a("code",[t._v("rootMargin")]),t._v(" 创建实例时设置的视口范围边距")]),t._v(" "),a("p",[t._v("此属性返回的值可能与调用构造函数时指定的值不同，因此可能需要更改该值，以匹配内部要求。默认值为"),a("code",[t._v("'0px 0px 0px 0px'")]),t._v("。")]),t._v(" "),a("h4",{attrs:{id:"thresholds-一个包含交叉阈值的列表-按升序排列-默认-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#thresholds-一个包含交叉阈值的列表-按升序排列-默认-0"}},[t._v("#")]),t._v(" "),a("code",[t._v("thresholds")]),t._v(" 一个包含交叉阈值的列表, 按升序排列，默认 "),a("code",[t._v("[0]")])]),t._v(" "),a("h3",{attrs:{id:"方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),a("h4",{attrs:{id:"disconnect-关闭观察器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disconnect-关闭观察器"}},[t._v("#")]),t._v(" "),a("code",[t._v("disconnect()")]),t._v(" 关闭观察器")]),t._v(" "),a("h4",{attrs:{id:"observe-ele-htmlelement-监听一个-dom-元素-监听多个需多次调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#observe-ele-htmlelement-监听一个-dom-元素-监听多个需多次调用"}},[t._v("#")]),t._v(" "),a("code",[t._v("observe(ele: HTMLElement)")]),t._v(" 监听一个 DOM 元素，监听多个需多次调用")]),t._v(" "),a("h4",{attrs:{id:"takerecords-返回所有观察目标的-intersectionobserverentry-对象数组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#takerecords-返回所有观察目标的-intersectionobserverentry-对象数组"}},[t._v("#")]),t._v(" "),a("code",[t._v("takeRecords()")]),t._v(" 返回所有观察目标的 "),a("code",[t._v("IntersectionObserverEntry")]),t._v(" 对象数组")]),t._v(" "),a("p",[t._v("每个对象的目标元素都包含每次相交的信息, 可以显式通过调用此方法或隐式地通过观察者的回调自动调用。")]),t._v(" "),a("h4",{attrs:{id:"unobserve-ele-htmlelement-停止监听指定的-dom-元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unobserve-ele-htmlelement-停止监听指定的-dom-元素"}},[t._v("#")]),t._v(" "),a("code",[t._v("unobserve(ele: HTMLElement)")]),t._v(" 停止监听指定的 DOM 元素")]),t._v(" "),a("h2",{attrs:{id:"使用实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用实例"}},[t._v("#")]),t._v(" 使用实例")]),t._v(" "),a("h3",{attrs:{id:"图片懒加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#图片懒加载"}},[t._v("#")]),t._v(" 图片懒加载")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 400px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 400px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  ")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token style-attr"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token style language-css"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 800px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("2.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("3.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token style-attr"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token style language-css"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 800px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建观察器")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("entries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      entries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("entry")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("intersectionRatio "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用完之后务必取消观察，否则来回进出视口会反复触发")]),t._v("\n          observer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unobserve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查找所有需要被观察的元素，并运用观察器")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" imgs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'img'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    imgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("imgEle")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" observer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgEle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br")])]),a("h3",{attrs:{id:"页面触底加载-无限滚动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面触底加载-无限滚动"}},[t._v("#")]),t._v(" 页面触底加载（无限滚动）")]),t._v(" "),a("p",[t._v("监听页面底部元素，如果进入视口则触发加载事件，如果没有底部元素，就需要每一次页面加入新内容时，都调用 "),a("code",[t._v("observe()")]),t._v(" 方法，对新增内容的底部元素建立观察。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" intersectionObserver "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("entries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果不可见，就返回")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("intersectionRatio "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadItems")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Loaded new items'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开始观察")]),t._v("\nintersectionObserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.scrollerFooter'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("h3",{attrs:{id:"视频自动播放"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视频自动播放"}},[t._v("#")]),t._v(" 视频自动播放")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" video "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'video'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" isPaused "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" observer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("entries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" observer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("entry")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("intersectionRatio "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("video"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("paused"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      video"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pause")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      isPaused "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isPaused"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      video"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("play")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      isPaused"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("threshold"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nobserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("video"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);