(window.webpackJsonp=window.webpackJsonp||[]).push([[170],{373:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"前后端对接统一规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前后端对接统一规范"}},[t._v("#")]),t._v(" 前后端对接统一规范")]),t._v(" "),a("blockquote",[a("p",[t._v("本文的约定内容若在实际业务的某些场景中无法遵循，请事先商议并更新此文档。")])]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#general-通用部分"}},[t._v("General 通用部分")])]),a("li",[a("a",{attrs:{href:"#request-headers-请求头"}},[t._v("Request Headers 请求头")]),a("ul",[a("li",[a("a",{attrs:{href:"#authorization-认证授权规范"}},[t._v("Authorization 认证授权规范")])])])]),a("li",[a("a",{attrs:{href:"#request-payload-请求参数"}},[t._v("Request Payload 请求参数")])]),a("li",[a("a",{attrs:{href:"#response-headers"}},[t._v("Response Headers")])]),a("li",[a("a",{attrs:{href:"#response-一般响应说明"}},[t._v("Response 一般响应说明")]),a("ul",[a("li",[a("a",{attrs:{href:"#code-响应的状态码"}},[t._v("code 响应的状态码")])]),a("li",[a("a",{attrs:{href:"#返回消息体示例"}},[t._v("返回消息体示例")])])])]),a("li",[a("a",{attrs:{href:"#其他约定"}},[t._v("其他约定")])]),a("li",[a("a",{attrs:{href:"#常见场景"}},[t._v("常见场景")]),a("ul",[a("li",[a("a",{attrs:{href:"#登录"}},[t._v("登录")]),a("ul",[a("li",[a("a",{attrs:{href:"#登录请求参数"}},[t._v("登录请求参数")])]),a("li",[a("a",{attrs:{href:"#登录响应结果"}},[t._v("登录响应结果")])])])]),a("li",[a("a",{attrs:{href:"#分页"}},[t._v("分页")]),a("ul",[a("li",[a("a",{attrs:{href:"#分页请求参数"}},[t._v("分页请求参数")])]),a("li",[a("a",{attrs:{href:"#分页请求示例"}},[t._v("分页请求示例")])]),a("li",[a("a",{attrs:{href:"#分页响应结果"}},[t._v("分页响应结果")])]),a("li",[a("a",{attrs:{href:"#分页响应示例"}},[t._v("分页响应示例")])])])])])]),a("li",[a("a",{attrs:{href:"#接口文档使用"}},[t._v("接口文档使用")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"general-通用部分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#general-通用部分"}},[t._v("#")]),t._v(" General 通用部分")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("示例")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Request URL")]),t._v(" "),a("td",[a("code",[t._v("/api/xxxx/getUserInfo")])]),t._v(" "),a("td",[t._v("/小写路由/"),a("strong",[t._v("小驼峰命名")]),t._v("方法")])]),t._v(" "),a("tr",[a("td",[t._v("Request Method")]),t._v(" "),a("td",[a("code",[t._v("POST")])]),t._v(" "),a("td",[t._v("所有接口统一使用 POST 方法")])]),t._v(" "),a("tr",[a("td",[t._v("Status Code")]),t._v(" "),a("td",[a("code",[t._v("200")])]),t._v(" "),a("td",[t._v("请求状态统一返回 200")])])])]),t._v(" "),a("h2",{attrs:{id:"request-headers-请求头"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-headers-请求头"}},[t._v("#")]),t._v(" Request Headers 请求头")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("示例")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("content-type")]),t._v(" "),a("td",[a("code",[t._v("application/json;charset=UTF-8")])]),t._v(" "),a("td",[t._v("统一使用 json 数据")])]),t._v(" "),a("tr",[a("td",[t._v("Authorization")]),t._v(" "),a("td",[a("code",[t._v("<type> <credentials>")])]),t._v(" "),a("td",[t._v("见后文详细描述")])])])]),t._v(" "),a("h3",{attrs:{id:"authorization-认证授权规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authorization-认证授权规范"}},[t._v("#")]),t._v(" Authorization 认证授权规范")]),t._v(" "),a("p",[t._v("统一在 HTTP 请求的 Header 头中增加 Authorization 字段，示例如下：\n"),a("img",{attrs:{src:"/tdl/tfl/pictures/202101/tapd_43552441_1611542764_25.png",alt:"enter image description here"}})]),t._v(" "),a("ul",[a("li",[t._v("Authorization 代表认证")]),t._v(" "),a("li",[t._v("Bearer 代表服务器端认证的方式")]),t._v(" "),a("li",[t._v("signToken 代表包含用户信息的签名Token，一般使用JWT或ReferenceToken。")])]),t._v(" "),a("p",[t._v("JS使用示例")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("objcet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" xhr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("withCredentials "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRequestHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bearer signToken"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRequestHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h2",{attrs:{id:"request-payload-请求参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-payload-请求参数"}},[t._v("#")]),t._v(" Request Payload 请求参数")]),t._v(" "),a("p",[t._v("统一传递 json 对象")]),t._v(" "),a("p",[t._v("示例一：")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("示例二：")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"number"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"object"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"array"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value2"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("h2",{attrs:{id:"response-headers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response-headers"}},[t._v("#")]),t._v(" Response Headers")]),t._v(" "),a("p",[t._v("略")]),t._v(" "),a("h2",{attrs:{id:"response-一般响应说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response-一般响应说明"}},[t._v("#")]),t._v(" Response 一般响应说明")]),t._v(" "),a("p",[t._v("在服务器端需要尽量捕获所有错误，并进行统一返回。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("参数类型")]),t._v(" "),a("th",[t._v("是否必须")]),t._v(" "),a("th",[t._v("参数说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("code")])]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("请求的状态码，默认和 http status 一致，自定义用附件补充")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("msg")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("请求返回描述，可返回各种状态的语句，根据 code 判断显示")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("isShowMsg")])]),t._v(" "),a("td",[t._v("boolean")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("是否显示弹窗，根据业务需求设置")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("data")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("返回数据")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("time")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("x 位时间戳(待定)")])])])]),t._v(" "),a("h3",{attrs:{id:"code-响应的状态码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#code-响应的状态码"}},[t._v("#")]),t._v(" code 响应的状态码")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("code")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("200")]),t._v(" "),a("td",[t._v("成功")])]),t._v(" "),a("tr",[a("td",[t._v("xxx")]),t._v(" "),a("td",[t._v("...")])])])]),t._v(" "),a("h3",{attrs:{id:"返回消息体示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回消息体示例"}},[t._v("#")]),t._v(" 返回消息体示例")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求成功"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"isShowMsg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"time"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1611305148"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"全部"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"list"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("66")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"乐山叶儿耙"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"banner"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://lsmsmp-1252100135.file.myqcloud.com/uploads/20200922/adeead2235907ee2de2b3ed52c200b0d.叶儿耙.jpg"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("67")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"乐山叶儿耙"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"banner"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://lsmsmp-1252100135.file.myqcloud.com/uploads/20200922/adeead2235907ee2de2b3ed52c200b0d.叶儿耙.jpg"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br")])]),a("h2",{attrs:{id:"其他约定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他约定"}},[t._v("#")]),t._v(" 其他约定")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("请求及响应字段统一使用"),a("strong",[t._v("小驼峰")]),t._v("命名，比如 "),a("code",[t._v("pageSize")]),t._v(" ，第三方的命名保持不变，比如微信 api 中使用的 "),a("code",[t._v("access_token")]),t._v(" 保持下划线命名方式。")])]),t._v(" "),a("li",[a("p",[t._v("请求的字段尽可能与响应的字段保持一致，比如，响应的 "),a("code",[t._v("id")]),t._v(" ，请求也使用 "),a("code",[t._v("id")]),t._v(" ，响应的 "),a("code",[t._v("userId")]),t._v(" ，请求也使用 "),a("code",[t._v("userId")]),t._v(" 。")])]),t._v(" "),a("li",[a("p",[t._v("响应的某些数据不存在时，尽可能返回非 "),a("code",[t._v("null")]),t._v(" 的数据类型, 比如，对象类型返回空对象 "),a("code",[t._v("{}")]),t._v(" ，数组类型返回空数组 "),a("code",[t._v("[]")]),t._v(" ，字符串类型返回空字符串 "),a("code",[t._v("''")]),t._v(" 。")])])]),t._v(" "),a("h2",{attrs:{id:"常见场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见场景"}},[t._v("#")]),t._v(" 常见场景")]),t._v(" "),a("h3",{attrs:{id:"登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录"}},[t._v("#")]),t._v(" 登录")]),t._v(" "),a("p",[t._v("用户登录统一的请求参数及响应结果。")]),t._v(" "),a("h4",{attrs:{id:"登录请求参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录请求参数"}},[t._v("#")]),t._v(" 登录请求参数")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("参数类型")]),t._v(" "),a("th",[t._v("是否必须")]),t._v(" "),a("th",[t._v("参数说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("userAccount")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("用户帐号或手机号")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("password")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("用户密码或手机动态验证码")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("validpassword")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("图片验证码 用于帐号密码登录失败超过限定次数后")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("loginWay")])]),t._v(" "),a("td",[t._v("number")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("0 默认为密码登录 1 默认为手机动态码登录")])])])]),t._v(" "),a("h4",{attrs:{id:"登录响应结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录响应结果"}},[t._v("#")]),t._v(" 登录响应结果")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("参数类型")]),t._v(" "),a("th",[t._v("是否必须")]),t._v(" "),a("th",[t._v("参数说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("token")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tokenType")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("Jwt/Refrence")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("authType")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("默认值 barer")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("expireInSeconds")])]),t._v(" "),a("td",[t._v("number")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("过期时间")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("refreshToken")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("刷新Token【待定】")])])])]),t._v(" "),a("h3",{attrs:{id:"分页"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分页"}},[t._v("#")]),t._v(" 分页")]),t._v(" "),a("p",[t._v("长列表分页请求的情况。")]),t._v(" "),a("h4",{attrs:{id:"分页请求参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分页请求参数"}},[t._v("#")]),t._v(" 分页请求参数")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("参数类型")]),t._v(" "),a("th",[t._v("是否必须")]),t._v(" "),a("th",[t._v("参数说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("page")]),t._v(" "),a("td",[t._v("number")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("当前页")])]),t._v(" "),a("tr",[a("td",[t._v("pageSize")]),t._v(" "),a("td",[t._v("number")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("分页大小")])]),t._v(" "),a("tr",[a("td",[t._v("condition")]),t._v(" "),a("td",[t._v("objcet")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("查询条件")])])])]),t._v(" "),a("h4",{attrs:{id:"分页请求示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分页请求示例"}},[t._v("#")]),t._v(" 分页请求示例")]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("GET")]),t._v(" /api/XYLinkMeetingRoom/pageList HTTP/1.1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host:")]),t._v(" localhost:21025\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization:")]),t._v(" Bearer xxxxSignTokenXXXX\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Length:")]),t._v(' 87\n\n{\n  "page": 1,\n  "pageSize": 50,\n  "condition": {\n    "name": "123"\n  }\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("h4",{attrs:{id:"分页响应结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分页响应结果"}},[t._v("#")]),t._v(" 分页响应结果")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("参数类型")]),t._v(" "),a("th",[t._v("是否必须")]),t._v(" "),a("th",[t._v("参数说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("total")]),t._v(" "),a("td",[t._v("number")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("总数据数")])]),t._v(" "),a("tr",[a("td",[t._v("list")]),t._v(" "),a("td",[t._v("array")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("当前页的数据，无数据返回 "),a("code",[t._v("[]")])])])])]),t._v(" "),a("h4",{attrs:{id:"分页响应示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分页响应示例"}},[t._v("#")]),t._v(" 分页响应示例")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"isShowMsg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"total"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"list"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"aa"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bb"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("h2",{attrs:{id:"接口文档使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接口文档使用"}},[t._v("#")]),t._v(" 接口文档使用")]),t._v(" "),a("p",[t._v("暂定使用 "),a("a",{attrs:{href:"https://swagger.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("swagger"),a("OutboundLink")],1),t._v(" 进行代码生成，模板还需优化")]),t._v(" "),a("ul",[a("li",[t._v("不接受使用 word 等文件方式的接口文档。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);