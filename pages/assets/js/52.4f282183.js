(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{256:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"geolocation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#geolocation"}},[t._v("#")]),t._v(" Geolocation")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#属性-无"}},[t._v("属性：无")])]),a("li",[a("a",{attrs:{href:"#方法"}},[t._v("方法")]),a("ul",[a("li",[a("a",{attrs:{href:"#getcurrentposition-successcallback-errorcallback-options"}},[t._v("getCurrentPosition(successCallback, errorCallback, options)")]),a("ul",[a("li",[a("a",{attrs:{href:"#必传参数-successcallback-定位成功回调"}},[t._v("必传参数：successCallback 定位成功回调")]),a("ul",[a("li",[a("a",{attrs:{href:"#入参-position-对象"}},[t._v("入参：Position 对象")]),a("ul",[a("li",[a("a",{attrs:{href:"#coords-一个-coordinates-对象-见文末-表示当前位置的坐标"}},[t._v("coords 一个 Coordinates 对象（见文末），表示当前位置的坐标")])]),a("li",[a("a",{attrs:{href:"#timestamp-代表当前时间戳的对象"}},[t._v("timestamp 代表当前时间戳的对象")])])])])])]),a("li",[a("a",{attrs:{href:"#可选参数-errorcallback-定位失败回调"}},[t._v("可选参数：errorCallback 定位失败回调")]),a("ul",[a("li",[a("a",{attrs:{href:"#入参-positionerror-对象"}},[t._v("入参：PositionError 对象")]),a("ul",[a("li",[a("a",{attrs:{href:"#code-错误码"}},[t._v("code 错误码")])]),a("li",[a("a",{attrs:{href:"#message-字符串-表示错误的描述"}},[t._v("message 字符串，表示错误的描述")])])])])])]),a("li",[a("a",{attrs:{href:"#可选参数-options-对象"}},[t._v("可选参数：options 对象")]),a("ul",[a("li",[a("a",{attrs:{href:"#enablehighaccuracy-是否返回高精度结果"}},[t._v("enableHighAccuracy 是否返回高精度结果")])]),a("li",[a("a",{attrs:{href:"#timeout-超时时间"}},[t._v("timeout 超时时间")])]),a("li",[a("a",{attrs:{href:"#maximumage-最长缓存时间"}},[t._v("maximumAge 最长缓存时间")])])])]),a("li",[a("a",{attrs:{href:"#返回值-position-对象"}},[t._v("返回值：Position 对象")])]),a("li",[a("a",{attrs:{href:"#示例"}},[t._v("示例")])])])]),a("li",[a("a",{attrs:{href:"#watchposition-监听位置变化的方法"}},[t._v("watchPosition() 监听位置变化的方法")])]),a("li",[a("a",{attrs:{href:"#clearwatch-取消监听的某个函数"}},[t._v("clearWatch() 取消监听的某个函数")])])])]),a("li",[a("a",{attrs:{href:"#附-coordinates-对象"}},[t._v("附：Coordinates 对象")])])])]),a("p"),t._v(" "),a("p",[t._v("Geolocation API 用于获取用户的地理位置。")]),t._v(" "),a("p",[t._v("由于该功能涉及用户隐私，所以浏览器会提示用户，是否同意给出地理位置，用户可能会拒绝。另外，这个 API 只能在 HTTPS 环境使用。")]),t._v(" "),a("p",[t._v("浏览器通过 "),a("code",[t._v("navigator.geolocation")]),t._v(" 属性提供该 API。")]),t._v(" "),a("h2",{attrs:{id:"属性-无"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性-无"}},[t._v("#")]),t._v(" 属性：无")]),t._v(" "),a("p",[t._v("Geolocation 接口不实现，也不继承任何属性。")]),t._v(" "),a("h2",{attrs:{id:"方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),a("h3",{attrs:{id:"getcurrentposition-successcallback-errorcallback-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getcurrentposition-successcallback-errorcallback-options"}},[t._v("#")]),t._v(" "),a("code",[t._v("getCurrentPosition(successCallback, errorCallback, options)")])]),t._v(" "),a("p",[t._v("返回一个 "),a("code",[t._v("Position")]),t._v(" 对象，包括了用户的当前位置信息。")]),t._v(" "),a("h4",{attrs:{id:"必传参数-successcallback-定位成功回调"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#必传参数-successcallback-定位成功回调"}},[t._v("#")]),t._v(" 必传参数："),a("code",[t._v("successCallback")]),t._v(" 定位成功回调")]),t._v(" "),a("p",[t._v("用户同意给出位置时的回调函数，它的参数是一个 Position 对象。")]),t._v(" "),a("h5",{attrs:{id:"入参-position-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#入参-position-对象"}},[t._v("#")]),t._v(" 入参："),a("code",[t._v("Position")]),t._v(" 对象")]),t._v(" "),a("p",[t._v("存储用户位置信息的对象")]),t._v(" "),a("h6",{attrs:{id:"coords-一个-coordinates-对象-见文末-表示当前位置的坐标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coords-一个-coordinates-对象-见文末-表示当前位置的坐标"}},[t._v("#")]),t._v(" "),a("code",[t._v("coords")]),t._v(" 一个 "),a("code",[t._v("Coordinates")]),t._v(" 对象（见文末），表示当前位置的坐标")]),t._v(" "),a("h6",{attrs:{id:"timestamp-代表当前时间戳的对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#timestamp-代表当前时间戳的对象"}},[t._v("#")]),t._v(" "),a("code",[t._v("timestamp")]),t._v(" 代表当前时间戳的对象")]),t._v(" "),a("h4",{attrs:{id:"可选参数-errorcallback-定位失败回调"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可选参数-errorcallback-定位失败回调"}},[t._v("#")]),t._v(" 可选参数："),a("code",[t._v("errorCallback")]),t._v(" 定位失败回调")]),t._v(" "),a("p",[t._v("用户拒绝给出位置时的回调函数，它的参数是一个 PositionError 对象。")]),t._v(" "),a("h5",{attrs:{id:"入参-positionerror-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#入参-positionerror-对象"}},[t._v("#")]),t._v(" 入参："),a("code",[t._v("PositionError")]),t._v(" 对象")]),t._v(" "),a("h6",{attrs:{id:"code-错误码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#code-错误码"}},[t._v("#")]),t._v(" "),a("code",[t._v("code")]),t._v(" 错误码")]),t._v(" "),a("p",[t._v("整数，表示发生错误的原因。1表示无权限，有可能是用户拒绝授权；2表示无法获得位置，可能设备有故障；3表示超时。")]),t._v(" "),a("h6",{attrs:{id:"message-字符串-表示错误的描述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#message-字符串-表示错误的描述"}},[t._v("#")]),t._v(" "),a("code",[t._v("message")]),t._v(" 字符串，表示错误的描述")]),t._v(" "),a("h4",{attrs:{id:"可选参数-options-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可选参数-options-对象"}},[t._v("#")]),t._v(" 可选参数："),a("code",[t._v("options")]),t._v(" 对象")]),t._v(" "),a("p",[t._v("指定一个监听函数，每当用户的位置发生变化，就执行该监听函数。")]),t._v(" "),a("h5",{attrs:{id:"enablehighaccuracy-是否返回高精度结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enablehighaccuracy-是否返回高精度结果"}},[t._v("#")]),t._v(" "),a("code",[t._v("enableHighAccuracy")]),t._v(" 是否返回高精度结果")]),t._v(" "),a("p",[a("code",[t._v("type: boolean")])]),t._v(" "),a("p",[a("code",[t._v("default: false")])]),t._v(" "),a("p",[t._v("如果设为true，可能导致响应时间变慢或（移动设备的）功耗增加；反之，如果设为false，设备可以更快速地响应。默认值为false。")]),t._v(" "),a("h5",{attrs:{id:"timeout-超时时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#timeout-超时时间"}},[t._v("#")]),t._v(" "),a("code",[t._v("timeout")]),t._v(" 超时时间")]),t._v(" "),a("p",[a("code",[t._v("type: number")])]),t._v(" "),a("p",[a("code",[t._v("default: Infinity")])]),t._v(" "),a("p",[t._v("值为正整数，表示获取定位能接受的最长等待时间，单位为 "),a("code",[t._v("ms")])]),t._v(" "),a("h5",{attrs:{id:"maximumage-最长缓存时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maximumage-最长缓存时间"}},[t._v("#")]),t._v(" "),a("code",[t._v("maximumAge")]),t._v(" 最长缓存时间")]),t._v(" "),a("p",[a("code",[t._v("type: number")])]),t._v(" "),a("p",[a("code",[t._v("default: 0")])]),t._v(" "),a("p",[t._v("默认为 "),a("code",[t._v("0")]),t._v(" ， 表示不使用缓存值，必须查询当前的实际位置")]),t._v(" "),a("p",[t._v("如果设为 "),a("code",[t._v("Infinity")]),t._v(" ，必须使用缓存值，不管缓存了多少时间。")]),t._v(" "),a("h4",{attrs:{id:"返回值-position-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值-position-对象"}},[t._v("#")]),t._v(" 返回值："),a("code",[t._v("Position")]),t._v(" 对象")]),t._v(" "),a("h4",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  enableHighAccuracy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  maximumAge"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("pos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" crd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("coords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("经度：")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("crd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latitude"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("纬度：")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("crd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("longitude"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("误差：")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("crd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accuracy"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" 米")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("warn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("ERROR(")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("): ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nnavigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geolocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrentPosition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("success"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("h3",{attrs:{id:"watchposition-监听位置变化的方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#watchposition-监听位置变化的方法"}},[t._v("#")]),t._v(" "),a("code",[t._v("watchPosition()")]),t._v(" 监听位置变化的方法")]),t._v(" "),a("p",[t._v("调用 "),a("code",[t._v("Geolocation.watchPosition()")]),t._v(" 传入一个回调函数，每当用户的位置发生变化，就是自动执行这个函数。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geolocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watchPosition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("success"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("和 "),a("code",[t._v("getCurrentPosition")]),t._v(" 使用方法一样，该方法接受三个参数。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("success")]),t._v("：监听成功的回调函数，该函数的参数为一个 Position 对象。")]),t._v(" "),a("li",[a("code",[t._v("error")]),t._v("：该参数可选，表示监听失败的回调函数，该函数的参数是一个 PositionError 对象。")]),t._v(" "),a("li",[a("code",[t._v("options")]),t._v("：该参数可选，表示监听的参数配置对象。")])]),t._v(" "),a("p",[t._v("该方法返回一个整数值，表示监听函数的编号。该整数用来供 "),a("code",[t._v("Geolocation.clearWatch()")]),t._v(" 方法取消监听。")]),t._v(" "),a("p",[t._v("下面是一个例子。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  latitude "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  longitude"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  enableHighAccuracy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  maximumAge"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("pos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" crd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("coords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latitude "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" crd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latitude "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("longitude "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" crd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("longitude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'恭喜，你已经到达了指定位置。'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geolocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearWatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("warn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ERROR('")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'): '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geolocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watchPosition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("success"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br")])]),a("h3",{attrs:{id:"clearwatch-取消监听的某个函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clearwatch-取消监听的某个函数"}},[t._v("#")]),t._v(" "),a("code",[t._v("clearWatch()")]),t._v(" 取消监听的某个函数")]),t._v(" "),a("p",[a("code",[t._v("Geolocation.clearWatch()")]),t._v(" 方法用来取消 "),a("code",[t._v("watchPosition()")]),t._v(" 方法指定的监听函数。它的参数是 "),a("code",[t._v("watchPosition()")]),t._v(" 返回的监听函数的编号。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geolocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearWatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("使用方法的例子见上一节。")]),t._v(" "),a("h2",{attrs:{id:"附-coordinates-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附-coordinates-对象"}},[t._v("#")]),t._v(" 附："),a("code",[t._v("Coordinates")]),t._v(" 对象")]),t._v(" "),a("p",[a("code",[t._v("Coordinates")]),t._v(" 对象是地理位置的坐标接口，"),a("code",[t._v("Position.coords")]),t._v(" 属性返回的就是这个对象。")]),t._v(" "),a("p",[t._v("它有以下属性，全部为只读属性。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("Coordinates.latitude")]),t._v("：浮点数，表示纬度。")]),t._v(" "),a("li",[a("code",[t._v("Coordinates.longitude")]),t._v("：浮点数，表示经度。")]),t._v(" "),a("li",[a("code",[t._v("Coordinates.altitude")]),t._v("：浮点数，表示海拔（单位：米）。如果不可得，返回 "),a("code",[t._v("null")]),t._v(" 。")]),t._v(" "),a("li",[a("code",[t._v("Coordinates.accuracy")]),t._v("：浮点数，表示经度和纬度的精度（单位：米）。")]),t._v(" "),a("li",[a("code",[t._v("Coordinates.altitudeAccuracy")]),t._v("：浮点数，表示海拔的精度（单位：米）。返回 "),a("code",[t._v("null")]),t._v(" 。")]),t._v(" "),a("li",[a("code",[t._v("Coordinates.speed")]),t._v("：浮点数，表示设备的速度（单位：米/秒）。如果不可得，返回 "),a("code",[t._v("null")]),t._v(" 。")]),t._v(" "),a("li",[a("code",[t._v("Coordinates.heading")]),t._v("：浮点数，表示设备前进的方向（单位：度）。方向按照顺时针，北方是 0 度，东方是 90 度，西方是 270 度。如果 "),a("code",[t._v("Coordinates.speed")]),t._v(" 为 "),a("code",[t._v("0")]),t._v(" ， "),a("code",[t._v("heading")]),t._v(" 属性返回 "),a("code",[t._v("NaN")]),t._v(" 。如果设备无法提供方向信息，该属性返回 "),a("code",[t._v("null")]),t._v(" 。")])]),t._v(" "),a("p",[t._v("下面是一个例子。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geolocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrentPosition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" lat "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("coords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latitude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" long "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("coords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("longitude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("纬度：")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("lat"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("经度：")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("long"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);