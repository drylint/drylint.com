<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React官方脚手架create-react-app | 代码干燥计划</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="分享前端工程化、模块化、组件化开发经验；包括 Webpack, Vue, React, TypeScript, Node, 微信小程序, Taro, Uni-app 等。">
    
    <link rel="preload" href="/assets/css/0.styles.910798bd.css" as="style"><link rel="preload" href="/assets/js/app.11f8e218.js" as="script"><link rel="preload" href="/assets/js/2.fbdcd9f4.js" as="script"><link rel="preload" href="/assets/js/115.9b54f0d3.js" as="script"><link rel="prefetch" href="/assets/js/10.2bb1fe05.js"><link rel="prefetch" href="/assets/js/100.fe98bc44.js"><link rel="prefetch" href="/assets/js/101.77935927.js"><link rel="prefetch" href="/assets/js/102.6dd57db7.js"><link rel="prefetch" href="/assets/js/103.8c6a454c.js"><link rel="prefetch" href="/assets/js/104.43c82f89.js"><link rel="prefetch" href="/assets/js/105.08b8e1be.js"><link rel="prefetch" href="/assets/js/106.54be75d3.js"><link rel="prefetch" href="/assets/js/107.2af1bf29.js"><link rel="prefetch" href="/assets/js/108.0fcd494c.js"><link rel="prefetch" href="/assets/js/109.2b4adcff.js"><link rel="prefetch" href="/assets/js/11.a771880c.js"><link rel="prefetch" href="/assets/js/110.46865503.js"><link rel="prefetch" href="/assets/js/111.bada80a8.js"><link rel="prefetch" href="/assets/js/112.2b2b6c60.js"><link rel="prefetch" href="/assets/js/113.ffed6330.js"><link rel="prefetch" href="/assets/js/114.1041abac.js"><link rel="prefetch" href="/assets/js/116.cd915184.js"><link rel="prefetch" href="/assets/js/117.f532de20.js"><link rel="prefetch" href="/assets/js/118.d67ec6c1.js"><link rel="prefetch" href="/assets/js/119.f7883ba1.js"><link rel="prefetch" href="/assets/js/12.ce2c26a4.js"><link rel="prefetch" href="/assets/js/120.2825397b.js"><link rel="prefetch" href="/assets/js/121.329db677.js"><link rel="prefetch" href="/assets/js/122.22b31bd3.js"><link rel="prefetch" href="/assets/js/123.54124385.js"><link rel="prefetch" href="/assets/js/124.da0e74ab.js"><link rel="prefetch" href="/assets/js/125.71810425.js"><link rel="prefetch" href="/assets/js/126.ac2bb29e.js"><link rel="prefetch" href="/assets/js/127.7dfd9180.js"><link rel="prefetch" href="/assets/js/128.74093077.js"><link rel="prefetch" href="/assets/js/129.762bb4c0.js"><link rel="prefetch" href="/assets/js/13.9c87e937.js"><link rel="prefetch" href="/assets/js/130.06e74142.js"><link rel="prefetch" href="/assets/js/131.edc89c02.js"><link rel="prefetch" href="/assets/js/132.3654b387.js"><link rel="prefetch" href="/assets/js/133.580fc16e.js"><link rel="prefetch" href="/assets/js/134.4194ed9c.js"><link rel="prefetch" href="/assets/js/135.1241b083.js"><link rel="prefetch" href="/assets/js/136.181bb7cb.js"><link rel="prefetch" href="/assets/js/137.9d65d8a9.js"><link rel="prefetch" href="/assets/js/138.ab78d744.js"><link rel="prefetch" href="/assets/js/139.a4c11f4d.js"><link rel="prefetch" href="/assets/js/14.33276526.js"><link rel="prefetch" href="/assets/js/140.e4e88bb7.js"><link rel="prefetch" href="/assets/js/141.844de3e6.js"><link rel="prefetch" href="/assets/js/142.c13323e5.js"><link rel="prefetch" href="/assets/js/143.708943ed.js"><link rel="prefetch" href="/assets/js/144.c5b3e16a.js"><link rel="prefetch" href="/assets/js/145.fbbd1721.js"><link rel="prefetch" href="/assets/js/146.0f2cb743.js"><link rel="prefetch" href="/assets/js/147.8809e00c.js"><link rel="prefetch" href="/assets/js/148.84fbe503.js"><link rel="prefetch" href="/assets/js/149.6c4eaec5.js"><link rel="prefetch" href="/assets/js/15.a0d47d4d.js"><link rel="prefetch" href="/assets/js/150.865e2e80.js"><link rel="prefetch" href="/assets/js/151.ebf5b22d.js"><link rel="prefetch" href="/assets/js/152.fce48051.js"><link rel="prefetch" href="/assets/js/153.07c0c82b.js"><link rel="prefetch" href="/assets/js/154.6c1c51bf.js"><link rel="prefetch" href="/assets/js/155.2bb83eb6.js"><link rel="prefetch" href="/assets/js/156.6a31e3fb.js"><link rel="prefetch" href="/assets/js/157.2f2f7d42.js"><link rel="prefetch" href="/assets/js/158.b73f8330.js"><link rel="prefetch" href="/assets/js/159.6b71c2df.js"><link rel="prefetch" href="/assets/js/16.e8b12db9.js"><link rel="prefetch" href="/assets/js/160.c8d54e1a.js"><link rel="prefetch" href="/assets/js/161.43da1a28.js"><link rel="prefetch" href="/assets/js/162.6fb42042.js"><link rel="prefetch" href="/assets/js/163.f9a48561.js"><link rel="prefetch" href="/assets/js/164.f3148a06.js"><link rel="prefetch" href="/assets/js/165.19c72ebd.js"><link rel="prefetch" href="/assets/js/166.bdd0b9b0.js"><link rel="prefetch" href="/assets/js/167.53be506d.js"><link rel="prefetch" href="/assets/js/168.01b1af37.js"><link rel="prefetch" href="/assets/js/169.29f14eea.js"><link rel="prefetch" href="/assets/js/17.7bd579f1.js"><link rel="prefetch" href="/assets/js/170.23099a16.js"><link rel="prefetch" href="/assets/js/171.e2ac169d.js"><link rel="prefetch" href="/assets/js/172.2b8a42e0.js"><link rel="prefetch" href="/assets/js/173.163f5e5d.js"><link rel="prefetch" href="/assets/js/174.d4d1436e.js"><link rel="prefetch" href="/assets/js/175.84dbdb7c.js"><link rel="prefetch" href="/assets/js/176.ac1982e0.js"><link rel="prefetch" href="/assets/js/177.df52d16f.js"><link rel="prefetch" href="/assets/js/178.65e3c499.js"><link rel="prefetch" href="/assets/js/179.ff0ed662.js"><link rel="prefetch" href="/assets/js/18.bdfc32d3.js"><link rel="prefetch" href="/assets/js/180.d70866a9.js"><link rel="prefetch" href="/assets/js/181.dcb32231.js"><link rel="prefetch" href="/assets/js/182.3de78dbe.js"><link rel="prefetch" href="/assets/js/183.3466572e.js"><link rel="prefetch" href="/assets/js/184.2cdaeecb.js"><link rel="prefetch" href="/assets/js/185.3e916fba.js"><link rel="prefetch" href="/assets/js/186.96c048cf.js"><link rel="prefetch" href="/assets/js/187.d71be9b6.js"><link rel="prefetch" href="/assets/js/188.d2e39b82.js"><link rel="prefetch" href="/assets/js/189.13b07b30.js"><link rel="prefetch" href="/assets/js/19.3ff13ace.js"><link rel="prefetch" href="/assets/js/190.204790b4.js"><link rel="prefetch" href="/assets/js/191.327f3a6b.js"><link rel="prefetch" href="/assets/js/192.c8f9b3df.js"><link rel="prefetch" href="/assets/js/193.b5fa1f2a.js"><link rel="prefetch" href="/assets/js/194.5681f2c5.js"><link rel="prefetch" href="/assets/js/195.a35b9612.js"><link rel="prefetch" href="/assets/js/196.fd9df5f2.js"><link rel="prefetch" href="/assets/js/197.1baa330c.js"><link rel="prefetch" href="/assets/js/198.4483fc9d.js"><link rel="prefetch" href="/assets/js/20.9dd375e6.js"><link rel="prefetch" href="/assets/js/21.f73a4bcf.js"><link rel="prefetch" href="/assets/js/22.e6e597d1.js"><link rel="prefetch" href="/assets/js/23.cbfa90f3.js"><link rel="prefetch" href="/assets/js/24.c56e6f99.js"><link rel="prefetch" href="/assets/js/25.a504ea01.js"><link rel="prefetch" href="/assets/js/26.102397a2.js"><link rel="prefetch" href="/assets/js/27.65fdddf8.js"><link rel="prefetch" href="/assets/js/28.eb9012ca.js"><link rel="prefetch" href="/assets/js/29.43821e0c.js"><link rel="prefetch" href="/assets/js/3.215993e0.js"><link rel="prefetch" href="/assets/js/30.132be143.js"><link rel="prefetch" href="/assets/js/31.65f1b445.js"><link rel="prefetch" href="/assets/js/32.8027dcae.js"><link rel="prefetch" href="/assets/js/33.e4f3c764.js"><link rel="prefetch" href="/assets/js/34.926d1d16.js"><link rel="prefetch" href="/assets/js/35.a941e909.js"><link rel="prefetch" href="/assets/js/36.9e6310c6.js"><link rel="prefetch" href="/assets/js/37.ce14298d.js"><link rel="prefetch" href="/assets/js/38.ba9e7814.js"><link rel="prefetch" href="/assets/js/39.628b2842.js"><link rel="prefetch" href="/assets/js/4.5d977487.js"><link rel="prefetch" href="/assets/js/40.80657342.js"><link rel="prefetch" href="/assets/js/41.3ec0f60f.js"><link rel="prefetch" href="/assets/js/42.545d3aac.js"><link rel="prefetch" href="/assets/js/43.131f52c4.js"><link rel="prefetch" href="/assets/js/44.25cacf62.js"><link rel="prefetch" href="/assets/js/45.11bb5717.js"><link rel="prefetch" href="/assets/js/46.aa4baf48.js"><link rel="prefetch" href="/assets/js/47.9eea7acf.js"><link rel="prefetch" href="/assets/js/48.b91b8da9.js"><link rel="prefetch" href="/assets/js/49.f379e925.js"><link rel="prefetch" href="/assets/js/5.6fee5ab2.js"><link rel="prefetch" href="/assets/js/50.07b77690.js"><link rel="prefetch" href="/assets/js/51.6ad0a6d1.js"><link rel="prefetch" href="/assets/js/52.b9ea8528.js"><link rel="prefetch" href="/assets/js/53.4322150c.js"><link rel="prefetch" href="/assets/js/54.84f62d9a.js"><link rel="prefetch" href="/assets/js/55.3abcdeab.js"><link rel="prefetch" href="/assets/js/56.ca8a19f4.js"><link rel="prefetch" href="/assets/js/57.ed3ea2d4.js"><link rel="prefetch" href="/assets/js/58.e0597216.js"><link rel="prefetch" href="/assets/js/59.ac9b4034.js"><link rel="prefetch" href="/assets/js/6.62fd2d62.js"><link rel="prefetch" href="/assets/js/60.e80590ec.js"><link rel="prefetch" href="/assets/js/61.a7ac5518.js"><link rel="prefetch" href="/assets/js/62.2aa95404.js"><link rel="prefetch" href="/assets/js/63.f637d8a0.js"><link rel="prefetch" href="/assets/js/64.b10fa6f2.js"><link rel="prefetch" href="/assets/js/65.ff1398d0.js"><link rel="prefetch" href="/assets/js/66.5615f304.js"><link rel="prefetch" href="/assets/js/67.2e3ecb25.js"><link rel="prefetch" href="/assets/js/68.438568ca.js"><link rel="prefetch" href="/assets/js/69.6be90c78.js"><link rel="prefetch" href="/assets/js/7.272c1b30.js"><link rel="prefetch" href="/assets/js/70.35b686d6.js"><link rel="prefetch" href="/assets/js/71.a6748cf4.js"><link rel="prefetch" href="/assets/js/72.4a25eefc.js"><link rel="prefetch" href="/assets/js/73.201146fc.js"><link rel="prefetch" href="/assets/js/74.ff5f439b.js"><link rel="prefetch" href="/assets/js/75.7bbe3d4b.js"><link rel="prefetch" href="/assets/js/76.08f68d1d.js"><link rel="prefetch" href="/assets/js/77.5bbae1bf.js"><link rel="prefetch" href="/assets/js/78.1c81888e.js"><link rel="prefetch" href="/assets/js/79.1bc91acb.js"><link rel="prefetch" href="/assets/js/8.51cd3eac.js"><link rel="prefetch" href="/assets/js/80.2fe9172c.js"><link rel="prefetch" href="/assets/js/81.28d25c26.js"><link rel="prefetch" href="/assets/js/82.15251ed3.js"><link rel="prefetch" href="/assets/js/83.03bce4b6.js"><link rel="prefetch" href="/assets/js/84.6c59d203.js"><link rel="prefetch" href="/assets/js/85.9af07bfa.js"><link rel="prefetch" href="/assets/js/86.0c6c40b6.js"><link rel="prefetch" href="/assets/js/87.318f1561.js"><link rel="prefetch" href="/assets/js/88.73052f54.js"><link rel="prefetch" href="/assets/js/89.2191dff6.js"><link rel="prefetch" href="/assets/js/9.3cae9f6c.js"><link rel="prefetch" href="/assets/js/90.73fc5ddc.js"><link rel="prefetch" href="/assets/js/91.7648bbb4.js"><link rel="prefetch" href="/assets/js/92.c74b7da6.js"><link rel="prefetch" href="/assets/js/93.03500cdd.js"><link rel="prefetch" href="/assets/js/94.9810c2af.js"><link rel="prefetch" href="/assets/js/95.0c7a68a4.js"><link rel="prefetch" href="/assets/js/96.24173e0d.js"><link rel="prefetch" href="/assets/js/97.14caebc3.js"><link rel="prefetch" href="/assets/js/98.364ce6fe.js"><link rel="prefetch" href="/assets/js/99.d5e43505.js">
    <link rel="stylesheet" href="/assets/css/0.styles.910798bd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">代码干燥计划</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CSS" class="dropdown-title"><span class="title">CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="CSS" class="mobile-dropdown-title"><span class="title">CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/CSS/animation.html" class="nav-link">
  animation
</a></li><li class="dropdown-item"><!----> <a href="/CSS/background.html" class="nav-link">
  background
</a></li><li class="dropdown-item"><!----> <a href="/CSS/CSS使用中文字体.html" class="nav-link">
  CSS使用中文字体
</a></li><li class="dropdown-item"><!----> <a href="/CSS/CSS文本溢出省略号.html" class="nav-link">
  CSS文本溢出省略号
</a></li><li class="dropdown-item"><!----> <a href="/CSS/flex.html" class="nav-link">
  flex
</a></li><li class="dropdown-item"><!----> <a href="/CSS/相关文章.html" class="nav-link">
  相关文章
</a></li><li class="dropdown-item"><!----> <a href="/CSS/CSS权威指南/" class="nav-link">
  CSS权威指南
</a></li><li class="dropdown-item"><h4>
          CSS通用化
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/CSS/CSS通用化/通用变量.html" class="nav-link">
  通用变量
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/CSS/Sass-SCSS/" class="nav-link">
  Sass-SCSS
</a></li></ul></div></div><div class="nav-item"><a href="/Git/" class="nav-link">
  Git
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML" class="dropdown-title"><span class="title">HTML</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML" class="mobile-dropdown-title"><span class="title">HTML</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/HTML/canvas.html" class="nav-link">
  canvas
</a></li><li class="dropdown-item"><!----> <a href="/HTML/Geolocation.html" class="nav-link">
  Geolocation
</a></li><li class="dropdown-item"><!----> <a href="/HTML/iframe子页面与父页面通信.html" class="nav-link">
  iframe子页面与父页面通信
</a></li><li class="dropdown-item"><!----> <a href="/HTML/IntersectionObserver.html" class="nav-link">
  IntersectionObserver
</a></li><li class="dropdown-item"><!----> <a href="/HTML/video.html" class="nav-link">
  video
</a></li><li class="dropdown-item"><!----> <a href="/HTML/前端下载.html" class="nav-link">
  前端下载
</a></li><li class="dropdown-item"><!----> <a href="/HTML/相关文章.html" class="nav-link">
  相关文章
</a></li><li class="dropdown-item"><!----> <a href="/HTML/移动端屏幕适配.html" class="nav-link">
  移动端屏幕适配
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTTP" class="dropdown-title"><span class="title">HTTP</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTTP" class="mobile-dropdown-title"><span class="title">HTTP</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/HTTP/http 文章.html" class="nav-link">
  http 文章
</a></li><li class="dropdown-item"><!----> <a href="/HTTP/数据安全.html" class="nav-link">
  数据安全
</a></li><li class="dropdown-item"><!----> <a href="/HTTP/缓存实践.html" class="nav-link">
  缓存实践
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/axios 使用教程.html" class="nav-link">
  axios 使用教程
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/JS文件上传原生写法.html" class="nav-link">
  JS文件上传原生写法
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/polyfill 解决方案.html" class="nav-link">
  polyfill 解决方案
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/相关文章.html" class="nav-link">
  相关文章
</a></li><li class="dropdown-item"><h4>
          BOM
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaScript/BOM/file api.html" class="nav-link">
  file api
</a></li><li class="dropdown-subitem"><a href="/JavaScript/BOM/Geolocation.html" class="nav-link">
  Geolocation
</a></li><li class="dropdown-subitem"><a href="/JavaScript/BOM/IntersectionObserver.html" class="nav-link">
  IntersectionObserver
</a></li><li class="dropdown-subitem"><a href="/JavaScript/BOM/MediaRecorder.html" class="nav-link">
  MediaRecorder
</a></li><li class="dropdown-subitem"><a href="/JavaScript/BOM/navigator.mediaDevices.getUserMedia.html" class="nav-link">
  navigator.mediaDevices.getUserMedia
</a></li></ul></li><li class="dropdown-item"><h4>
          DOM
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaScript/DOM/一系列DOM方法.html" class="nav-link">
  一系列DOM方法
</a></li><li class="dropdown-subitem"><a href="/JavaScript/DOM/宽高和滚动.html" class="nav-link">
  宽高和滚动
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/JavaScript/ES6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/JavaScript 高级程序设计/" class="nav-link">
  JavaScript 高级程序设计
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/jsdoc/" class="nav-link">
  jsdoc
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/JS_API/" class="nav-link">
  JS_API
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/questions/" class="nav-link">
  questions
</a></li></ul></div></div><div class="nav-item"><a href="/Node/" class="nav-link">
  Node
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="projectConfig" class="dropdown-title"><span class="title">projectConfig</span> <span class="arrow down"></span></button> <button type="button" aria-label="projectConfig" class="mobile-dropdown-title"><span class="title">projectConfig</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/projectConfig/ENV文件高亮配置.html" class="nav-link">
  ENV文件高亮配置
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/glob 模式.html" class="nav-link">
  glob 模式
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/VS Code Keyboard Shotcuts.html" class="nav-link">
  VS Code Keyboard Shotcuts
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/VS Code plugins.html" class="nav-link">
  VS Code plugins
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/VS Code 配置文件变量(setting.json).html" class="nav-link">
  VS Code 配置文件变量(setting.json)
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/VS Code 配置自动补全路径别名 @.html" class="nav-link">
  VS Code 配置自动补全路径别名 @
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/vscode push with publickey.html" class="nav-link">
  vscode push with publickey
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/关于 jsonfig.json.html" class="nav-link">
  关于 jsonfig.json
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/移动端项目增加屏幕适配.html" class="nav-link">
  移动端项目增加屏幕适配
</a></li><li class="dropdown-item"><h4>
          babel
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/projectConfig/babel/babel-7.html" class="nav-link">
  babel-7
</a></li><li class="dropdown-subitem"><a href="/projectConfig/babel/babel-plugin-transform-remove-console.html" class="nav-link">
  babel-plugin-transform-remove-console
</a></li><li class="dropdown-subitem"><a href="/projectConfig/babel/babel.html" class="nav-link">
  babel
</a></li></ul></li><li class="dropdown-item"><h4>
          browserslist
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/projectConfig/browserslist/README.html" class="nav-link">
  README.md
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/projectConfig/editorConfig/" class="nav-link">
  editorConfig
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/eslint/" class="nav-link">
  eslint
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/React/create-react-app.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  create-react-app
</a></li><li class="dropdown-item"><!----> <a href="/React/React 教程.html" class="nav-link">
  React 教程
</a></li><li class="dropdown-item"><!----> <a href="/React/React-hooks.html" class="nav-link">
  React-hooks
</a></li><li class="dropdown-item"><!----> <a href="/React/React-Router.html" class="nav-link">
  React-Router
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Typescript" class="dropdown-title"><span class="title">Typescript</span> <span class="arrow down"></span></button> <button type="button" aria-label="Typescript" class="mobile-dropdown-title"><span class="title">Typescript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Typescript/ts 编译选项.html" class="nav-link">
  ts 编译选项
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/tsconfig.json.html" class="nav-link">
  tsconfig.json
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_function.html" class="nav-link">
  ts_function
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_interface.html" class="nav-link">
  ts_interface
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_内置对象.html" class="nav-link">
  ts_内置对象
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_声明文件.html" class="nav-link">
  ts_声明文件
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_泛型（Generics）.html" class="nav-link">
  ts_泛型（Generics）
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/TS_类型.html" class="nav-link">
  TS_类型
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_类（class）.html" class="nav-link">
  ts_类（class）
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/声明文件.d.ts.html" class="nav-link">
  声明文件.d.ts
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/相关文章.html" class="nav-link">
  相关文章
</a></li></ul></div></div><div class="nav-item"><a href="/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Webpack" class="dropdown-title"><span class="title">Webpack</span> <span class="arrow down"></span></button> <button type="button" aria-label="Webpack" class="mobile-dropdown-title"><span class="title">Webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Webpack/compression-webpack-plugin.html" class="nav-link">
  compression-webpack-plugin
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/css-loader-plugins.html" class="nav-link">
  css-loader-plugins
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/html-webpack-plugin.html" class="nav-link">
  html-webpack-plugin
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/image-webpack-loader.html" class="nav-link">
  image-webpack-loader
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/require.context.html" class="nav-link">
  require.context
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/SplitChunksPlugin.html" class="nav-link">
  SplitChunksPlugin
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/stylelint.html" class="nav-link">
  stylelint
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/terser-webpack-plugin.html" class="nav-link">
  terser-webpack-plugin
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack Configuration.html" class="nav-link">
  webpack Configuration
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack 多页应用配置.html" class="nav-link">
  webpack 多页应用配置
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack-bundle-analyzer.html" class="nav-link">
  webpack-bundle-analyzer
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack-chain.html" class="nav-link">
  webpack-chain
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack-dev-server.html" class="nav-link">
  webpack-dev-server
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack.IgnorePlugin.html" class="nav-link">
  webpack.IgnorePlugin
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack_plugins.html" class="nav-link">
  webpack_plugins
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/其他/debugger.html" class="nav-link">
  debugger
</a></li><li class="dropdown-item"><!----> <a href="/其他/业余网站.html" class="nav-link">
  业余网站
</a></li><li class="dropdown-item"><!----> <a href="/其他/好文收集.html" class="nav-link">
  好文收集
</a></li><li class="dropdown-item"><!----> <a href="/其他/markdown/" class="nav-link">
  markdown
</a></li><li class="dropdown-item"><!----> <a href="/其他/前后端对接/" class="nav-link">
  前后端对接
</a></li></ul></div></div><div class="nav-item"><a href="/后端/" class="nav-link">
  后端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小程序和公众号" class="dropdown-title"><span class="title">小程序和公众号</span> <span class="arrow down"></span></button> <button type="button" aria-label="小程序和公众号" class="mobile-dropdown-title"><span class="title">小程序和公众号</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小程序和公众号/本地开发时通过 fiddler 4 调试微信 jssdk.html" class="nav-link">
  本地开发时通过 fiddler 4 调试微信 jssdk
</a></li><li class="dropdown-item"><!----> <a href="/小程序和公众号/组件样式穿透和隔离问题.html" class="nav-link">
  组件样式穿透和隔离问题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title">操作系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="操作系统" class="mobile-dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/操作系统/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><h4>
          windows
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/操作系统/windows/windows 10 开机自启动管理.html" class="nav-link">
  windows 10 开机自启动管理
</a></li><li class="dropdown-subitem"><a href="/操作系统/windows/windows 好用的快捷键.html" class="nav-link">
  windows 好用的快捷键
</a></li><li class="dropdown-subitem"><a href="/操作系统/windows/windows 良心软件.html" class="nav-link">
  windows 良心软件
</a></li></ul></li></ul></div></div> <a href="https://github.com/drylint/vuepress-template" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CSS" class="dropdown-title"><span class="title">CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="CSS" class="mobile-dropdown-title"><span class="title">CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/CSS/animation.html" class="nav-link">
  animation
</a></li><li class="dropdown-item"><!----> <a href="/CSS/background.html" class="nav-link">
  background
</a></li><li class="dropdown-item"><!----> <a href="/CSS/CSS使用中文字体.html" class="nav-link">
  CSS使用中文字体
</a></li><li class="dropdown-item"><!----> <a href="/CSS/CSS文本溢出省略号.html" class="nav-link">
  CSS文本溢出省略号
</a></li><li class="dropdown-item"><!----> <a href="/CSS/flex.html" class="nav-link">
  flex
</a></li><li class="dropdown-item"><!----> <a href="/CSS/相关文章.html" class="nav-link">
  相关文章
</a></li><li class="dropdown-item"><!----> <a href="/CSS/CSS权威指南/" class="nav-link">
  CSS权威指南
</a></li><li class="dropdown-item"><h4>
          CSS通用化
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/CSS/CSS通用化/通用变量.html" class="nav-link">
  通用变量
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/CSS/Sass-SCSS/" class="nav-link">
  Sass-SCSS
</a></li></ul></div></div><div class="nav-item"><a href="/Git/" class="nav-link">
  Git
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML" class="dropdown-title"><span class="title">HTML</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML" class="mobile-dropdown-title"><span class="title">HTML</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/HTML/canvas.html" class="nav-link">
  canvas
</a></li><li class="dropdown-item"><!----> <a href="/HTML/Geolocation.html" class="nav-link">
  Geolocation
</a></li><li class="dropdown-item"><!----> <a href="/HTML/iframe子页面与父页面通信.html" class="nav-link">
  iframe子页面与父页面通信
</a></li><li class="dropdown-item"><!----> <a href="/HTML/IntersectionObserver.html" class="nav-link">
  IntersectionObserver
</a></li><li class="dropdown-item"><!----> <a href="/HTML/video.html" class="nav-link">
  video
</a></li><li class="dropdown-item"><!----> <a href="/HTML/前端下载.html" class="nav-link">
  前端下载
</a></li><li class="dropdown-item"><!----> <a href="/HTML/相关文章.html" class="nav-link">
  相关文章
</a></li><li class="dropdown-item"><!----> <a href="/HTML/移动端屏幕适配.html" class="nav-link">
  移动端屏幕适配
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTTP" class="dropdown-title"><span class="title">HTTP</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTTP" class="mobile-dropdown-title"><span class="title">HTTP</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/HTTP/http 文章.html" class="nav-link">
  http 文章
</a></li><li class="dropdown-item"><!----> <a href="/HTTP/数据安全.html" class="nav-link">
  数据安全
</a></li><li class="dropdown-item"><!----> <a href="/HTTP/缓存实践.html" class="nav-link">
  缓存实践
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/axios 使用教程.html" class="nav-link">
  axios 使用教程
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/JS文件上传原生写法.html" class="nav-link">
  JS文件上传原生写法
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/polyfill 解决方案.html" class="nav-link">
  polyfill 解决方案
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/相关文章.html" class="nav-link">
  相关文章
</a></li><li class="dropdown-item"><h4>
          BOM
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaScript/BOM/file api.html" class="nav-link">
  file api
</a></li><li class="dropdown-subitem"><a href="/JavaScript/BOM/Geolocation.html" class="nav-link">
  Geolocation
</a></li><li class="dropdown-subitem"><a href="/JavaScript/BOM/IntersectionObserver.html" class="nav-link">
  IntersectionObserver
</a></li><li class="dropdown-subitem"><a href="/JavaScript/BOM/MediaRecorder.html" class="nav-link">
  MediaRecorder
</a></li><li class="dropdown-subitem"><a href="/JavaScript/BOM/navigator.mediaDevices.getUserMedia.html" class="nav-link">
  navigator.mediaDevices.getUserMedia
</a></li></ul></li><li class="dropdown-item"><h4>
          DOM
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaScript/DOM/一系列DOM方法.html" class="nav-link">
  一系列DOM方法
</a></li><li class="dropdown-subitem"><a href="/JavaScript/DOM/宽高和滚动.html" class="nav-link">
  宽高和滚动
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/JavaScript/ES6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/JavaScript 高级程序设计/" class="nav-link">
  JavaScript 高级程序设计
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/jsdoc/" class="nav-link">
  jsdoc
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/JS_API/" class="nav-link">
  JS_API
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/questions/" class="nav-link">
  questions
</a></li></ul></div></div><div class="nav-item"><a href="/Node/" class="nav-link">
  Node
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="projectConfig" class="dropdown-title"><span class="title">projectConfig</span> <span class="arrow down"></span></button> <button type="button" aria-label="projectConfig" class="mobile-dropdown-title"><span class="title">projectConfig</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/projectConfig/ENV文件高亮配置.html" class="nav-link">
  ENV文件高亮配置
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/glob 模式.html" class="nav-link">
  glob 模式
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/VS Code Keyboard Shotcuts.html" class="nav-link">
  VS Code Keyboard Shotcuts
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/VS Code plugins.html" class="nav-link">
  VS Code plugins
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/VS Code 配置文件变量(setting.json).html" class="nav-link">
  VS Code 配置文件变量(setting.json)
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/VS Code 配置自动补全路径别名 @.html" class="nav-link">
  VS Code 配置自动补全路径别名 @
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/vscode push with publickey.html" class="nav-link">
  vscode push with publickey
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/关于 jsonfig.json.html" class="nav-link">
  关于 jsonfig.json
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/移动端项目增加屏幕适配.html" class="nav-link">
  移动端项目增加屏幕适配
</a></li><li class="dropdown-item"><h4>
          babel
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/projectConfig/babel/babel-7.html" class="nav-link">
  babel-7
</a></li><li class="dropdown-subitem"><a href="/projectConfig/babel/babel-plugin-transform-remove-console.html" class="nav-link">
  babel-plugin-transform-remove-console
</a></li><li class="dropdown-subitem"><a href="/projectConfig/babel/babel.html" class="nav-link">
  babel
</a></li></ul></li><li class="dropdown-item"><h4>
          browserslist
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/projectConfig/browserslist/README.html" class="nav-link">
  README.md
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/projectConfig/editorConfig/" class="nav-link">
  editorConfig
</a></li><li class="dropdown-item"><!----> <a href="/projectConfig/eslint/" class="nav-link">
  eslint
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/React/create-react-app.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  create-react-app
</a></li><li class="dropdown-item"><!----> <a href="/React/React 教程.html" class="nav-link">
  React 教程
</a></li><li class="dropdown-item"><!----> <a href="/React/React-hooks.html" class="nav-link">
  React-hooks
</a></li><li class="dropdown-item"><!----> <a href="/React/React-Router.html" class="nav-link">
  React-Router
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Typescript" class="dropdown-title"><span class="title">Typescript</span> <span class="arrow down"></span></button> <button type="button" aria-label="Typescript" class="mobile-dropdown-title"><span class="title">Typescript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Typescript/ts 编译选项.html" class="nav-link">
  ts 编译选项
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/tsconfig.json.html" class="nav-link">
  tsconfig.json
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_function.html" class="nav-link">
  ts_function
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_interface.html" class="nav-link">
  ts_interface
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_内置对象.html" class="nav-link">
  ts_内置对象
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_声明文件.html" class="nav-link">
  ts_声明文件
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_泛型（Generics）.html" class="nav-link">
  ts_泛型（Generics）
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/TS_类型.html" class="nav-link">
  TS_类型
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/ts_类（class）.html" class="nav-link">
  ts_类（class）
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/声明文件.d.ts.html" class="nav-link">
  声明文件.d.ts
</a></li><li class="dropdown-item"><!----> <a href="/Typescript/相关文章.html" class="nav-link">
  相关文章
</a></li></ul></div></div><div class="nav-item"><a href="/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Webpack" class="dropdown-title"><span class="title">Webpack</span> <span class="arrow down"></span></button> <button type="button" aria-label="Webpack" class="mobile-dropdown-title"><span class="title">Webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Webpack/compression-webpack-plugin.html" class="nav-link">
  compression-webpack-plugin
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/css-loader-plugins.html" class="nav-link">
  css-loader-plugins
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/html-webpack-plugin.html" class="nav-link">
  html-webpack-plugin
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/image-webpack-loader.html" class="nav-link">
  image-webpack-loader
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/require.context.html" class="nav-link">
  require.context
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/SplitChunksPlugin.html" class="nav-link">
  SplitChunksPlugin
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/stylelint.html" class="nav-link">
  stylelint
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/terser-webpack-plugin.html" class="nav-link">
  terser-webpack-plugin
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack Configuration.html" class="nav-link">
  webpack Configuration
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack 多页应用配置.html" class="nav-link">
  webpack 多页应用配置
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack-bundle-analyzer.html" class="nav-link">
  webpack-bundle-analyzer
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack-chain.html" class="nav-link">
  webpack-chain
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack-dev-server.html" class="nav-link">
  webpack-dev-server
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack.IgnorePlugin.html" class="nav-link">
  webpack.IgnorePlugin
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/webpack_plugins.html" class="nav-link">
  webpack_plugins
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/其他/debugger.html" class="nav-link">
  debugger
</a></li><li class="dropdown-item"><!----> <a href="/其他/业余网站.html" class="nav-link">
  业余网站
</a></li><li class="dropdown-item"><!----> <a href="/其他/好文收集.html" class="nav-link">
  好文收集
</a></li><li class="dropdown-item"><!----> <a href="/其他/markdown/" class="nav-link">
  markdown
</a></li><li class="dropdown-item"><!----> <a href="/其他/前后端对接/" class="nav-link">
  前后端对接
</a></li></ul></div></div><div class="nav-item"><a href="/后端/" class="nav-link">
  后端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小程序和公众号" class="dropdown-title"><span class="title">小程序和公众号</span> <span class="arrow down"></span></button> <button type="button" aria-label="小程序和公众号" class="mobile-dropdown-title"><span class="title">小程序和公众号</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小程序和公众号/本地开发时通过 fiddler 4 调试微信 jssdk.html" class="nav-link">
  本地开发时通过 fiddler 4 调试微信 jssdk
</a></li><li class="dropdown-item"><!----> <a href="/小程序和公众号/组件样式穿透和隔离问题.html" class="nav-link">
  组件样式穿透和隔离问题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title">操作系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="操作系统" class="mobile-dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/操作系统/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><h4>
          windows
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/操作系统/windows/windows 10 开机自启动管理.html" class="nav-link">
  windows 10 开机自启动管理
</a></li><li class="dropdown-subitem"><a href="/操作系统/windows/windows 好用的快捷键.html" class="nav-link">
  windows 好用的快捷键
</a></li><li class="dropdown-subitem"><a href="/操作系统/windows/windows 良心软件.html" class="nav-link">
  windows 良心软件
</a></li></ul></li></ul></div></div> <a href="https://github.com/drylint/vuepress-template" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React官方脚手架create-react-app</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/React/create-react-app.html#开始使用" class="sidebar-link">开始使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/React/create-react-app.html#选择模版" class="sidebar-link">选择模版</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#文件目录结构" class="sidebar-link">文件目录结构</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#支持的浏览器及功能" class="sidebar-link">支持的浏览器及功能</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#升级更新" class="sidebar-link">升级更新</a></li></ul></li><li><a href="/React/create-react-app.html#开发阶段相关配置" class="sidebar-link">开发阶段相关配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/React/create-react-app.html#eslint-代码检查" class="sidebar-link">ESLint 代码检查</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#断点调试" class="sidebar-link">断点调试</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#开发模式下使用-https" class="sidebar-link">开发模式下使用 HTTPS</a></li></ul></li><li><a href="/React/create-react-app.html#样式和资源文件" class="sidebar-link">样式和资源文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/React/create-react-app.html#增加-css-样式文件" class="sidebar-link">增加 CSS 样式文件</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#css-模块化-限制作用范围" class="sidebar-link">CSS 模块化 限制作用范围</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#使用-css-预处理器" class="sidebar-link">使用 CSS 预处理器</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#添加-css-重置" class="sidebar-link">添加 CSS 重置</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#css-后处理" class="sidebar-link">CSS 后处理</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#使用图片-字体-文件等" class="sidebar-link">使用图片，字体，文件等</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#加载-graphql-文件" class="sidebar-link">加载 .graphql 文件</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#使用-public-目录" class="sidebar-link">使用 public 目录</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#代码分割" class="sidebar-link">代码分割</a></li></ul></li><li><a href="/React/create-react-app.html#构建应用" class="sidebar-link">构建应用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/React/create-react-app.html#导入组件" class="sidebar-link">导入组件</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#使用-typescript" class="sidebar-link">使用 TypeScript</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#使用-router" class="sidebar-link">使用 Router</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#添加自定义环境变量" class="sidebar-link">添加自定义环境变量</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#制作一个-progressive-web-app" class="sidebar-link">制作一个 Progressive Web App</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#性能评估" class="sidebar-link">性能评估</a></li></ul></li><li><a href="/React/create-react-app.html#测试" class="sidebar-link">测试</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/React/create-react-app.html#后端相关" class="sidebar-link">后端相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/React/create-react-app.html#在开发模式下代理-api" class="sidebar-link">在开发模式下代理 api</a></li></ul></li><li><a href="/React/create-react-app.html#进阶用法" class="sidebar-link">进阶用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/React/create-react-app.html#自定义项目模版" class="sidebar-link">自定义项目模版</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#能否使用-decorators-装饰器" class="sidebar-link">能否使用 decorators (装饰器)</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#预渲染到静态html文件" class="sidebar-link">预渲染到静态HTML文件</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#进阶配置" class="sidebar-link">进阶配置</a></li><li class="sidebar-sub-header"><a href="/React/create-react-app.html#弹出-eject-配置的替代方式" class="sidebar-link">弹出(eject)配置的替代方式</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react官方脚手架create-react-app"><a href="#react官方脚手架create-react-app" class="header-anchor">#</a> React官方脚手架create-react-app</h1> <p></p><div class="table-of-contents"><ul><li><a href="#开始使用">开始使用</a><ul><li><a href="#选择模版">选择模版</a></li><li><a href="#文件目录结构">文件目录结构</a></li><li><a href="#支持的浏览器及功能">支持的浏览器及功能</a></li><li><a href="#升级更新">升级更新</a></li></ul></li><li><a href="#开发阶段相关配置">开发阶段相关配置</a><ul><li><a href="#eslint-代码检查">ESLint 代码检查</a></li><li><a href="#断点调试">断点调试</a><ul><li><a href="#在-visual-studio-code-中调试">在 Visual Studio Code 中调试</a></li></ul></li><li><a href="#开发模式下使用-https">开发模式下使用 HTTPS</a><ul><li><a href="#使用自签名证书">使用自签名证书</a><ul><li><a href="#windows-cmd-exe">Windows (cmd.exe)</a></li><li><a href="#windows-powershell">Windows (Powershell)</a></li><li><a href="#linux-macos-bash">Linux, macOS (Bash)</a></li></ul></li><li><a href="#使用自己的证书">使用自己的证书</a></li></ul></li></ul></li><li><a href="#样式和资源文件">样式和资源文件</a><ul><li><a href="#增加-css-样式文件">增加 CSS 样式文件</a></li><li><a href="#css-模块化-限制作用范围">CSS 模块化 限制作用范围</a></li><li><a href="#使用-css-预处理器">使用 CSS 预处理器</a><ul><li><a href="#sass-scss">Sass/SCSS</a></li></ul></li><li><a href="#添加-css-重置">添加 CSS 重置</a></li><li><a href="#css-后处理">CSS 后处理</a></li><li><a href="#使用图片-字体-文件等">使用图片，字体，文件等</a></li><li><a href="#加载-graphql-文件">加载 .graphql 文件</a></li><li><a href="#使用-public-目录">使用 public 目录</a><ul><li><a href="#在-public-目录添加其他资源文件">在 public 目录添加其他资源文件</a></li><li><a href="#可以使用-public-的情况">可以使用 public 的情况</a></li></ul></li><li><a href="#代码分割">代码分割</a><ul><li><a href="#在-react-router-中使用代码分割">在 React Router 中使用代码分割</a></li></ul></li></ul></li><li><a href="#构建应用">构建应用</a><ul><li><a href="#导入组件">导入组件</a><ul><li><a href="#使用绝对路径导入">使用绝对路径导入</a></li></ul></li><li><a href="#使用-typescript">使用 TypeScript</a></li><li><a href="#使用-router">使用 Router</a></li><li><a href="#添加自定义环境变量">添加自定义环境变量</a><ul><li><a href="#在-env-文件中定义环境变量">在 .env 文件中定义环境变量</a></li><li><a href="#在命令中定义环境变量">在命令中定义环境变量</a></li><li><a href="#在-env-文件中使用机器上的其他变量">在 .env 文件中使用机器上的其他变量</a></li></ul></li><li><a href="#制作一个-progressive-web-app">制作一个 Progressive Web App</a></li><li><a href="#性能评估">性能评估</a></li></ul></li><li><a href="#测试">测试</a></li><li><a href="#后端相关">后端相关</a><ul><li><a href="#在开发模式下代理-api">在开发模式下代理 api</a><ul><li><a href="#自定义代理配置">自定义代理配置</a></li></ul></li></ul></li><li><a href="#进阶用法">进阶用法</a><ul><li><a href="#自定义项目模版">自定义项目模版</a><ul><li><a href="#构建自定义模版">构建自定义模版</a></li></ul></li><li><a href="#能否使用-decorators-装饰器">能否使用 decorators (装饰器)</a></li><li><a href="#预渲染到静态html文件">预渲染到静态HTML文件</a></li><li><a href="#进阶配置">进阶配置</a><ul><li><a href="#browser-开发环境-指定项目启动时打开的浏览器">BROWSER 开发环境，指定项目启动时打开的浏览器</a></li><li><a href="#browser-args-开发环境-要传递给-browser-的参数">BROWSER_ARGS 开发环境，要传递给 BROWSER 的参数</a></li><li><a href="#host-开发环境-主机名">HOST 开发环境，主机名</a></li><li><a href="#port-开发环境-指定开发服务器的端口">PORT 开发环境，指定开发服务器的端口</a></li><li><a href="#https-开发环境-以-https-模式运行开发服务器">HTTPS 开发环境，以 https 模式运行开发服务器</a></li><li><a href="#wds-socket-host-开发环境-指定自定义的-websocket-主机名">WDS_SOCKET_HOST 开发环境，指定自定义的 websocket 主机名</a></li><li><a href="#wds-socket-path-开发环境-指定自定义的-websocket-路径">WDS_SOCKET_PATH 开发环境，指定自定义的 websocket 路径</a></li><li><a href="#wds-socket-port-开发环境-指定自定义的-websocket-端口">WDS_SOCKET_PORT 开发环境，指定自定义的 websocket 端口</a></li><li><a href="#public-url-开发-生产环境-指定服务器资源存放路径">PUBLIC_URL 开发&amp;生产环境，指定服务器资源存放路径</a></li><li><a href="#build-path-生产环境-指定打包构建的存放目录-默认-build">BUILD_PATH 生产环境，指定打包构建的存放目录，默认 /build</a></li><li><a href="#ci-开发-生产环境-是否启用-ci-控制">CI 开发&amp;生产环境，是否启用 CI 控制</a></li><li><a href="#react-editor-开发环境-设置编辑器检测功能">REACT_EDITOR 开发环境，设置编辑器检测功能</a></li><li><a href="#chokidar-usepolling-开发环境-是否启用轮询进行热更新检测-默认-false">CHOKIDAR_USEPOLLING 开发环境，是否启用轮询进行热更新检测，默认 false</a></li><li><a href="#generate-sourcemap-生产环境-是否生成生产环境下的-sourcemap-源码映射-默认-true">GENERATE_SOURCEMAP 生产环境，是否生成生产环境下的 SOURCEMAP 源码映射，默认 true</a></li><li><a href="#inline-runtime-chunk-生产环境-是否将运行时嵌入到-index-html-中-默认-true">INLINE_RUNTIME_CHUNK 生产环境，是否将运行时嵌入到 index.html 中，默认 true</a></li><li><a href="#image-inline-size-limit-生产环境-设置图片被转为-base64-编码的阈值-默认-10000-字节">IMAGE_INLINE_SIZE_LIMIT 生产环境，设置图片被转为 base64 编码的阈值，默认 10000 (字节)</a></li><li><a href="#fast-refresh-开发环境-是否启用-fast-refresh-快速刷新功能-默认-true">FAST_REFRESH 开发环境，是否启用 FAST_REFRESH 快速刷新功能，默认 true</a></li><li><a href="#tsc-compile-on-error-开发-生产环境-是否在-typescript-检测到类型错误时中断编译-默认-false">TSC_COMPILE_ON_ERROR 开发&amp;生产环境，是否在 TypeScript 检测到类型错误时中断编译，默认 false</a></li><li><a href="#eslint-no-dev-errors-开发环境-是否禁用-eslint-在开发环境下报告错误-只报告警告-默认-false">ESLINT_NO_DEV_ERRORS 开发环境，是否禁用 ESLint 在开发环境下报告错误（只报告警告），默认 false</a></li><li><a href="#disable-eslint-plugin-开发-生产环境-是否禁用-eslint-webpack-plugin">DISABLE_ESLINT_PLUGIN 开发&amp;生产环境，是否禁用 eslint-webpack-plugin</a></li><li><a href="#disable-new-jsx-transform-开发-生产环境-是否禁用-react-17-推出的新的-jsx-转换">DISABLE_NEW_JSX_TRANSFORM 开发&amp;生产环境，是否禁用 React 17 推出的新的 JSX 转换</a></li></ul></li><li><a href="#弹出-eject-配置的替代方式">弹出(eject)配置的替代方式</a><ul><li><a href="#方式一-react-app-rewired-customize-cra">方式一：react-app-rewired + customize-cra</a></li><li><a href="#方式二-craco">方式二： craco</a></li></ul></li></ul></li></ul></div><p></p> <p><a href="https://create-react-app.dev/docs/getting-started" target="_blank" rel="noopener noreferrer">create-react-app官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="开始使用"><a href="#开始使用" class="header-anchor">#</a> 开始使用</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 创建项目，会创建一个自命名的项目目录</span>
npx create-react-app <span class="token operator">&lt;</span>项目名称<span class="token operator">&gt;</span>

<span class="token comment"># 进入项目目录</span>
<span class="token builtin class-name">cd</span> <span class="token operator">&lt;</span>项目名称<span class="token operator">&gt;</span>

<span class="token comment"># 开始开发，以开发模式启动项目，默认地址为 http://localhost:3000/</span>
<span class="token function">npm</span> start

<span class="token comment"># 开发完成后，以生产模式打包项目，用于发布上线</span>
<span class="token function">npm</span> run build
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>不建议使用 <code>npm install -g create-react-app</code> 全局安装到本地，如果已安装，建议执行 <code>npm uninstall -g create-react-app</code> 进行卸载。</p> <h3 id="选择模版"><a href="#选择模版" class="header-anchor">#</a> 选择模版</h3> <p>默认情况下，创建的项目使用默认模版，如果想使用其他的模版，使用</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>npx create-react-app <span class="token operator">&lt;</span>项目名称<span class="token operator">&gt;</span> --template <span class="token operator">&lt;</span>模版名称<span class="token operator">&gt;</span>

<span class="token comment"># 比如，使用 typescript 项目模版</span>
npx create-react-app my-app --template typescript

<span class="token comment"># 等同于</span>
npx create-react-app my-app --template cra-template-typescript
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>项目模版都是使用 <code>cra-template-</code> 开头，但是在创建项目使用模版时，可以省略此前缀，<a href="https://www.npmjs.com/search?q=cra-template-*" target="_blank" rel="noopener noreferrer">点击查看可用的模版<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，默认的模版其实就是 <code>cra-template</code> 。</p> <h3 id="文件目录结构"><a href="#文件目录结构" class="header-anchor">#</a> 文件目录结构</h3> <p>默认模版创建项目后，目录结构是这样的：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>my-app/
  README.md
  node_modules/
  package.json
  public/
    index.html
    favicon.ico
  src/
    App.css
    App.js
    App.test.js
    index.css
    index.js
    logo.svg
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>以下文件必须存在：</p> <ul><li><code>public/index.html</code> 是页面模本；</li> <li><code>src/index.js</code> 是入口文件。</li></ul> <p>其他文件都可修改或删除。</p> <p>所有需要打包构建的项目代码都需要放在 <code>src</code> 目录内，可以在 <code>src</code> 目录内自行嵌套任意目录。</p> <p>如果要在 <code>public/index.html</code> 中直接引用一些文件，则这些文件必须放在 <code>public</code> 目录内。</p> <p>可以自己创建一些和 <code>src</code> 同级的顶级目录，这些目录不会被打包构建，比如用于存放文档。</p> <h3 id="支持的浏览器及功能"><a href="#支持的浏览器及功能" class="header-anchor">#</a> 支持的浏览器及功能</h3> <p>默认，在 <code>package.json</code> 中，有 <code>browserslist</code> 字段，默认值为：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;production&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;&gt;0.2%&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;not dead&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;not op_mini all&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;development&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;last 1 chrome version&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;last 1 firefox version&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;last 1 safari version&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>可以自行修改以支持更多浏览器，也可以删除此字段，然后在根目录创建 <code>.browserslistrc</code> 文件来指定， <a href="https://github.com/browserslist/browserslist" target="_blank" rel="noopener noreferrer">查看详情<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <h3 id="升级更新"><a href="#升级更新" class="header-anchor">#</a> 升级更新</h3> <p>Create React App 分为两个包：</p> <ul><li><code>create-react-app</code> 是用于创建新项目的全局命令行工具。</li> <li><code>react-scripts</code> 是创建的项目中的开发依赖。</li></ul> <p>查看创建的项目中的 <code>package.json</code> 中的依赖包 <code>react-scripts</code> 的版本号，然后查看 <a href="https://github.com/facebook/create-react-app/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">更新记录<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来确认有哪些更新，直接将依赖包 <code>react-scripts</code> 的版本号改为更新记录中想要升级的版本号，然后执行 <code>npm install</code> 即可。</p> <h2 id="开发阶段相关配置"><a href="#开发阶段相关配置" class="header-anchor">#</a> 开发阶段相关配置</h2> <h3 id="eslint-代码检查"><a href="#eslint-代码检查" class="header-anchor">#</a> ESLint 代码检查</h3> <p>项目默认提供了 <code>eslint-config-react-app</code> 基础 ESLint 配置，并且在 <code>package.json</code> 中的 <code>eslintConfig</code> 字段中继承使用了这个配置。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;eslintConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;react-app&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;react-app/jest&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>可以扩展基础 ESLint 配置，或者如果的确需要的话，可以完全替换它。</p> <ul><li>强烈建议扩展基本配置，因为删除它可能会引入难以找到的问题。</li> <li>当使用 TypeScript 时，你需要为只针对 TypeScript 文件的规则提供一个覆盖对象。</li> <li>需要注意的是，任何设置为 <code>'error'</code> 的规则都将阻止项目的构建。</li></ul> <p>点击查看<a href="https://eslint.org/docs/user-guide/getting-started" target="_blank" rel="noopener noreferrer">ESLint 详细使用文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="断点调试"><a href="#断点调试" class="header-anchor">#</a> 断点调试</h3> <h4 id="在-visual-studio-code-中调试"><a href="#在-visual-studio-code-中调试" class="header-anchor">#</a> 在 Visual Studio Code 中调试</h4> <p>在项目根目录下创建 <code>.vscode/launch.json</code> 然后写入：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.2.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;configurations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Chrome&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;chrome&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token string">&quot;launch&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:3000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;webRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;${workspaceFolder}/src&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sourceMapPathOverrides&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;webpack:///src/*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;${webRoot}/*&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>然后执行 <code>npm start</code> 启动开发服务器，然后按下 <code>F5</code> 启动 debug 模式。</p> <h3 id="开发模式下使用-https"><a href="#开发模式下使用-https" class="header-anchor">#</a> 开发模式下使用 HTTPS</h3> <h4 id="使用自签名证书"><a href="#使用自签名证书" class="header-anchor">#</a> 使用自签名证书</h4> <h5 id="windows-cmd-exe"><a href="#windows-cmd-exe" class="header-anchor">#</a> Windows (cmd.exe)</h5> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 缺少空格是故意的</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">HTTPS</span><span class="token operator">=</span>true<span class="token operator">&amp;&amp;</span><span class="token function">npm</span> start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="windows-powershell"><a href="#windows-powershell" class="header-anchor">#</a> Windows (Powershell)</h5> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span><span class="token variable">$env</span>:HTTPS <span class="token operator">=</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span> -and <span class="token punctuation">(</span>npm start<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="linux-macos-bash"><a href="#linux-macos-bash" class="header-anchor">#</a> Linux, macOS (Bash)</h5> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">HTTPS</span><span class="token operator">=</span>true <span class="token function">npm</span> start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="使用自己的证书"><a href="#使用自己的证书" class="header-anchor">#</a> 使用自己的证书</h4> <p>要使用自己的证书开启 HTTPS，只需要在启动项目时，将证书和 key 的路径分别赋值给 <code>SSL_CRT_FILE</code> 和 <code>SSL_KEY_FILE</code> 即可，当然，依然必须要设置 <code>HTTPS=true</code> 才行。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Linux, macOS (Bash)</span>
<span class="token assign-left variable">HTTPS</span><span class="token operator">=</span>true <span class="token assign-left variable">SSL_CRT_FILE</span><span class="token operator">=</span>cert.crt <span class="token assign-left variable">SSL_KEY_FILE</span><span class="token operator">=</span>cert.key <span class="token function">npm</span> start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>为了避免每次命令中设置 <code>HTTPS=true</code> ，可以修改 <code>package.json</code> 中的 <code>scripts</code>：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HTTPS=true react-scripts start&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>或者，也可以在根目录创建 <code>.env</code> 文件，然后写入 <code>HTTPS=true</code> 。</p> <h2 id="样式和资源文件"><a href="#样式和资源文件" class="header-anchor">#</a> 样式和资源文件</h2> <h3 id="增加-css-样式文件"><a href="#增加-css-样式文件" class="header-anchor">#</a> 增加 CSS 样式文件</h3> <p>项目使用 <code>webpack</code> 来处理所有资源文件，所以在项目中使用时，需要在 js 文件中使用 <code>import</code> 来导入资源文件。</p> <p>比如，一个 <code>Button</code> 组件中有 <code>Button/index.css</code>, <code>Button/index.jsx</code> 文件：</p> <p><code>Button/index.css</code> 中有：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.button</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 4px 12px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在 <code>Button/index.jsx</code> 中使用样式：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token string">'./index.css'</span> <span class="token comment">// 导入样式</span>

<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// React 需要通过 className 代替 class 来使用样式</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Button
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>这样组件就导入了 CSS 样式，如果想要导入全局生效的样式，可以在 <code>src/index.js</code> 中进行导入。</p> <h3 id="css-模块化-限制作用范围"><a href="#css-模块化-限制作用范围" class="header-anchor">#</a> CSS 模块化 限制作用范围</h3> <p>项目默认已经支持 CSS 模块化，只需要将 CSS 文件名改为以 <code>.module.css</code> 结尾即可，比如 <code>index.module.css</code> ，CSS 模块通过自动创建 <code>[filename]_[classname]__[hash]</code> 这样的唯一类名格式，来确定CSS作用的范围。</p> <p>CSS 模块化后，允许你在不同的 CSS 文件中使用相同的 CSS 类名，而不用担心命名冲突。</p> <p><code>Button/index.module.css</code> 中有：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.button</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 4px 12px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在 <code>Button/index.jsx</code> 中使用 CSS 模块：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./index.module.css'</span> <span class="token comment">// 导入模块样式</span>

<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 通过 className 使用样式</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> styles<span class="token punctuation">.</span>button <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Button
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>导入 CSS 模块不再像普通导入一样，而是导入了一个对象，这里将导入对象命名为 <code>styles</code>，绑定到元素的 <code>className</code> 时，需要从这个对象中取对应的类名即可。</p> <p>编译后的结果：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Button_button__3NdPb<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>所有 CSS 模块中的类名都会被编译为 <code>[filename]_[classname]__[hash]</code> 这样的格式，这样就避免了同名类名引起的样式冲突。</p> <h3 id="使用-css-预处理器"><a href="#使用-css-预处理器" class="header-anchor">#</a> 使用 CSS 预处理器</h3> <h4 id="sass-scss"><a href="#sass-scss" class="header-anchor">#</a> Sass/SCSS</h4> <p>为方便描述，本文统一使用 SCSS 。</p> <p>首先，安装 sass 依赖包用于将 scss 文件编译为 css 。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D sass
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后将 <code>.css</code> 结尾的文件改为 <code>.scss</code> ，在 <code>.js</code> 文件的导入中同样将 <code>.css</code> 改为 <code>.scss</code> 结尾。</p> <p>这样，项目就会自动将 scss 文件编译为普通的 css 文件。</p> <p>SCSS 的详细使用请参考其他相关教程。</p> <p>使用 less 和 stylus 基本一致，先安装编译依赖包，再修改文件名即可。</p> <h3 id="添加-css-重置"><a href="#添加-css-重置" class="header-anchor">#</a> 添加 CSS 重置</h3> <p>项目默认配置了 PostCSS Normalize 作为可选的项目重置方案，但是默认没有使用它。如果需要使用，可以在 <code>index.css</code> 或 <code>App.css</code> 中添加 <code>@import-normalize;</code> 语句表示启用它，只需要添加一次即可。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* index.css */</span>

<span class="token atrule"><span class="token rule">@import-normalize</span><span class="token punctuation">;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>打包时，如果检测到 <code>@import-normalize;</code> 语句，就会自动添加 <code>Normalize</code> 到项目中。</p> <p>这条语句在启用了 <code>stylelint</code> 的项目中会看到报错 <code>unknownAtRules</code> ，因为这条语句是一条未知的 <code>@语句</code>，解决此报错可查看 stylelint 文档。</p> <h3 id="css-后处理"><a href="#css-后处理" class="header-anchor">#</a> CSS 后处理</h3> <p>项目默认启用了 <code>post-css</code> 的 <code>Autoprefixer</code> 功能，能够为需要兼容的浏览器自动添加样式或属性的前缀，需要兼容的浏览器是通过 <code>browserslist</code> 配置的。</p> <p>但是 CSS 的 <code>grid</code> 布局是没有开启自动添加前缀的，因为 <code>grid</code> 目前有很大的局限性，如果想启用自动添加前缀，可以在 css 文件的顶部添加 <code>/* autoprefixer grid: autoplace */</code> 来启用。</p> <h3 id="使用图片-字体-文件等"><a href="#使用图片-字体-文件等" class="header-anchor">#</a> 使用图片，字体，文件等</h3> <p>使用图片，字体等文件就和使用 CSS 一样，直接在 <code>.js</code> 中导入即可。</p> <p>导入的文件经过处理后，最终其实会得到这个文件打包后的实际路径，然后给到 <code>&lt;image&gt;</code> 元素的 <code>src</code> 属性，或 <code>&lt;a&gt;</code> 元素的 <code>href</code> 属性。</p> <p>对 <code>bmp, gif, jpg, jpeg, png</code> 来说，小于 <code>10000</code> byte 的文件将使用 base64 编码打包成 data URI ，<code>svg</code> 文件除外，因为这会导致 svg sprites （俗称雪碧图）出错。</p> <p>示例：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> logo <span class="token keyword">from</span> <span class="token string">'./logo.png'</span><span class="token punctuation">;</span> <span class="token comment">// Tell webpack this JS file uses this image</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>logo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /logo.84287d09.png</span>

<span class="token keyword">function</span> <span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Import result is the URL of your image</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>logo<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Logo<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Header<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>在 CSS 中使用同样生效：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.Logo</span> <span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./logo.png<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果想修改 <code>10000</code> byte 的阈值，可以通过环境变量 <code>IMAGE_INLINE_SIZE_LIMIT</code> 来进行修改。</p> <p>svg 文件的另一种使用方式，将 svg 作为一个 react 组件使用：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ReactComponent <span class="token keyword">as</span> Logo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./logo.svg'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* Logo is an actual React component */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Logo</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="加载-graphql-文件"><a href="#加载-graphql-文件" class="header-anchor">#</a> 加载 <code>.graphql</code> 文件</h3> <p>详见<a href="https://create-react-app.dev/docs/loading-graphql-files" target="_blank" rel="noopener noreferrer">Loading .graphql Files<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="使用-public-目录"><a href="#使用-public-目录" class="header-anchor">#</a> 使用 public 目录</h3> <p>根目录下的 <code>public</code> 目录中包含了 <code>index.html</code> 文件，这是项目打包使用的模版文件，打包后的文件都是从这个 HTML 中引入并使用，可以按照自己的需求来修改这个文件。</p> <h4 id="在-public-目录添加其他资源文件"><a href="#在-public-目录添加其他资源文件" class="header-anchor">#</a> 在 public 目录添加其他资源文件</h4> <p>虽然可以在 public 目录添加其他资源文件，但始终建议资源文件尽量在 <code>.js</code> 文件中引入使用，因为它有几个优点：</p> <ul><li>脚本和样式文件都会被压缩，并且被打包到一起，可以减少额外的网络请求。</li> <li>缺少文件时，直接引发编译打包错误，而不是在运行时出现 404 错误。</li> <li>打包后的资源文件名包括根据文件内容生成的散列值 (content hash)， 不需要担心浏览器会缓存旧版本。</li></ul> <p>如果把资源文件放到 <code>public</code> 目录中，这些文件不会被 webpack 处理，而是直接原封不动地复制到打包目录中，如果要在 <code>public/index.html</code> 直接使用 <code>public</code> 目录中的资源文件，需要使用环境变量 <code>PUBLIC_URL</code> 来访问。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>%PUBLIC_URL%/favicon.ico<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行 <code>npm run build</code> 打包时，<code>%PUBLIC_URL%</code> 将会被替换为一个正确的绝对路径。</p> <p>在 <code>.js</code> 文件中也可以访问这个环境变量 <code>process.env.PUBLIC_URL</code>：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Note: this is an escape hatch and should be used sparingly!</span>
  <span class="token comment">// Normally we recommend using `import` for getting asset URLs</span>
  <span class="token comment">// as described in “Adding Images and Fonts” above this section.</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PUBLIC_URL</span> <span class="token operator">+</span> <span class="token string">'/img/logo.png'</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>但非常不推荐上面这样的用法，这样使用将没有前面提到的通过导入使用的那些优点。</p> <h4 id="可以使用-public-的情况"><a href="#可以使用-public-的情况" class="header-anchor">#</a> 可以使用 public 的情况</h4> <ul><li>在构建输出中需要一个具有特定名称的文件，不希望被打包时修改资源文件名时。</li> <li>有成千上万个图片，需要动态引用他们的路径时。</li> <li>在打包构建的代码外，还想包含一些特定的脚本文件时。</li> <li>有些库可能与 webpack 不兼容，你没有其他选择，只能将它包含为 <code>&lt;script&gt;</code> 标记时。</li></ul> <p>如果在 <code>index.html</code> 中添加了一个 <code>&lt;script&gt;</code> 引入一个脚本，且这个脚本会声明全局变量，可以通过访问 <code>window</code> 对象来使用它：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> $ <span class="token operator">=</span> window<span class="token punctuation">.</span>$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果不通过 <code>window</code> 对象而直接使用这个变量，在开启了 <code>eslint</code> 功能的项目中会进行报错，因为在当前作用域没有这个变量存在。</p> <h3 id="代码分割"><a href="#代码分割" class="header-anchor">#</a> 代码分割</h3> <p>代码分割可以让你将代码分割成小块，然后按需加载，而不是在用户使用之前下载整个应用程序。</p> <p>项目支持使用 <code>import()</code> 来进行动态导入，只要是使用 <code>import()</code> 导入的模块，都会被分割为一个独立的模块，在执行到需要这个模块时，才会被下载使用。</p> <p>模块 <code>moduleA.js</code> ：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> moduleA <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在 <code>App.js</code> 中进行动态导入：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./moduleA'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> moduleA <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// Use moduleA</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// Handle failure</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Load</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>上面的 <code>import('./moduleA')</code> 会使 <code>moduleA</code> 以及它左右的依赖打包成为一个独立的模块，只有在用户点击后，这个模块才会被下载。</p> <p><code>import()</code> 返回的是一个 <code>Promise</code> 对象，它总会 resolve 模块的命名空间对象，除了使用 <code>.then()</code> 来接收以外，还可以使用 <code>async</code> 和 <code>await</code> 来使用它。</p> <h4 id="在-react-router-中使用代码分割"><a href="#在-react-router-中使用代码分割" class="header-anchor">#</a> 在 React Router 中使用代码分割</h4> <p><a href="https://reactjs.org/docs/code-splitting.html#route-based-code-splitting" target="_blank" rel="noopener noreferrer">点击查看<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="构建应用"><a href="#构建应用" class="header-anchor">#</a> 构建应用</h2> <h3 id="导入组件"><a href="#导入组件" class="header-anchor">#</a> 导入组件</h3> <p>虽然项目支持 <code>require()</code> 和 <code>module.exports</code> 用于导入导出模块或组件，但推荐始终使用 <code>import</code> 和 <code>export</code> 来进行导入和导出。</p> <p>在 <code>src/views/home/index.jsx</code> 中导入 <code>src/components/Button</code> 组件</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token string">'../../components/Button'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="使用绝对路径导入"><a href="#使用绝对路径导入" class="header-anchor">#</a> 使用绝对路径导入</h4> <p>根目录的 <code>jsconfig.json</code> 或 <code>tsconfig.json</code> 配置：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>修改前面的导入路径：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token string">'components/Button'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>导入路径为 <code>'components/Button'</code>，会自动到 <code>src</code> 目录中来查找这个路径。</p> <p>查看 <a href="https://code.visualstudio.com/docs/languages/jsconfig" target="_blank" rel="noopener noreferrer">jsconfig<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 详细介绍。</p> <p>查看 <a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html" target="_blank" rel="noopener noreferrer">tsconfig<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 详细介绍。</p> <h3 id="使用-typescript"><a href="#使用-typescript" class="header-anchor">#</a> 使用 TypeScript</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 新建项目时使用 TypeScript</span>
npx create-react-app my-app --template typescript

<span class="token comment"># 在已创建的项目中添加 TypeScript</span>
<span class="token function">npm</span> <span class="token function">install</span> --save typescript @types/node @types/react @types/react-dom @types/jest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="https://www.typescriptlang.org/play/index.html?jsx=2&amp;esModuleInterop=true&amp;e=196#example/typescript-with-react" target="_blank" rel="noopener noreferrer">查看 TypeScript Example on React<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="使用-router"><a href="#使用-router" class="header-anchor">#</a> 使用 Router</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save react-router-dom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://reactrouter.com/web/example/basic" target="_blank" rel="noopener noreferrer">查看 react-router 使用方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="添加自定义环境变量"><a href="#添加自定义环境变量" class="header-anchor">#</a> 添加自定义环境变量</h3> <p>默认情况下，在项目中可以使用的环境变量有： <code>NODE_ENV</code> 以及其他以 <code>REACT_APP_</code> 开头的变量。</p> <p>自定义环境变量必须以 <code>REACT_APP_</code> 开头，其他都将被忽略。</p> <p>所有定义的环境变量都通过 <code>process.env</code> 对象来访问，比如定义了 <code>REACT_APP_BASE_URL</code> ，在项目中访问时使用 <code>process.env.REACT_APP_BASE_URL</code> 即可访问，项目在打包时会分析代码，自动将 <code>process.env.REACT_APP_BASE_URL</code> 替换为环境变量定义的值。</p> <p><code>process.env.NODE_ENV</code> 的值：</p> <ul><li>在 <code>npm start</code> 时值为 <code>'development'</code></li> <li>在 <code>npm test</code> 时值为 <code>'test'</code></li> <li>在 <code>npm run build</code> 时值为 <code>'production'</code></li></ul> <p>无法手动复写 <code>NODE_ENV</code> 的值。</p> <p>在 <code>public/index.html</code> 中，也可以通过 <code>REACT_APP_</code> 来访问变量，比如 <code>&lt;title&gt;%REACT_APP_WEBSITE_NAME%&lt;/title&gt;</code> 。除了 <code>NODE_ENV</code> 和 <code>PUBLIC_URL</code> 等内置环境变量以外，其他变量必须以 <code>REACT_APP_</code> 开头。同样是在编译打包阶段进行值的替换。</p> <p>环境变量通常定义在 <code>.env</code>, <code>.env.development</code>, <code>.env.production</code> 等文件中，另外，也可以定义在命令行运行时的命令中。</p> <h4 id="在-env-文件中定义环境变量"><a href="#在-env-文件中定义环境变量" class="header-anchor">#</a> 在 <code>.env</code> 文件中定义环境变量</h4> <p>环境变量文件：</p> <ul><li><code>.env</code> 所有环境下的变量</li> <li><code>.env.local</code>: 本地的，除 测试环境 以外的所有环境下的变量</li> <li><code>.env.development</code>, <code>.env.test</code>, <code>.env.production</code> 特定的环境下的变量</li> <li><code>.env.development.local</code>, <code>.env.test.local</code>, <code>.env.production.local</code> 本地的特定环境下的变量</li></ul> <p>运行模式及环境变量优先级：</p> <ul><li>npm start 优先级 <code>.env.development.local</code>, <code>.env.local</code>, <code>.env.development</code>, <code>.env</code></li> <li>npm run build 优先级 <code>.env.production.local</code>, <code>.env.local</code>, <code>.env.production</code>, <code>.env</code></li> <li>npm test 优先级 <code>.env.test.local</code>, <code>.env.test</code>, <code>.env</code> (注意： <code>.env.local</code> 不会使用)</li></ul> <p>更多详情查看 <a href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener noreferrer">dotenv<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="在命令中定义环境变量"><a href="#在命令中定义环境变量" class="header-anchor">#</a> 在命令中定义环境变量</h4> <p>Windows (cmd.exe)</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">set</span> <span class="token string">&quot;REACT_APP_NOT_SECRET_CODE=abcdef&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Windows (Powershell)</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span><span class="token variable">$env</span>:REACT_APP_NOT_SECRET_CODE <span class="token operator">=</span> <span class="token string">&quot;abcdef&quot;</span><span class="token punctuation">)</span> -and <span class="token punctuation">(</span>npm start<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Linux, macOS (Bash)</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">REACT_APP_NOT_SECRET_CODE</span><span class="token operator">=</span>abcdef <span class="token function">npm</span> start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="在-env-文件中使用机器上的其他变量"><a href="#在-env-文件中使用机器上的其他变量" class="header-anchor">#</a> 在 <code>.env</code> 文件中使用机器上的其他变量</h4> <p>此功能使用 <a href="https://github.com/motdotla/dotenv-expand" target="_blank" rel="noopener noreferrer">dotenv-expand<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 实现</p> <p>比如，获取环境变量 <code>npm_package_version</code>：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">REACT_APP_VERSION</span><span class="token operator">=</span><span class="token variable">$npm_package_version</span>
<span class="token comment"># also works:</span>
<span class="token comment"># REACT_APP_VERSION=${npm_package_version}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>也可以访问在前面定义的变量：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">DOMAIN</span><span class="token operator">=</span>www.example.com
<span class="token assign-left variable">REACT_APP_FOO</span><span class="token operator">=</span><span class="token variable">$DOMAIN</span>/foo
<span class="token assign-left variable">REACT_APP_BAR</span><span class="token operator">=</span><span class="token variable">$DOMAIN</span>/bar
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="制作一个-progressive-web-app"><a href="#制作一个-progressive-web-app" class="header-anchor">#</a> 制作一个 Progressive Web App</h3> <p><a href="https://create-react-app.dev/docs/making-a-progressive-web-app" target="_blank" rel="noopener noreferrer">点击查看<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="性能评估"><a href="#性能评估" class="header-anchor">#</a> 性能评估</h3> <p>在 <code>src/index.js</code> 的最后，项目默认添加了 <code>reportWebVitals()</code> 性能中继器，允许你使用不同的指标来衡量和分析应用程序的性能。</p> <p>可以自己传递一个函数给 <code>reportWebVitals()</code> 作为参数来使用，比如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">reportWebVitals</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Web Vitals是一组有用的指标，旨在捕捉用户体验的网页。</p> <p>在 Create React App 中，使用第三方库 <a href="https://github.com/GoogleChrome/web-vitals" target="_blank" rel="noopener noreferrer">web-vitals<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来衡量这些 Web Vitals 指标</p> <h2 id="测试"><a href="#测试" class="header-anchor">#</a> 测试</h2> <p><a href="https://create-react-app.dev/docs/running-tests" target="_blank" rel="noopener noreferrer">详情查看<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="后端相关"><a href="#后端相关" class="header-anchor">#</a> 后端相关</h2> <h3 id="在开发模式下代理-api"><a href="#在开发模式下代理-api" class="header-anchor">#</a> 在开发模式下代理 api</h3> <p>在且仅在开发模式下，可以使用代理来解决服务端接口跨域的问题。</p> <p>在 <code>package.json</code> 中添加 <code>proxy</code> 字段：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;proxy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:4000&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>设置代理后，访问 <code>/api/todos</code> 就会自动代理到 <code>http://localhost:4000/api/todos</code> 而不会出现跨域问题。</p> <p>如果 <code>proxy</code> 使用起来不够用，可以自定义配置</p> <h4 id="自定义代理配置"><a href="#自定义代理配置" class="header-anchor">#</a> 自定义代理配置</h4> <p>首先，安装：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D http-proxy-middleware
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在 <code>src</code> 目录下创建 <code>setupProxy.js</code>：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> createProxyMiddleware <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token string">'/api'</span><span class="token punctuation">,</span>
    <span class="token function">createProxyMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      target<span class="token operator">:</span> <span class="token string">'http://localhost:5000'</span><span class="token punctuation">,</span>
      changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>不需要在任何地方导入这个 <code>setupProxy.js</code> 文件。当您启动开发服务器时，它将自动注册。</li> <li>这个文件只支持 Node 模块语法。</li></ul> <p><a href="https://github.com/chimurai/http-proxy-middleware" target="_blank" rel="noopener noreferrer">查看 http-proxy-middleware 详细使用方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="进阶用法"><a href="#进阶用法" class="header-anchor">#</a> 进阶用法</h2> <h3 id="自定义项目模版"><a href="#自定义项目模版" class="header-anchor">#</a> 自定义项目模版</h3> <p>官方提供了 <code>cra-template</code> 和 <code>cra-template-typescript</code> 这两个模版可在项目初始化时选择，前者是默认的模版。</p> <p>如果不满足于官方的模版，可以自定义模版，自定义模版必须以 <code>cra-template-</code> 开头，也可以在 npm 上搜索 <code>cra-template-*</code> 来查看更多第三方提供的自定义模版。</p> <h4 id="构建自定义模版"><a href="#构建自定义模版" class="header-anchor">#</a> 构建自定义模版</h4> <p>构建自定义模版必须包含以下目录结构：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>cra-template-<span class="token punctuation">[</span>template-name<span class="token punctuation">]</span>/
  README.md <span class="token punctuation">(</span>for <span class="token function">npm</span><span class="token punctuation">)</span>
  template.json
  package.json
  template/
    README.md <span class="token punctuation">(</span>for projects created from this template<span class="token punctuation">)</span>
    gitignore
    public/
      index.html
    src/
      index.js <span class="token punctuation">(</span>or index.tsx<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>可以添加其他任何自己想要添加到模版的文件或目录，但以上指定的文件和目录必须存在。</p> <p>本地测试自定义模版，使用 <code>file:</code> 路径作为 <code>--template</code> 的参数：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>npx create-react-app my-app --template file:<span class="token punctuation">..</span>/path/to/your/template/cra-template-<span class="token punctuation">[</span>template-name<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中， <code>template</code> 目录下的所有文件，会在初始化创建项目时，直接全部复制到用户的项目目录中，<code>gitignore</code> 文件会被自动更名为 <code>.gitignore</code> 作为 Git 仓库的忽略文件的配置。</p> <p><code>template.json</code> 文件是自定义模版的配置文件，目前，仅支持 <code>package</code> 这一个属性（key）。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;package&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;eslint-plugin-jsx-a11y&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.2.3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^11.2.0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;serve -s build&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;build-and-serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run build &amp;&amp; npm run serve&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eslintConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react-app&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;plugin:jsx-a11y/recommended&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;jsx-a11y&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><code>package</code> 属性允许添加任何键值对，这些键值对将会被添加到用户创建的项目的 <code>package.json</code> 中。</p> <p>注意，<code>package</code> 下的 <code>dependencies</code> 和 <code>scripts</code> 会和 <code>create-react-app</code> 指定的默认值进行合并，其他指定的键值对将会原封不动地被使用，如果 <code>create-react-app</code> 存在同名默认键值对，也会被自己指定的所替换掉。</p> <p>为了方便起见，如果用户使用 <code>yarn</code> 进行的项目初始化，那么，<code>package</code> 下的 <code>scripts</code> 和 <code>README.md</code> 中的所有 <code>npm run</code> 都将被替换为 <code>yarn</code> 。</p> <h3 id="能否使用-decorators-装饰器"><a href="#能否使用-decorators-装饰器" class="header-anchor">#</a> 能否使用 decorators (装饰器)</h3> <p>Create React App目前故意不支持装饰器语法，原因如下:</p> <ul><li>这是一个实验性的建议，可能会改变(事实上，它已经改变过一次，还会再改变)。</li> <li>大多数库目前只支持该提议的旧版本——它永远不会成为标准。</li></ul> <p>然而，在许多情况下，您可以在不使用装饰器的情况下重写基于装饰器的代码，并获得相同的结果。</p> <p>更多详情可查看 Github 的 Issues <a href="https://github.com/facebook/create-react-app/issues/214" target="_blank" rel="noopener noreferrer">#214<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/facebook/create-react-app/issues/411" target="_blank" rel="noopener noreferrer">#411<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>当规范进展到稳定阶段时，Create React App将添加装饰器支持。</p> <h3 id="预渲染到静态html文件"><a href="#预渲染到静态html文件" class="header-anchor">#</a> 预渲染到静态HTML文件</h3> <p>如果使用静态托管提供程序托管构建，可以使用 <code>react-snapshot</code> 或 <code>react-snap</code> 为应用程序中的每个路由或相对链接生成HTML页面。</p> <p>预渲染为 HTML 文件对搜索引擎优化（SEO）更友好。</p> <h3 id="进阶配置"><a href="#进阶配置" class="header-anchor">#</a> 进阶配置</h3> <p>您可以通过在命令行中或使用 <code>.env</code> 文件设置环境变量来调整各种开发和生产设置。</p> <p>不需要像使用自定义环境变量那样在以下变量之前声明 <code>REACT_APP_</code> 。</p> <h4 id="browser-开发环境-指定项目启动时打开的浏览器"><a href="#browser-开发环境-指定项目启动时打开的浏览器" class="header-anchor">#</a> <code>BROWSER</code> 开发环境，指定项目启动时打开的浏览器</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>可选值：<code>none</code> | 其他浏览器值</p> <p>默认情况下，项目启动会自动打开系统默认浏览器，设为 <code>none</code> 可禁用自动打开浏览器。</p> <p>该功能使用 <a href="https://github.com/sindresorhus/open" target="_blank" rel="noopener noreferrer">open<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，详情可点击查看。</p> <p>如果需要自定义浏览器的启动方式，则可以指定一个 Node 脚本。任何传递给 <code>npm start</code> 的参数也会被传递给这个脚本，你的应用服务的 url 将是最后一个参数。脚本的文件名必须是 <code>.js</code> 扩展名。</p> <h4 id="browser-args-开发环境-要传递给-browser-的参数"><a href="#browser-args-开发环境-要传递给-browser-的参数" class="header-anchor">#</a> <code>BROWSER_ARGS</code> 开发环境，要传递给 BROWSER 的参数</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>当指定 <code>BROWSER</code> 环境变量时，设置到 <code>BROWSER_ARGS</code> 的任何参数都将传递给浏览器实例。支持多个参数作为空格分隔的列表。默认情况下，没有参数被传递给 <code>BROWSER</code> 。</p> <h4 id="host-开发环境-主机名"><a href="#host-开发环境-主机名" class="header-anchor">#</a> <code>HOST</code> 开发环境，主机名</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>默认情况下，开发 web 服务器绑定到设备上的所有主机名(localhost 、 局域网网络地址等)。您可以使用此变量指定不同的主机。</p> <h4 id="port-开发环境-指定开发服务器的端口"><a href="#port-开发环境-指定开发服务器的端口" class="header-anchor">#</a> <code>PORT</code> 开发环境，指定开发服务器的端口</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>默认情况下，开发 web 服务器将尝试监听端口 <code>3000</code> 或提示您尝试下一个可用端口。您可以使用此变量指定不同的端口。</p> <h4 id="https-开发环境-以-https-模式运行开发服务器"><a href="#https-开发环境-以-https-模式运行开发服务器" class="header-anchor">#</a> <code>HTTPS</code> 开发环境，以 <code>https</code> 模式运行开发服务器</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>当设置为 true 时，Create React App 将以 <code>https</code> 模式运行开发服务器。</p> <h4 id="wds-socket-host-开发环境-指定自定义的-websocket-主机名"><a href="#wds-socket-host-开发环境-指定自定义的-websocket-主机名" class="header-anchor">#</a> <code>WDS_SOCKET_HOST</code> 开发环境，指定自定义的 websocket 主机名</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>当设置时，Create React App 将运行开发服务器和一个自定义的 websocket 主机名，用于模块热更新。通常，webpack-dev-server 默认为 <code>window.location.hostname</code> 作为 SockJS 主机名。你可以使用这个变量同时在多个Create React App 项目上启动本地开发。更多细节请参见 <a href="https://webpack.js.org/configuration/dev-server/#devserversockhost" target="_blank" rel="noopener noreferrer">webpack-dev-server文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h4 id="wds-socket-path-开发环境-指定自定义的-websocket-路径"><a href="#wds-socket-path-开发环境-指定自定义的-websocket-路径" class="header-anchor">#</a> <code>WDS_SOCKET_PATH</code> 开发环境，指定自定义的 websocket 路径</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>当设置时，Create React App 将运行开发服务器，并带有一个自定义的 websocket 路径，用于模块热更新。通常，webpack-dev-server 默认为 <code>/sockjs-node</code> 作为 SockJS 路径名。你可以使用这个变量同时在多个 Create React App 项目上启动本地开发。更多细节请参见 <a href="https://webpack.js.org/configuration/dev-server/#devserversockpath" target="_blank" rel="noopener noreferrer">webpack-dev-server文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <h4 id="wds-socket-port-开发环境-指定自定义的-websocket-端口"><a href="#wds-socket-port-开发环境-指定自定义的-websocket-端口" class="header-anchor">#</a> <code>WDS_SOCKET_PORT</code> 开发环境，指定自定义的 websocket 端口</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>当设置时，Create React App 将运行开发服务器和一个自定义的 websocket 端口，用于模块热更新。通常，webpack-dev-server 默认为 <code>window.location.port</code> 作为 SockJS 端口。你可以使用这个变量同时在多个 Create React App 项目上启动本地开发。更多细节请参见 <a href="https://webpack.js.org/configuration/dev-server/#devserversockport" target="_blank" rel="noopener noreferrer">webpack-dev-server文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <h4 id="public-url-开发-生产环境-指定服务器资源存放路径"><a href="#public-url-开发-生产环境-指定服务器资源存放路径" class="header-anchor">#</a> <code>PUBLIC_URL</code> 开发&amp;生产环境，指定服务器资源存放路径</h4> <p>开发环境：是</p> <p>生产环境：是</p> <p>Create React App 假定你的应用程序托管在 web 服务器的根目录或 <code>package.json</code> 中的 <code>homepage</code> 指定的路径中。通常，Create React App 会忽略主机名。您可以使用此变量强制将资产逐字引用到您提供的 url(包括主机名)。当使用 CDN 托管应用程序时，这会特别有用。</p> <h4 id="build-path-生产环境-指定打包构建的存放目录-默认-build"><a href="#build-path-生产环境-指定打包构建的存放目录-默认-build" class="header-anchor">#</a> <code>BUILD_PATH</code> 生产环境，指定打包构建的存放目录，默认 <code>/build</code></h4> <p>开发环境：否</p> <p>生产环境：是</p> <p>默认情况下，Create React App 会将编译后的资源输出到与 <code>/src</code> 同级的 <code>/build</code> 目录中。可以使用这个变量为 Create React App 指定一个新的路径来输出资源。<code>BUILD_PATH</code> 应该被指定为一个相对于项目根的路径。</p> <h4 id="ci-开发-生产环境-是否启用-ci-控制"><a href="#ci-开发-生产环境-是否启用-ci-控制" class="header-anchor">#</a> <code>CI</code> 开发&amp;生产环境，是否启用 CI 控制</h4> <p>开发环境：是</p> <p>生产环境：是</p> <p>当设置为 <code>true</code> 时，Create React App 将警告视为构建失败。它还使测试运行程序不具有监视性。大多数 ci 默认启用此功能。</p> <h4 id="react-editor-开发环境-设置编辑器检测功能"><a href="#react-editor-开发环境-设置编辑器检测功能" class="header-anchor">#</a> <code>REACT_EDITOR</code> 开发环境，设置编辑器检测功能</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>当一个应用程序在开发中崩溃时，你会看到一个带有可点击堆栈跟踪的错误叠加。当你点击它时，Create React App 将尝试根据当前运行的进程来确定你正在使用的编辑器，并打开相关的源文件。设置此环境变量将覆盖自动检测。如果这样做，请确保系统 <code>PATH</code> 环境变量指向编辑器的 <code>bin</code> 目录。也可以将其设置为 <code>none</code> 以完全禁用它。</p> <h4 id="chokidar-usepolling-开发环境-是否启用轮询进行热更新检测-默认-false"><a href="#chokidar-usepolling-开发环境-是否启用轮询进行热更新检测-默认-false" class="header-anchor">#</a> <code>CHOKIDAR_USEPOLLING</code> 开发环境，是否启用轮询进行热更新检测，默认 false</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>当设置为 <code>true</code> 时，监控器将根据需要在 VM 中以轮询模式运行。如果 <code>npm start</code> 没有检测到更改，请启用此选项。</p> <h4 id="generate-sourcemap-生产环境-是否生成生产环境下的-sourcemap-源码映射-默认-true"><a href="#generate-sourcemap-生产环境-是否生成生产环境下的-sourcemap-源码映射-默认-true" class="header-anchor">#</a> <code>GENERATE_SOURCEMAP</code> 生产环境，是否生成生产环境下的 SOURCEMAP 源码映射，默认 true</h4> <p>开发环境：否</p> <p>生产环境：是</p> <p>当设置为 <code>false</code> 时，不会为生产构建生成源映射。这解决了一些较小机器上的内存不足(OOM)问题。</p> <h4 id="inline-runtime-chunk-生产环境-是否将运行时嵌入到-index-html-中-默认-true"><a href="#inline-runtime-chunk-生产环境-是否将运行时嵌入到-index-html-中-默认-true" class="header-anchor">#</a> <code>INLINE_RUNTIME_CHUNK</code> 生产环境，是否将运行时嵌入到 <code>index.html</code> 中，默认 true</h4> <p>开发环境：否</p> <p>生产环境：是</p> <p>默认情况下，Create React App 会在产品构建期间将运行时脚本嵌入到 <code>index.html</code> 中。当设置为 <code>false</code> 时，脚本将不会被嵌入，并且将像其他脚本一样被导入。处理 CSP 时通常需要这样做。</p> <h4 id="image-inline-size-limit-生产环境-设置图片被转为-base64-编码的阈值-默认-10000-字节"><a href="#image-inline-size-limit-生产环境-设置图片被转为-base64-编码的阈值-默认-10000-字节" class="header-anchor">#</a> <code>IMAGE_INLINE_SIZE_LIMIT</code> 生产环境，设置图片被转为 base64 编码的阈值，默认 <code>10000</code> (字节)</h4> <p>开发环境：否</p> <p>生产环境：是</p> <p>默认情况下，小于 <code>10000</code> Byte(字节)的图像在 base64 中被编码为一个 data URI，并内联在 CSS 或 JS 构建文件中。设置它以控制大小限制(以字节为单位)。将其设置为 <code>0</code> 将禁用图像内联。</p> <h4 id="fast-refresh-开发环境-是否启用-fast-refresh-快速刷新功能-默认-true"><a href="#fast-refresh-开发环境-是否启用-fast-refresh-快速刷新功能-默认-true" class="header-anchor">#</a> <code>FAST_REFRESH</code> 开发环境，是否启用 FAST_REFRESH 快速刷新功能，默认 true</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>当设置为 <code>false</code> 时，禁用对 <code>Fast Refresh</code> 的实验性支持，以允许您实时调整组件而无需重新加载页面。</p> <h4 id="tsc-compile-on-error-开发-生产环境-是否在-typescript-检测到类型错误时中断编译-默认-false"><a href="#tsc-compile-on-error-开发-生产环境-是否在-typescript-检测到类型错误时中断编译-默认-false" class="header-anchor">#</a> <code>TSC_COMPILE_ON_ERROR</code> 开发&amp;生产环境，是否在 TypeScript 检测到类型错误时中断编译，默认 false</h4> <p>开发环境：是</p> <p>生产环境：是</p> <p>当设置为 <code>true</code> 时，即使存在 <code>TypeScript</code> 类型检查错误，你也可以运行并正确构建 TypeScript 项目。这些错误将在终端 和 浏览器控制台中作为警告打印出来。</p> <h4 id="eslint-no-dev-errors-开发环境-是否禁用-eslint-在开发环境下报告错误-只报告警告-默认-false"><a href="#eslint-no-dev-errors-开发环境-是否禁用-eslint-在开发环境下报告错误-只报告警告-默认-false" class="header-anchor">#</a> <code>ESLINT_NO_DEV_ERRORS</code> 开发环境，是否禁用 ESLint 在开发环境下报告错误（只报告警告），默认 false</h4> <p>开发环境：是</p> <p>生产环境：否</p> <p>当设置为 <code>true</code> 时，ESLint 错误将在开发期间转换为警告。因此，ESLint 输出的错误信息将不再覆盖实际的页面。</p> <h4 id="disable-eslint-plugin-开发-生产环境-是否禁用-eslint-webpack-plugin"><a href="#disable-eslint-plugin-开发-生产环境-是否禁用-eslint-webpack-plugin" class="header-anchor">#</a> <code>DISABLE_ESLINT_PLUGIN</code> 开发&amp;生产环境，是否禁用 eslint-webpack-plugin</h4> <p>开发环境：是</p> <p>生产环境：是</p> <p>当设置为 <code>true</code> 时， <code>eslint-webpack-plugin</code> 将被完全禁用。</p> <h4 id="disable-new-jsx-transform-开发-生产环境-是否禁用-react-17-推出的新的-jsx-转换"><a href="#disable-new-jsx-transform-开发-生产环境-是否禁用-react-17-推出的新的-jsx-转换" class="header-anchor">#</a> <code>DISABLE_NEW_JSX_TRANSFORM</code> 开发&amp;生产环境，是否禁用 React 17 推出的新的 JSX 转换</h4> <p>开发环境：是</p> <p>生产环境：是</p> <p>当设置为 <code>true</code> 时，禁用 <code>React 17</code> 中引入的新的 JSX 转换，并将其反向移植到React <code>16.14.0</code> 、 <code>15.7.0</code> 和 <code>0.14.10</code> 。新项目将使用一个默认支持这个功能的 React 版本，但是如果你不能升级React，你可能需要在现有项目中禁用它。</p> <h3 id="弹出-eject-配置的替代方式"><a href="#弹出-eject-配置的替代方式" class="header-anchor">#</a> 弹出(eject)配置的替代方式</h3> <p>使用 <code>npm run eject</code> 弹出配置将允许您自定义任何内容，但从那一刻起，您必须自己维护配置和脚本。如果您有许多类似的项目，那么这可能会令人望而生畏。在这种情况下，我们建议 fork <code>react-scripts</code> 和您需要的任何其他包，而不是弹出。</p> <p>查看这篇文章，<a href="https://auth0.com/blog/how-to-configure-create-react-app/" target="_blank" rel="noopener noreferrer">Customizing create-react-app: How to Make Your Own Template<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 了解如何自定义配置。</p> <p>也可以查看这个 Issue <a href="https://github.com/facebook/create-react-app/issues/682" target="_blank" rel="noopener noreferrer">Document maintaining a fork of react-scripts as an alternative to ejecting #682<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>代替 eject 的方式有几种方式，任选一种即可。</p> <h4 id="方式一-react-app-rewired-customize-cra"><a href="#方式一-react-app-rewired-customize-cra" class="header-anchor">#</a> 方式一：react-app-rewired + customize-cra</h4> <p><a href="https://github.com/timarney/react-app-rewired" target="_blank" rel="noopener noreferrer">react-app-rewired<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 负责运行构建，<a href="https://github.com/arackaf/customize-cra" target="_blank" rel="noopener noreferrer">customize-cra<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 暴露了一些 <a href="https://github.com/arackaf/customize-cra/blob/master/api.md" target="_blank" rel="noopener noreferrer">api<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 用于对配置的修改。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D react-app-rewired customize-cra
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>比如配置 <code>antd</code> 的按需加载</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D babel-plugin-import
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在项目根目录创建 <code>config-overrides.js</code> 写入配置：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> override<span class="token punctuation">,</span> fixBabelImports <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'customize-cra'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>
  <span class="token function">fixBabelImports</span><span class="token punctuation">(</span><span class="token string">'import'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    libraryName<span class="token operator">:</span> <span class="token string">'antd-mobile'</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> <span class="token string">'css'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="方式二-craco"><a href="#方式二-craco" class="header-anchor">#</a> 方式二： craco</h4> <p><a href="https://github.com/gsoft-inc/craco" target="_blank" rel="noopener noreferrer">craco<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是另一种方式，不需要搭配其他插件使用。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/drylint/vuepress-template/edit/master/React/create-react-app.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.11f8e218.js" defer></script><script src="/assets/js/2.fbdcd9f4.js" defer></script><script src="/assets/js/115.9b54f0d3.js" defer></script>
  </body>
</html>
